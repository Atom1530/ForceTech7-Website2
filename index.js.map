{"version":3,"file":"index.js","sources":["../src/js/api.js","../src/js/artists.js","../src/js/header.js"],"sourcesContent":["\nimport axios from 'axios';\n\n\nlet page = 1\n// FUNCTION FOR ARTISTS SECTION\nexport async function fetchArtists() {\n    try {\n        const res = await axios.get(\"https://sound-wave.b.goit.study/api/artists\", { params: { limit: 8, page } });\n        page += 1;\n        return {\n\n\n            artists: res.data.artists,\n            totalArtists: res.data.totalArtists,\n        }\n    } catch (err) {\n        return { artists: [], totalArtists: 0 };\n    }\n}\n\n// FUNCTION FOR MODAL WINDOW\nexport async function fetchIndAboutArtist(id) {\n    try {\n        const res = await axios.get(`https://sound-wave.b.goit.study/api/artists/${id}/albums`)\n        return { albums: res.data };\n\n\n    } catch (err) {\n\n        return { albums: [] }\n    }\n    // IT IS NECESSARY TO DESTRUCT THE DATA WHEN USING\n}\n\n","import { fetchArtists } from \"./api\";\nfunction deactivateBtn() {\n  button.classList.add('lm-non-ative')\n}\nfunction activeBtn() {\n  button.classList.remove('lm-non-ative')\n}\nfunction hideBtn() {\n  button.classList.add('hiden')\n}\nfunction showBtn() {\n  button.classList.remove('hiden')\n}\nfunction hideLoader() {\n  loader.classList.add('hiden')\n}\nfunction showLoader() {\n  loader.classList.remove('hiden')\n}\n\nconst button = document.querySelector('.load-more')\nconst loader = document.querySelector('.loader')\nconst gallery = document.querySelector('.gallery')\nlet artistId = 0\n\n// =====================================================================================================\n// повертає id при кліку\nexport function getArtistIdFromClick(e) {\n  const btn = e.target.closest('.card__link');\n  if (!btn) return null;\n\n  const artistCard = btn.closest('.card__body');\n  return artistCard.dataset.id;\n}\n// =====================================================================================================\n\ngallery.addEventListener('click', (e) => {\n  const artistId = getArtistIdFromClick(e)\n\n  // MUST WILL BE IMPORT FUNCTION name=\"openModal\"\n  openModal(artistId)\n\n});\n\n\nfunction createListArtists(images) {\n  const markup = images.map(({ id, strArtistThumb, genres, strArtist, strBiographyEN }) => `\n  <div class=\"card\">\n      <div class=\"card__media\">\n    <img src=\"${strArtistThumb}\" alt=\"${strArtist}\" />\n  </div>\n  <div class=\"card__body\" data-id=\"${id}\">\n    <div class=\"tags\">\n      ${genres.map(genre => `<span class=\"tag\">${genre}</span>`).join('')}\n    </div>\n    <h3 class=\"card__title\">${strArtist}</h3>\n    <p class=\"card__text\">${strBiographyEN}</p>\n    <div class=\"card__footer\">\n      <button class=\"card__link\">Learn More <svg class=\"icon-learn-more\">\n            <use href=\"../img/sprite.svg#icon-icon_play_artists_sections\"></use>\n        </svg></button>\n    </div>\n  </div>\n  </div>\n`).join('');\n  const gallery = document.querySelector('.gallery')\n  gallery.insertAdjacentHTML('beforeend', markup)\n}\n\n\nfetchArtists().then(({ artists, totalArtists, }) => {\n  hideLoader()\n  createListArtists(artists);\n  showBtn()\n});\n\nfunction loadMore(images) {\n\n  const noDescAvailable = 'No description available'\n  const markup = images.map(({ id, strArtistThumb, genres, strArtist, strBiographyEN }) => {\n    let description = strBiographyEN\n    if (!description) {\n      description = noDescAvailable\n    }\n    return `<div class=\"card\">\n      <div class=\"card__media\">\n    <img src=\"${strArtistThumb}\" alt=\"${strArtist}\" />\n  </div>\n  <div class=\"card__body\" data-id=\"${id}\">\n    <div class=\"tags\">\n      ${genres.map(genre => `<span class=\"tag\">${genre}</span>`).join('')}\n    </div>\n    <h3 class=\"card__title\">${strArtist}</h3>\n    <p class=\"card__text\">${description}</p>\n    <div class=\"card__footer\">\n<button class=\"card__link\">Learn More <svg class=\"icon-learn-more\">\n            <use href=\"../img/sprite.svg#icon-icon_play_artists_sections\"></use>\n        </svg></button>\n    </div>\n  </div>\n  </div>\n`}).join('');\n\n  const gallery = document.querySelector('.gallery')\n  gallery.insertAdjacentHTML('beforeend', markup)\n}\n\nlet loadedArtists = 8; // скільки вже завантажено\n\nbutton.addEventListener('click', () => {\n  hideBtn()\n  showLoader()\n  fetchArtists().then(({ artists, totalArtists }) => {\n    loadMore(artists)\n    hideLoader()\n    loadedArtists += artists.length\n    if (loadedArtists >= totalArtists) {\n      deactivateBtn()\n      button.disabled = true;\n      return\n    }\n    showBtn()\n  })\n\n})\n\n","const refs = {\n  openBtn: document.querySelector('[data-menu-open]'),\n  closeBtn: document.querySelector('[data-menu-close]'),\n  menu: document.querySelector('[data-menu]'),\n  links: document.querySelectorAll('[data-menu-link]'),\n  logos: document.querySelectorAll('.header-logo'),\n  header: document.querySelector('.header'),\n};\n\nfunction openMenu() {\n  if (!refs.menu) return;\n  refs.menu.hidden = false;\n  refs.menu.classList.add('show');\n  document.body.style.overflow = 'hidden';\n  refs.openBtn?.setAttribute('aria-expanded', 'true');\n}\n\nfunction closeMenu() {\n  if (!refs.menu) return;\n  refs.menu.classList.remove('show');\n  setTimeout(() => {\n    refs.menu.hidden = true;\n  }, 400);\n  document.body.style.overflow = '';\n  refs.openBtn?.setAttribute('aria-expanded', 'false');\n}\n\nfunction smoothScroll(targetId) {\n  const target = document.querySelector(targetId);\n  if (!target) return;\n  target.scrollIntoView({ behavior: 'smooth', block: 'start' });\n}\n\nrefs.openBtn?.addEventListener('click', openMenu);\nrefs.closeBtn?.addEventListener('click', closeMenu);\n\nrefs.links.forEach(link =>\n  link.addEventListener('click', e => {\n    e.preventDefault();\n    const targetId = link.getAttribute('href');\n    closeMenu();\n    smoothScroll(targetId);\n  })\n);\n\nrefs.logos.forEach(logo => {\n  logo.addEventListener('click', e => {\n    if (logo.closest('.mobile-menu')) {\n      e.preventDefault();\n      closeMenu();\n      setTimeout(() => {\n        window.location.href = logo.getAttribute('href');\n      }, 400);\n    }\n  });\n});\n\nrefs.menu?.addEventListener('click', e => {\n  if (e.target === refs.menu) {\n    closeMenu();\n  }\n});\n\ndocument.addEventListener('keydown', e => {\n  if (e.key === 'Escape' && refs.menu?.classList.contains('show')) {\n    closeMenu();\n  }\n});\n\nconst sections = document.querySelectorAll('section[id]');\nconst navLinks = document.querySelectorAll(\n  '.header-nav-link, .mobile-menu-nav-link'\n);\n\nfunction onScroll() {\n  const scrollPos = window.scrollY + refs.header.offsetHeight + 10;\n\n  sections.forEach(sec => {\n    if (\n      scrollPos >= sec.offsetTop &&\n      scrollPos < sec.offsetTop + sec.offsetHeight\n    ) {\n      const id = sec.getAttribute('id');\n      navLinks.forEach(link => {\n        link.classList.toggle(\n          'active',\n          link.getAttribute('href') === `#${id}`\n        );\n      });\n    }\n  });\n}\n\nwindow.addEventListener('scroll', onScroll);"],"names":["page","fetchArtists","res","axios","deactivateBtn","button","hideBtn","showBtn","hideLoader","loader","showLoader","gallery","getArtistIdFromClick","btn","artistId","createListArtists","images","markup","id","strArtistThumb","genres","strArtist","strBiographyEN","genre","artists","totalArtists","loadMore","noDescAvailable","description","loadedArtists","refs","openMenu","_a","closeMenu","smoothScroll","targetId","target","link","e","logo","sections","navLinks","onScroll","scrollPos","sec"],"mappings":"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"}