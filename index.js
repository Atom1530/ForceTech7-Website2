import{a as xn,S as Tn,i as ve}from"./assets/vendor-BGCTnJtW.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(a){if(a.ep)return;a.ep=!0;const c=n(a);fetch(a.href,c)}})();const Mn=/localhost|127\.0\.0\.1/.test(location.hostname)||(document.documentElement.getAttribute("data-env")||"").toLowerCase()==="dev",rt=(...e)=>{Mn&&console.warn(...e)},st=xn.create({baseURL:"https://sound-wave.b.goit.study/api",timeout:15e3});async function qn({page:e=1,limit:t=8,genre:n="",sort:o="",name:a=""}={}){var c;try{const u={page:Math.max(1,Number(e)||1),limit:Math.max(1,Number(t)||8)},p=String(o).toLowerCase();(p==="asc"||p==="desc")&&(u.sortName=p);const _=String(n).trim();_&&_!=="All Genres"&&(u.genre=_);const L=String(a).trim();L.length>=1&&(u.name=L);const{data:h}=await st.get("/artists",{params:u});return{artists:Array.isArray(h==null?void 0:h.artists)?h.artists:[],totalArtists:Number((h==null?void 0:h.totalArtists)||0),page:Number((h==null?void 0:h.page)||u.page),limit:Number((h==null?void 0:h.limit)||u.limit)}}catch(u){rt("[api] fetchArtists",(u==null?void 0:u.message)||u);try{(c=window.__toast)==null||c.error("Не удалось загрузить артистов. Попробуйте позже.")}catch{}return{artists:[],totalArtists:0,page:1,limit:t}}}async function Pn(){var e;try{const{data:t}=await st.get("/genres"),o=(Array.isArray(t)?t:(t==null?void 0:t.genres)||[]).map(c=>typeof c=="string"?c:(c==null?void 0:c.name)||(c==null?void 0:c.title)||(c==null?void 0:c.genre)||(c==null?void 0:c.label)||"").filter(Boolean);return["All Genres",...[...new Set(o)]]}catch(t){rt("[api] fetchGenres",(t==null?void 0:t.message)||t);try{(e=window.__toast)==null||e.error("Не удалось загрузить жанры.")}catch{}return["All Genres"]}}async function $n(e){var t;try{const{data:n}=await st.get(`/artists/${e}`);return n||null}catch(n){rt("[api] fetchArtist",(n==null?void 0:n.message)||n);try{(t=window.__toast)==null||t.error("Не удалось загрузить артиста.")}catch{}return null}}async function Cn(e){var t;try{const{data:n}=await st.get(`/artists/${e}/albums`);return Array.isArray(n)?n:Array.isArray(n==null?void 0:n.albumsList)?n.albumsList:Array.isArray(n==null?void 0:n.albums)?n.albums:[]}catch(n){rt("[api] albums",(n==null?void 0:n.message)||n);try{(t=window.__toast)==null||t.error("Не удалось загрузить альбомы.")}catch{}return[]}}let E,Se,he,$e,tt=!1;function jt(){if(tt)return;const e=window.AudioContext||window.webkitAudioContext;if(!e)return;E=new e,he=E.createDynamicsCompressor(),he.threshold.value=-26,he.knee.value=22,he.ratio.value=6,he.attack.value=.004,he.release.value=.08,$e=E.createBiquadFilter(),$e.type="lowpass",$e.frequency.value=2300,$e.Q.value=.6,Se=E.createGain(),Se.gain.value=.11,Se.connect($e),$e.connect(he),he.connect(E.destination);const t=()=>{try{E.resume()}catch{}window.removeEventListener("pointerdown",t),window.removeEventListener("keydown",t),window.removeEventListener("touchstart",t)};window.addEventListener("pointerdown",t,{once:!0,passive:!0}),window.addEventListener("keydown",t,{once:!0}),window.addEventListener("touchstart",t,{once:!0,passive:!0}),tt=!0}function Xt(){E&&E.state==="suspended"&&E.resume()}function Yn(){if(tt||jt(),!E)return;Xt();const e=E.currentTime+.004,t=.055,n=E.createBufferSource(),o=E.createBuffer(1,Math.max(32,E.sampleRate*t|0),E.sampleRate),a=o.getChannelData(0);for(let S=0;S<a.length;S++){const P=S/a.length;a[S]=(Math.random()*2-1)*Math.pow(1-P,2)}n.buffer=o;const c=E.createBiquadFilter();c.type="bandpass",c.frequency.value=2050,c.Q.value=.9;const u=E.createBiquadFilter();u.type="highpass",u.frequency.value=360,u.Q.value=.7;const p=E.createGain();p.gain.setValueAtTime(1e-4,e),p.gain.linearRampToValueAtTime(.45,e+.004),p.gain.exponentialRampToValueAtTime(1e-4,e+.055),n.connect(c),c.connect(u),u.connect(p),p.connect(Se),n.start(e),n.stop(e+.06);const _=E.createOscillator();_.type="triangle",_.frequency.setValueAtTime(2100,e);const L=E.createGain();L.gain.setValueAtTime(1e-4,e),L.gain.linearRampToValueAtTime(.2,e+.003),L.gain.exponentialRampToValueAtTime(1e-4,e+.05),_.connect(L),L.connect(Se),_.start(e),_.stop(e+.055);const h=E.createOscillator();h.type="sine",h.frequency.setValueAtTime(165,e);const w=E.createGain();w.gain.setValueAtTime(1e-4,e),w.gain.linearRampToValueAtTime(.05,e+.003),w.gain.exponentialRampToValueAtTime(1e-4,e+.042),h.connect(w),w.connect(Se),h.start(e),h.stop(e+.045)}function Nn(){if(tt||jt(),!E)return;Xt();const e=E.currentTime+.003,t=E.createOscillator();t.type="triangle",t.frequency.setValueAtTime(1750,e);const n=E.createGain();n.gain.setValueAtTime(1e-4,e),n.gain.linearRampToValueAtTime(.17,e+.003),n.gain.exponentialRampToValueAtTime(1e-4,e+.06),t.connect(n),n.connect(Se),t.start(e),t.stop(e+.065)}const m={tap:Yn,page:Nn},On=e=>(e==null?void 0:e.idArtist)||(e==null?void 0:e.id)||(e==null?void 0:e._id)||(e==null?void 0:e.artistId)||"",Bn=e=>Array.isArray(e==null?void 0:e.genres)?e.genres:typeof(e==null?void 0:e.strGenre)=="string"&&e.strGenre.trim()?e.strGenre.split(/,\s*/).filter(Boolean):e!=null&&e.genre?[e.genre]:[],Dn="https://via.placeholder.com/960x540?text=No+Image",Jt=(e={})=>({id:On(e),name:e.strArtist||e.name||"Unknown artist",image:e.strArtistThumb||e.thumb||e.photo||e.image||Dn,country:e.strCountry||e.country||"N/A",members:e.intMembers||e.members||"N/A",gender:e.strGender||e.sex||"N/A",biography:e.strBiographyEN||e.biography||e.about||"",genres:Bn(e),formedYear:e.intFormedYear||e.formedYear||e.yearStart||null,endedYear:e.intDisbandedYear||e.intDiedYear||e.disbandedYear||e.yearEnd||null}),In=(e={})=>({title:e.strTrack||e.title||e.name||"—",duration:Number(e.intDuration??e.duration??e.time??0),youtube:e.strMusicVid||e.youtube||e.youtube_url||e.url||e.movie||""}),Rn=(e={})=>{const t=Array.isArray(e.tracks)?e.tracks:Array.isArray(e.songs)?e.songs:Array.isArray(e.track)?e.track:[];return{title:e.strAlbum||e.title||e.name||"Album",tracks:t.map(In)}};async function zn(e){const t=await qn(e),o=(Array.isArray(t==null?void 0:t.artists)?t.artists:Array.isArray(t)?t:[]).map(Jt),a=Number((t==null?void 0:t.totalArtists)??(t==null?void 0:t.total)??o.length);return{artists:o,totalArtists:a}}async function Hn(){const e=await Pn();return Array.isArray(e)?e:Array.isArray(e==null?void 0:e.genres)?e.genres:[]}async function Kt(e){const t=await $n(e),n=Array.isArray(t)?t[0]:Array.isArray(t==null?void 0:t.artists)?t.artists[0]:t;return n?Jt(n):null}async function Zt(e){const t=await Cn(e);return(Array.isArray(t)?t:Array.isArray(t==null?void 0:t.albums)?t.albums:Array.isArray(t==null?void 0:t.album)?t.album:[]).map(Rn)}const Je={page:1,limit:8,total:0,sort:"",genre:"",q:"",isMobilePanelOpen:!1},ft=new Set;function at(){return{...Je}}function Vn(){const e=at();ft.forEach(t=>{try{t(e)}catch{}})}function Fn(e){return typeof e!="function"?()=>{}:(ft.add(e),()=>ft.delete(e))}function Gn(){return at()}function de(e={}){const t="genre"in e||"sort"in e||"q"in e,n={...Je,...e};t&&!("page"in e)&&(n.page=1),n.page=Math.max(1,Number(n.page)||1),n.limit=Math.max(1,Number(n.limit)||8),n.total=Math.max(0,Number(n.total)||0);let o=!1;for(const a of Object.keys(n))Je[a]!==n[a]&&(Je[a]=n[a],o=!0);return o&&Vn(),at()}function Qn(){return de({page:1,sort:"",genre:"",q:""})}const z={get(){return at()},setPage(e){de({page:Math.max(1,Number(e)||1)})},setLimit(e){de({limit:Math.max(1,Number(e)||8)})},setSort(e){de({sort:e||""})},setGenre(e){de({genre:e||""})},setQuery(e){de({q:(e||"").trim()})},setTotal(e){de({total:Math.max(0,Number(e)||0)})},setMobilePanel(e){de({isMobilePanelOpen:!!e})},reset(){Qn()}};let Ke=0,pt=0;function Wn(){if(Ke++===0){pt=window.scrollY||document.documentElement.scrollTop||0;const e=document.body.style;e.position="fixed",e.top=`-${pt}px`,e.left="0",e.right="0",e.width="100%",document.body.classList.add("scroll-locked")}}function Ut(e=!1){if(e&&(Ke=1),Ke>0&&--Ke===0){const t=document.body.style;t.position=t.top=t.left=t.right=t.width="",window.scrollTo(0,pt),document.body.classList.remove("scroll-locked")}}function $t(){Ut(!0)}typeof window<"u"&&(window.__unlockScroll=$t,window.addEventListener("pageshow",()=>$t()));let je=null;function Ie(){return window.YT&&window.YT.Player?Promise.resolve():(Ie._p||(Ie._p=new Promise((e,t)=>{const n=document.createElement("script");n.src="https://www.youtube.com/iframe_api",n.onerror=()=>t(new Error("YT API load failed")),document.head.appendChild(n);const o=setTimeout(()=>t(new Error("YT API timeout")),15e3);window.onYouTubeIframeAPIReady=()=>{clearTimeout(o),e()}})),Ie._p)}const lt=/iPad|iPhone|iPod/.test(navigator.userAgent);function Ct(e){if(!e)return"";if(/^[\w-]{11}$/.test(e))return e;try{const t=new URL(e);if(/youtu\.be$/.test(t.hostname))return t.pathname.slice(1);if(t.searchParams.get("v"))return t.searchParams.get("v");const n=t.pathname.match(/\/(embed|shorts|v)\/([^/?#]+)/);return n?n[2]:""}catch{return""}}const j=(e,t,n)=>Math.min(n,Math.max(t,e)),jn=e=>{const t=e.slice();for(let n=t.length-1;n>0;n--){const o=Math.random()*(n+1)|0;[t[n],t[o]]=[t[o],t[n]]}return t};function ct(e){e=Math.max(0,Math.round(Number(e)||0));const t=Math.floor(e/60),n=String(e%60).padStart(2,"0");return`${t}:${n}`}function en(){var qt,Pt;if(je)return je;const e=document.createElement("div");e.className="am-player",e.innerHTML=`
    <div class="am-player__inner">
      <div class="am-player__dragzone" aria-hidden="true" title="Drag the player"></div>

      <!-- Верхние кнопки: Hide слева от Close -->
      <button class="am-player__hide" type="button" aria-label="Hide">Hide</button>
      <button class="am-player__close" type="button" aria-label="Close">×</button>

      <div class="am-player__frame">
        <div class="am-player__host" id="am-player-host"></div>
        <!-- наша кнопка YouTube поверх кадра, влево-вверх -->
        <a class="am-player__ytlink" href="#" target="_blank" rel="noopener noreferrer" aria-label="Open on YouTube">YouTube ↗</a>
      </div>

      <div class="am-player__bar">
        <div class="am-player__left">
          <button class="am-player__skip am-player__prev" type="button" aria-label="Previous">⏮</button>
          <button class="am-player__play" type="button" aria-label="Play/Pause">▶</button>
          <button class="am-player__skip am-player__next" type="button" aria-label="Next">⏭</button>
          <span class="am-player__time"><span class="am-player__cur">0:00</span> / <span class="am-player__dur">0:00</span></span>
        </div>

        <div class="am-player__progresswrap">
          <input class="am-player__progress" type="range" min="0" max="1000" value="0" step="1" aria-label="Seek">
        </div>

        <div class="am-player__right">
          <button class="am-player__mute" type="button" aria-label="Mute/Unmute">🔈</button>
          <input class="am-player__slider" type="range" min="0" max="100" value="60" step="1" aria-label="Volume">
        </div>
      </div>
    </div>
  `,document.body.appendChild(e);let t=null;const n=e.querySelector("#am-player-host"),o=e.querySelector(".am-player__close"),a=e.querySelector(".am-player__hide"),c=e.querySelector(".am-player__play"),u=e.querySelector(".am-player__prev"),p=e.querySelector(".am-player__next"),_=e.querySelector(".am-player__mute"),L=e.querySelector(".am-player__slider"),h=e.querySelector(".am-player__progress"),w=e.querySelector(".am-player__cur"),S=e.querySelector(".am-player__dur"),P=e.querySelector(".am-player__dragzone"),f=e.querySelector(".am-player__ytlink");let i=null,M=!1,v=0,R=null,$=!1,F=60,we=!1,k=[],x=-1,Z=!1;const xe="amPlayerPos";let G=null;const T="amBubblePos2";let ge=!1,U=null,se=null,Te=null;lt&&(L.disabled=!0,L.title="On iOS the volume is hardware-only");function ae(r){e.classList.toggle("am-player--active",!!r),r&&re()}function ie(r){e.classList.toggle("am-player--min",!!r),r?qe(!0):re()}function oe(r){c.textContent=r?"⏸":"▶"}function Oe(r){_.textContent=r?"🔇":"🔈"}function Ge(r,l){if(w.textContent=ct(r),S.textContent=ct(l),!we){const y=l>0?Math.round(r/l*1e3):0;h.value=String(y)}}function le(){R&&(clearInterval(R),R=null)}function ee(){le(),R=setInterval(()=>{if(!M||!i||typeof i.getCurrentTime!="function")return;const r=i.getCurrentTime()||0,l=v||i.getDuration()||0;v=l,Ge(r,l)},250)}function te(){Te&&(clearTimeout(Te),Te=null)}function ce(r=2e3){setTimeout(Me,r)}function Qe(r){return Ie().then(()=>{if(i){try{i.destroy()}catch{}i=null}n.innerHTML='<div id="am-player-yt"></div>',i=new YT.Player("am-player-yt",{host:"https://www.youtube-nocookie.com",videoId:r,playerVars:{autoplay:1,rel:0,modestbranding:1,controls:1,enablejsapi:1,origin:location.origin},events:{onReady:()=>{M=!0,v=i.getDuration()||0,Ge(0,v),!lt&&typeof i.setVolume=="function"&&i.setVolume(F),$&&i.mute&&i.mute(),oe(!0),V(!0),Mt(F),ee(),te(),Te=setTimeout(()=>{try{i&&i.getPlayerState&&i.getPlayerState()!==YT.PlayerState.PLAYING&&(console.warn("Watchdog: видео не стартовало — пропускаем."),V(!1),ce(0))}catch{}},6e3)},onStateChange:l=>{l.data===YT.PlayerState.PLAYING?(te(),oe(!0),V(!0),ee()):l.data===YT.PlayerState.PAUSED?(oe(!1),V(!1),le()):l.data===YT.PlayerState.ENDED&&(oe(!1),V(!1),le(),te(),Me())},onError:l=>{console.error("YT Player error:",l==null?void 0:l.data),oe(!1),V(!1),le(),te(),ce(1200)}}})})}async function Q(r){if(!k.length)return;x=j(r,0,k.length-1);const l=k[x];if(!l||!/^[\w-]{11}$/.test(l))return console.warn("Некорректный YouTube ID, пропускаю:",l),ce(0);f.href=`https://www.youtube.com/watch?v=${l}`,ae(!0),M=!1,v=0,le(),te();try{await Qe(l)}catch(y){console.error("Не удалось воспроизвести:",l,y),ce(1200)}}function Me(){k.length&&(x<k.length-1?Q(x+1):Z&&Q(0))}function _e(){var y,A;const r=((y=window.visualViewport)==null?void 0:y.width)||document.documentElement.clientWidth||window.innerWidth,l=((A=window.visualViewport)==null?void 0:A.height)||document.documentElement.clientHeight||window.innerHeight;return{w:r,h:l}}function s(){if(!e.classList.contains("am-player--free"))return;const r=e.getBoundingClientRect(),{w:l,h:y}=_e();let A=j(r.left,8,Math.max(8,l-r.width-8)),B=j(r.top,8,Math.max(8,y-r.height-8));e.style.left=`${A}px`,e.style.top=`${B}px`;try{localStorage.setItem(xe,JSON.stringify({left:A,top:B}))}catch{}}function d(){let r=null;try{r=JSON.parse(localStorage.getItem(xe)||"null")}catch{}r&&Number.isFinite(r.left)&&Number.isFinite(r.top)?(e.classList.add("am-player--free"),e.style.transform="none",e.style.left=`${r.left}px`,e.style.top=`${r.top}px`,e.style.right="auto",e.style.bottom="auto",s()):(e.classList.remove("am-player--free"),e.style.left="",e.style.top="",e.style.right="",e.style.bottom="",e.style.transform="")}function g(r){var l;if(!e.classList.contains("am-player--free")){const y=e.getBoundingClientRect();e.classList.add("am-player--free"),e.style.transform="none",e.style.left=`${y.left}px`,e.style.top=`${y.top}px`,e.style.right="auto",e.style.bottom="auto"}G={startX:r.clientX,startY:r.clientY,baseLeft:parseFloat(e.style.left||"0"),baseTop:parseFloat(e.style.top||"0")},P.classList.add("dragging");try{(l=P.setPointerCapture)==null||l.call(P,r.pointerId)}catch{}}function Y(r){if(!G)return;let l=G.baseLeft+(r.clientX-G.startX),y=G.baseTop+(r.clientY-G.startY);const A=e.getBoundingClientRect(),{w:B,h:ne}=_e();l=j(l,8,Math.max(8,B-A.width-8)),y=j(y,8,Math.max(8,ne-A.height-8)),e.style.left=`${l}px`,e.style.top=`${y}px`}function W(r){var l;if(G){try{(l=P.releasePointerCapture)==null||l.call(P,r.pointerId)}catch{}P.classList.remove("dragging"),G=null,s()}}P.addEventListener("pointerdown",g),window.addEventListener("pointermove",Y),window.addEventListener("pointerup",W),window.addEventListener("resize",s),(qt=window.visualViewport)==null||qt.addEventListener("resize",s),window.addEventListener("orientationchange",s);function N(){return t||(t=document.createElement("button"),t.className="am-player__bubble is-paused",t.type="button",t.setAttribute("aria-label","Open player"),t.style.display="none",t.style.left="auto",t.style.top="auto",t.style.right="auto",t.style.bottom="auto",t.innerHTML='<span class="note">♪</span>',document.body.appendChild(t),t.addEventListener("pointerdown",r=>{ge=!1;try{t.setPointerCapture(r.pointerId)}catch{}const l=t.getBoundingClientRect();U={x:r.clientX,y:r.clientY,left:l.left,top:l.top}}),t.addEventListener("pointermove",r=>{if(!U)return;const l=r.clientX-U.x,y=r.clientY-U.y;Math.abs(l)+Math.abs(y)>3&&(ge=!0);const A=U.left+l|0,B=U.top+y|0;t.style.right="auto",t.style.bottom="auto",t.style.left=`${A}px`,t.style.top=`${B}px`}),t.addEventListener("pointerup",r=>{try{t.releasePointerCapture(r.pointerId)}catch{}ge||ie(!1),Be(),De(),U=null,ge=!1}),t)}function O(){const r=document.documentElement.clientWidth||window.innerWidth,l=document.documentElement.clientHeight||window.innerHeight;return{w:r,h:l}}function q(r,l,y,A){const{w:B,h:ne}=O(),ue=Math.max(1,B-y),Pe=Math.max(1,ne-A);se={left:r,top:l,width:y,height:A,rx:j(r/ue,0,1),ry:j(l/Pe,0,1)};try{localStorage.setItem(T,JSON.stringify(se))}catch{}}function Le(){if(se&&Number.isFinite(se.left)&&Number.isFinite(se.top))return se;try{const r=JSON.parse(localStorage.getItem(T)||"null");if(r&&Number.isFinite(r.rx)&&Number.isFinite(r.ry))return r}catch{}return null}function Ae(r,l=64){const{w:y,h:A}=O(),B=(r==null?void 0:r.width)||l,ne=(r==null?void 0:r.height)||l,ue=Math.max(1,y-B),Pe=Math.max(1,A-ne),We=j(Math.round(((r==null?void 0:r.rx)??.5)*ue),8,ue),kn=j(Math.round(((r==null?void 0:r.ry)??.8)*Pe),8,Pe);return{left:We,top:kn}}function qe(r=!0){const l=N();l.style.right="auto",l.style.bottom="auto",l.style.display="grid";const y=l.getBoundingClientRect();let A=r?Le():null,B,ne;if(A){const ue=Ae(A,y.width||64);B=ue.left,ne=ue.top}else{const{w:ue,h:Pe}=_e(),We=y.width||64;B=Math.max(8,Math.round((ue-We)/2)),ne=Math.max(8,Math.round(Pe-We-24))}l.style.left=`${B}px`,l.style.top=`${ne}px`,Be(),De()}function re(){t&&(t.style.display="none")}function V(r){N().classList.toggle("is-paused",!r)}function Mt(r){const l=N(),y=1.02+Math.max(0,Math.min(100,r))/100*.08;l.style.setProperty("--amp",y.toFixed(3))}function Be(r=8){if(!t||t.style.display==="none")return;const{w:l,h:y}=_e(),A=t.getBoundingClientRect();let B=j(A.left,r,Math.max(r,l-A.width-r)),ne=j(A.top,r,Math.max(r,y-A.height-r));t.style.right="auto",t.style.bottom="auto",t.style.left=`${B}px`,t.style.top=`${ne}px`}function De(){if(!t||t.style.display==="none")return;const r=t.getBoundingClientRect();q(r.left,r.top,r.width,r.height)}window.addEventListener("resize",()=>{Be(),De()}),(Pt=window.visualViewport)==null||Pt.addEventListener("resize",()=>{Be(),De()}),window.addEventListener("orientationchange",()=>{Be(),De()}),o.addEventListener("click",()=>{var r,l;try{(r=i==null?void 0:i.stopVideo)==null||r.call(i),(l=i==null?void 0:i.destroy)==null||l.call(i)}catch{}i=null,M=!1,v=0,le(),te(),ae(!1),ie(!1),k=[],x=-1,V(!1)}),a.addEventListener("click",()=>{ie(!0)}),f.addEventListener("click",()=>{var r,l;try{(r=i==null?void 0:i.stopVideo)==null||r.call(i),(l=i==null?void 0:i.destroy)==null||l.call(i)}catch{}i=null,M=!1,v=0,le(),te(),ae(!1),ie(!1),k=[],x=-1,V(!1)}),c.addEventListener("click",()=>{var l,y;if(!M||!i)return;(i.getPlayerState?i.getPlayerState():-1)===YT.PlayerState.PLAYING?((l=i.pauseVideo)==null||l.call(i),oe(!1),V(!1)):((y=i.playVideo)==null||y.call(i),oe(!0),V(!0))}),u.addEventListener("click",()=>{k.length&&Q(x>0?x-1:Z?k.length-1:0)}),p.addEventListener("click",()=>{k.length&&Q(x<k.length-1?x+1:Z?0:x)}),_.addEventListener("click",()=>{var r,l;i&&($=!$,$?(r=i.mute)==null||r.call(i):(l=i.unMute)==null||l.call(i),Oe($))}),L.addEventListener("input",()=>{var l,y,A;const r=Number(L.value)||0;F=r,lt||(l=i==null?void 0:i.setVolume)==null||l.call(i,r),r===0&&!$?($=!0,(y=i==null?void 0:i.mute)==null||y.call(i),Oe(!0)):r>0&&$&&($=!1,(A=i==null?void 0:i.unMute)==null||A.call(i),Oe(!1)),Mt(r)}),h.addEventListener("input",()=>{we=!0;const r=Number(h.value)||0,l=v>0?r/1e3*v:0;w.textContent=ct(l)}),h.addEventListener("change",()=>{var y;if(we=!1,!i||!v)return;const l=(Number(h.value)||0)/1e3*v;(y=i.seekTo)==null||y.call(i,l,!0)});async function bn(r){const l=Ct(r);l&&(k=[l],x=0,ie(!1),ae(!0),d(),await Q(0))}async function wn(r,l={}){const y=(r||[]).map(Ct).filter(Boolean);if(!y.length)return;Z=!!l.loop,k=l.shuffle?jn(y):y.slice();const B=j(Number(l.startIndex??0)||0,0,k.length-1);ie(!1),ae(!0),d(),await Q(B)}function _n(){k.length&&Q(x<k.length-1?x+1:Z?0:x)}function Ln(){k.length&&Q(x>0?x-1:Z?k.length-1:0)}function An(){return e.classList.contains("am-player--active")&&!e.classList.contains("am-player--min")}function En(){ie(!0)}function Sn(){o.click()}return je={open:bn,openQueue:wn,next:_n,prev:Ln,minimize:En,isActive:An,close:Sn},je}let C,Yt,yt,b,gt,ut,dt,Ne=!1,_t=0,Lt=0,X=0,J=0,D=1,ht=0,vt=0,Ze=0,Ue=0;const H=new Map;let ze=!1,it=0,At=1;const nt=(e,t,n)=>Math.max(t,Math.min(n,e)),tn=(e,t)=>Math.hypot(e.x-t.x,e.y-t.y),Xn=(e,t)=>({x:(e.x+t.x)/2,y:(e.y+t.y)/2});function Jn(){if(C)return;C=document.createElement("div"),C.className="am-zoom",C.innerHTML=`
    <div class="am-zoom__backdrop"></div>
    <div class="am-zoom__dialog" role="dialog" aria-modal="true" aria-label="Image preview">
      <div class="am-zoom__stage">
        <img class="am-zoom__img" alt="">
      </div>
      <div class="am-zoom__bar">
        <a class="am-zoom__open" href="#" target="_blank" rel="noopener noreferrer">Open original ↗</a>
        <button class="am-zoom__close" type="button" aria-label="Close">×</button>
      </div>
    </div>`,document.body.appendChild(C),Object.assign(C.style,{position:"fixed",inset:"0",zIndex:"6000",display:"none"}),Yt=C.querySelector(".am-zoom__dialog"),Object.assign(Yt.style,{position:"absolute",inset:"0",display:"grid",gridTemplateRows:"1fr auto",gap:"12px",padding:"16px"}),dt=C.querySelector(".am-zoom__backdrop"),Object.assign(dt.style,{position:"absolute",inset:"0",background:"rgba(0,0,0,.7)"}),yt=C.querySelector(".am-zoom__stage"),Object.assign(yt.style,{position:"relative",background:"#000",borderRadius:"12px",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center",minHeight:"240px",height:"calc(100vh - 140px)",touchAction:"none"}),b=C.querySelector(".am-zoom__img"),b.style.maxWidth="100%",b.style.maxHeight="100%",b.style.width="auto",b.style.setProperty("height","auto","important"),b.style.objectFit="contain",b.style.transformOrigin="center center",b.style.willChange="transform",b.style.userSelect="none",b.style.webkitUserDrag="none",b.style.pointerEvents="auto";const e=C.querySelector(".am-zoom__bar");Object.assign(e.style,{display:"flex",justifyContent:"space-between",alignItems:"center",gap:"12px"}),gt=C.querySelector(".am-zoom__open"),gt.style.color="#fff",ut=C.querySelector(".am-zoom__close"),Object.assign(ut.style,{width:"40px",height:"40px",borderRadius:"10px",border:"none",background:"var(--color-affair, #764191)",color:"#fff",cursor:"pointer"}),dt.addEventListener("click",mt),ut.addEventListener("click",mt),C.addEventListener("wheel",Un,{passive:!1}),b.addEventListener("dblclick",Zn),b.addEventListener("pointerdown",er),b.addEventListener("pointermove",tr),b.addEventListener("pointerup",Nt),b.addEventListener("pointercancel",Nt),document.addEventListener("keydown",t=>{t.key==="Escape"&&bt()&&mt()}),window.addEventListener("resize",()=>{bt()&&(nn(),be())})}function Kn(){const e=b.style.transform;b.style.transform="translate3d(0,0,0) scale(1)";const t=b.getBoundingClientRect();b.style.transform=e,ht=t.width,vt=t.height}function nn(){const e=yt.getBoundingClientRect();Ze=e.width,Ue=e.height}function rn(){if(!ht||!vt||!Ze||!Ue)return;const e=ht*D,t=vt*D;if(e<=Ze)X=0;else{const n=(e-Ze)/2;X=nt(X,-n,n)}if(t<=Ue)J=0;else{const n=(t-Ue)/2;J=nt(J,-n,n)}}function be(){rn(),b.style.transform=`translate3d(${X}px, ${J}px, 0) scale(${D})`,b.style.cursor=D>1?Ne?"grabbing":"grab":"zoom-in"}function sn(e,t=""){if(!e)return;Jn(),H.clear(),ze=!1,it=0,At=1,Ne=!1,_t=Lt=0,X=J=0,D=1,b.src=e,b.alt=t||"",gt.href=e,C.style.display="block";const n=()=>{nn(),Kn(),rn(),be()};b.complete&&b.naturalWidth>0?requestAnimationFrame(n):b.onload=()=>requestAnimationFrame(n)}function mt(){C&&(C.style.display="none",b.src="",H.clear(),ze=!1)}function bt(){return!!(C&&C.style.display!=="none")}function Zn(){D=D>1?1:2,D===1&&(X=0,J=0),be()}function Un(e){if(!bt())return;e.preventDefault();const t=nt(D+(e.deltaY>0?-.15:.15),1,3),n=b.getBoundingClientRect(),o={x:e.clientX,y:e.clientY},a={x:n.left+n.width/2,y:n.top+n.height/2},c=t/D;X+=(a.x-o.x)*(1-c),J+=(a.y-o.y)*(1-c),D=t,D===1&&(X=0,J=0),be()}function er(e){if(H.set(e.pointerId,{x:e.clientX,y:e.clientY}),b.setPointerCapture(e.pointerId),H.size===2){const[t,n]=Array.from(H.values());ze=!0,it=tn(t,n)||1,At=D,Ne=!1;return}H.size===1&&D>1&&(Ne=!0,_t=e.clientX-X,Lt=e.clientY-J,be())}function tr(e){if(H.has(e.pointerId)){if(H.set(e.pointerId,{x:e.clientX,y:e.clientY}),ze&&H.size>=2){const[t,n]=Array.from(H.values()),o=tn(t,n)||1;let a=nt(At*(o/it),1,3);const c=Xn(t,n),u=b.getBoundingClientRect(),p={x:u.left+u.width/2,y:u.top+u.height/2},_=a/D;X+=(p.x-c.x)*(1-_),J+=(p.y-c.y)*(1-_),D=a,D===1&&(X=0,J=0),be();return}Ne&&H.size===1&&D>1&&(X=e.clientX-_t,J=e.clientY-Lt,be())}}function Nt(e){H.has(e.pointerId)&&H.delete(e.pointerId);try{b.releasePointerCapture(e.pointerId)}catch{}H.size<2&&(ze=!1,it=0),H.size===0&&(Ne=!1,be())}const nr="/img/sprite.svg";function rr(e){const t=Number(e);if(!Number.isFinite(t))return"—";const n=Math.round(t/1e3),o=Math.floor(n/60),a=String(n%60).padStart(2,"0");return`${o}:${a}`}function sr(e={}){const t=e.intFormedYear||e.yearStart||e.formedYear,n=e.intDisbandedYear||e.intDiedYear||e.yearEnd||e.disbandedYear;return t&&n?`${t}–${n}`:t?`${t}–present`:"information missing"}function ar(e={}){const t=e.strTrack||e.title||e.name||"—",n=rr(e.intDuration??e.duration??e.time),o=e.movie??e.youtube??e.youtube_url??e.url??e.strMusicVid;return`
    <li class="tr">
      <span>${t}</span>
      <span>${n}</span>
      <span>${o?`<a class="yt" href="${o}" target="_blank" rel="noopener noreferrer" aria-label="Play">
               <svg class="ico am-yt" aria-hidden="true">
                 <use href="${nr}#icon-icon_youtube_footer"></use>
               </svg>
             </a>`:'<span class="yt-ph"></span>'}</span>
    </li>`}function ir(e=document){let t=e.querySelector("#artist-modal");return t||(t=e.createElement("div"),t.id="artist-modal",t.className="amodal",t.setAttribute("hidden",""),t.innerHTML=`
    <div class="amodal__backdrop"></div>
    <div class="amodal__dialog" role="dialog" aria-modal="true" aria-label="Artist details">
      <button id="am-close" class="amodal__close" type="button" aria-label="Close">×</button>
      <div id="am-body" class="amodal__body">
        <div class="amodal__loader loader"></div>
      </div>
    </div>`,e.body.appendChild(t),t)}function an(e=document){const t=(e&&e.querySelector?e.querySelector("#artist-modal"):null)||document.querySelector("#artist-modal")||ir(document),n=t.querySelector("#am-body"),o=t.querySelector("#am-close"),a=t.querySelector(".amodal__dialog"),c=en();let u=null,p=null;function _(){var f;u||(u=document.createElement("button"),u.type="button",u.className="amodal__scrolltop",u.setAttribute("aria-label","Scroll to top"),u.textContent="↑",a.appendChild(u),u.addEventListener("click",()=>{var i;(i=m==null?void 0:m.tap)==null||i.call(m),a.scrollTo({top:0,behavior:"smooth"})}),p=()=>{const M=a.getBoundingClientRect(),v=Math.max(24,window.innerWidth-(M.left+M.width)+24);u.style.right=`${v}px`,u.style.bottom="28px"},a.addEventListener("scroll",()=>{u.style.display=(a.scrollTop||0)>220?"flex":"none",p()}),window.addEventListener("resize",p),(f=window.visualViewport)==null||f.addEventListener("resize",p),window.addEventListener("orientationchange",p),p())}function L(){t.removeAttribute("hidden"),Wn(),_(),u&&(u.style.display="none"),n.innerHTML='<div class="amodal__loader loader"></div>',document.addEventListener("keydown",w)}function h(){var f;t.setAttribute("hidden",""),Ut(),n.innerHTML="",document.removeEventListener("keydown",w),u&&(u.style.display="none"),p&&(window.removeEventListener("resize",p),(f=window.visualViewport)==null||f.removeEventListener("resize",p),window.removeEventListener("orientationchange",p),p=null)}const w=f=>{var i;f.key==="Escape"&&((i=m==null?void 0:m.tap)==null||i.call(m),h())};o.addEventListener("click",()=>{var f;(f=m==null?void 0:m.tap)==null||f.call(m),h()}),t.addEventListener("click",f=>{var i;f.target.classList.contains("amodal__backdrop")&&((i=m==null?void 0:m.tap)==null||i.call(m),h())}),t.addEventListener("click",f=>{var v,R;const i=f.target.closest("a.yt");if(i){f.preventDefault(),(v=m==null?void 0:m.tap)==null||v.call(m),c.open(i.href);return}const M=f.target.closest(".amodal__img");if(M){(R=m==null?void 0:m.tap)==null||R.call(m);const $=M.currentSrc||M.getAttribute("src")||M.getAttribute("data-src")||"";sn($,M.getAttribute("alt")||"")}});async function S(f){const[i,M]=await Promise.all([Kt(f).catch(()=>({})),Zt(f).catch(()=>[])]),v=i||{},R=v.strArtist||v.name||"Unknown artist",$=v.strArtistThumb||v.photo||v.image||"https://via.placeholder.com/960x540?text=No+Image",F=v.strCountry||v.country||"N/A",we=v.intMembers||v.members||"N/A",k=v.strGender||v.sex||"N/A",x=v.strBiographyEN||v.about||"",Z=Array.isArray(v.genres)?v.genres:v.genre?[v.genre]:[],G=(Array.isArray(M)?M:[]).map(T=>{const ge=(T==null?void 0:T.strAlbum)||(T==null?void 0:T.title)||(T==null?void 0:T.name)||"Album",U=Array.isArray(T==null?void 0:T.tracks)?T.tracks:Array.isArray(T==null?void 0:T.songs)?T.songs:[];return`
        <div class="am-album">
          <div class="am-album__title">${ge}</div>
          <ul class="tbl">
            <li class="th"><span>Track</span><span>Time</span><span>Link</span></li>
            ${U.map(ar).join("")}
          </ul>
        </div>`}).join("");n.innerHTML=`
      <h3 class="amodal__title">${R}</h3>

      <div class="amodal__content">
        <img class="amodal__img" src="${$}" alt="${R}" loading="lazy">
        <div class="amodal__info">
          <div class="am-meta">
            <div class="am-meta__col">
              <div class="am-meta__item"><span class="lbl">Years active</span><span class="val">${sr(v)}</span></div>
              <div class="am-meta__item"><span class="lbl">Sex</span><span class="val">${k}</span></div>
            </div>
            <div class="am-meta__col">
              <div class="am-meta__item"><span class="lbl">Members</span><span class="val">${we}</span></div>
              <div class="am-meta__item"><span class="lbl">Country</span><span class="val">${F}</span></div>
            </div>
          </div>

          <div class="am-bio">
            <div class="lbl">Biography</div>
            <p>${x||"—"}</p>
          </div>

          ${Z.length?`<div class="am-tags">${Z.map(T=>`<span class="tag">${T}</span>`).join("")}</div>`:""}
        </div>
      </div>

      <h4 class="amodal__albums-title">Albums</h4>
      <div class="amodal__albums">
        ${G||"<p class='muted'>No albums found for this artist.</p>"}
      </div>`}async function P(f){var i;(i=m==null?void 0:m.tap)==null||i.call(m),L(),await S(f)}return{openFor:P,close:h}}const or={BASE_URL:"/ForceTech7-Website2/",DEV:!1,MODE:"production",PROD:!0,SSR:!1};function lr(){try{const t=document.querySelector("base");if(t!=null&&t.href)return new URL(t.getAttribute("href"),location.href).pathname.replace(/\/$/,"")}catch{}const e=typeof import.meta<"u"&&or?"/ForceTech7-Website2/":"";if(e)return e.replace(/\/$/,"");if(location.hostname.endsWith("github.io")){const t=location.pathname.split("/").filter(Boolean);return t.length?`/${t[0]}`:""}return""}const cr=lr(),Ot=`${cr}/img/sprite.svg`,ur=(e,t="ico")=>`<svg class="${t}" aria-hidden="true"><use href="${Ot}#${e}" xlink:href="${Ot}#${e}"></use></svg>`;function dr(e=document.querySelector("#artists-section")){var _e;if(!e)return;const t=e.querySelector("#filters-panel"),n=e.querySelector("#filters-toggle"),o=e.querySelector("#filters-reset"),a=e.querySelector("#filters-reset-sm"),c=e.querySelector("#view-toggle"),u=e.querySelector("#flt-q"),p=e.querySelector("#flt-q-btn"),_=e.querySelector('.dd[data-dd="sort"]'),L=e.querySelector("#dd-sort-btn"),h=e.querySelector("#dd-sort-list"),w=e.querySelector('.dd[data-dd="genre"]'),S=e.querySelector("#dd-genre-btn"),P=e.querySelector("#dd-genre-list"),f=e.querySelector("#artists-grid"),i=e.querySelector("#artists-pager"),M=e.querySelector("#artists-empty"),v=an(document);let R=0;const $=s=>s&&s.removeAttribute("hidden"),F=s=>s&&s.setAttribute("hidden",""),we=()=>matchMedia("(min-width:1440px)").matches,k=s=>((s==null?void 0:s.strArtist)||(s==null?void 0:s.name)||"").toLowerCase();function x(){const s=z.get();we()?(t==null||t.setAttribute("aria-hidden","false"),n==null||n.setAttribute("aria-expanded","false"),z.setMobilePanel(!1)):(t==null||t.setAttribute("aria-hidden",s.isMobilePanelOpen?"false":"true"),n==null||n.setAttribute("aria-expanded",s.isMobilePanelOpen?"true":"false"))}function Z(){const s=e.getBoundingClientRect().top+window.scrollY-16;window.scrollTo({top:s,behavior:"smooth"})}function xe(s){s?($(M),F(f),F(i),G()):(F(M),$(f))}function G(){f.style.height="",f.style.overflow="",f.style.transition="",f.style.willChange=""}function T(){return`
      <li class="card card--skel">
        <div class="card__media skel skel--media"></div>
        <div class="card__tags">
          <span class="tag skel skel--tag"></span>
          <span class="tag skel skel--tag"></span>
        </div>
        <div class="skel skel--title"></div>
        <div class="skel skel--text"></div>
      </li>`}function ge(s){const d=Math.max(1,Number(s)||8);f.innerHTML=new Array(d).fill(0).map(T).join(""),$(f),F(M),F(i)}function U(){f.querySelectorAll("img.img-fade").forEach(d=>{const g=()=>d.classList.add("is-loaded");d.complete&&d.naturalWidth>0?g():d.addEventListener("load",g,{once:!0})})}let se=null;function Te(s){const d=s??f.getBoundingClientRect().height;f.style.willChange="height",f.style.overflow="hidden",f.style.transition="none",f.style.height=`${Math.max(1,Math.round(d||0))}px`}function ae(){G()}function ie(s){s(),f.offsetHeight;const d=f.scrollHeight;f.style.transition="height 200ms ease",f.style.height=`${d}px`;const g=Y=>{Y.target!==f||Y.propertyName!=="height"||(f.removeEventListener("transitionend",g),ae())};f.addEventListener("transitionend",g),clearTimeout(se),se=setTimeout(ae,400)}function oe(s){const d=(s==null?void 0:s.id)||(s==null?void 0:s._id)||(s==null?void 0:s.artistId)||"",g=(s==null?void 0:s.strArtist)||(s==null?void 0:s.name)||"Unknown",Y=(s==null?void 0:s.strArtistThumb)||(s==null?void 0:s.photo)||(s==null?void 0:s.image)||"https://via.placeholder.com/960x540?text=No+Image",W=(s==null?void 0:s.strBiographyEN)||(s==null?void 0:s.about)||"",N=Array.isArray(s==null?void 0:s.genres)?s.genres:s!=null&&s.genre?[s.genre]:[];return`
      <li class="card" data-id="${d}">
        <div class="card__media">
          <img
            class="img-fade"
            src="${Y}"
            srcset="${Y} 1x, ${Y} 2x"
            sizes="(min-width:1440px) 50vw, (min-width:768px) 704px, 100vw"
            alt="${g}"
            loading="lazy"
          >
        </div>
        <div class="card__tags">${N.map(q=>`<span class="tag">${q}</span>`).join("")}</div>
        <h3 class="card__title">${g}</h3>
        <p class="card__text">${W}</p>
        <button class="card__link" data-action="more">
          Learn More
          ${ur("icon-icon_play_artists_sections")}
        </button>
      </li>`}function Oe(s){f.innerHTML=s.map(oe).join(""),U()}function Ge(s,d){if(d<=0){i.innerHTML="",F(i);return}if(d===1){i.innerHTML='<button class="active" data-page="1" disabled>1</button>',$(i);return}const g=(q,Le,Ae=!1,qe=!1)=>`<button ${Ae?"disabled":""} data-page="${Le}" class="${qe?"active":""}">${q}</button>`,Y=2,W=Math.max(1,s-Y),N=Math.min(d,s+Y),O=[];O.push(g("‹",Math.max(1,s-1),s===1,!1)),W>1&&(O.push(g("1",1,!1,s===1)),W>2&&O.push('<button class="dots">…</button>'));for(let q=W;q<=N;q++)O.push(g(String(q),q,!1,q===s));N<d&&(N<d-1&&O.push('<button class="dots">…</button>'),O.push(g(String(d),d,!1,s===d))),O.push(g("›",Math.min(d,s+1),s===d,!1)),i.innerHTML=O.join(""),$(i)}async function le(){try{w==null||w.classList.add("loading"),S==null||S.setAttribute("aria-busy","true"),S&&(S.disabled=!0),P.innerHTML=`
        <li class="dd__loading">
          <span class="dd__spinner" aria-hidden="true"></span>
          <span>Loading…</span>
        </li>`;const s=await Hn();P.innerHTML=s.map(d=>`<li data-val="${d}">${d}</li>`).join("")}catch{P.innerHTML='<li data-val="">All Genres</li>'}finally{w==null||w.classList.remove("loading"),S==null||S.removeAttribute("aria-busy"),S&&(S.disabled=!1)}}async function ee(s=!0){var qe;const d=++R,{page:g,limit:Y,genre:W,sort:N,q:O}=z.get();Te(f.getBoundingClientRect().height),ge(Y),F(i);let q=[],Le=0;try{const re=await zn({page:g,limit:Y,genre:W||"",sort:N||"",name:((qe=O==null?void 0:O.trim)==null?void 0:qe.call(O))||""});if(d!==R)return;q=Array.isArray(re.artists)?re.artists:[],Le=Number(re.totalArtists||q.length||0)}catch{if(d!==R)return;q=[],Le=0}let Ae=Math.max(1,Math.ceil(Le/Y));if(g>Ae&&s)return z.setPage(Ae),ee(!1);if(g<1&&s)return z.setPage(1),ee(!1);if(N==="asc"&&(q=q.slice().sort((re,V)=>k(re).localeCompare(k(V)))),N==="desc"&&(q=q.slice().sort((re,V)=>k(V).localeCompare(k(re)))),d===R){if(!q.length){f.innerHTML="",xe(!0),ae();return}xe(!1),ie(()=>Oe(q)),Ge(z.get().page,Ae)}}function te(s){[_,w].forEach(d=>{if(d!==s){d.classList.remove("open");const g=d.querySelector(".dd__list");g&&(g.style.display="none")}})}function ce(s){const d=!s.classList.contains("open");te(s),s.classList.toggle("open",d);const g=s.querySelector(".dd__list");g&&(g.style.display=d?"block":"none")}n==null||n.addEventListener("click",()=>{m.tap();const s=z.get();z.setMobilePanel(!s.isMobilePanelOpen),x()}),addEventListener("resize",x),L==null||L.addEventListener("click",()=>{m.tap(),ce(_)}),S==null||S.addEventListener("click",()=>{m.tap(),ce(w)}),document.addEventListener("click",s=>{s.target.closest(".dd")||te()}),h==null||h.addEventListener("click",s=>{const d=s.target.closest("li");d&&(m.tap(),z.setSort(d.dataset.val||""),ce(_),ee())}),P==null||P.addEventListener("click",s=>{const d=s.target.closest("li");if(!d)return;m.tap();const g=d.dataset.val||"";z.setGenre(g==="All Genres"?"":g),ce(w),ee(),L==null||L.focus()});function Qe(){m.tap(),z.setQuery((u==null?void 0:u.value.trim())||""),ee()}p==null||p.addEventListener("click",Qe),u==null||u.addEventListener("keydown",s=>{s.key==="Enter"&&Qe()});function Q(){z.reset(),u&&(u.value=""),te(),ee()}o==null||o.addEventListener("click",()=>{m.tap(),Q()}),a==null||a.addEventListener("click",()=>{m.tap(),Q(),z.setMobilePanel(!1),x()}),(_e=e.querySelector("#empty-reset"))==null||_e.addEventListener("click",()=>{m.tap(),Q()}),i==null||i.addEventListener("click",s=>{const d=s.target.closest("button[data-page]");if(!d||d.disabled)return;const g=Number(d.dataset.page)||1;g!==z.get().page&&(m.page(),Z(),z.setPage(g),ee())});const Me=e.closest(".artists1")||e;c==null||c.addEventListener("click",()=>{m.tap();const s=!Me.classList.contains("view-list");Me.classList.toggle("view-list",s),Me.classList.toggle("view-grid",!s),c.setAttribute("aria-pressed",String(s)),c.textContent=s?"Default view":"List view"}),f.addEventListener("click",s=>{var Y,W;const d=s.target.closest('[data-action="more"]');if(d){const N=(W=(Y=d.closest(".card"))==null?void 0:Y.dataset)==null?void 0:W.id;if(!N)return;m.tap(),v.openFor(N);return}const g=s.target.closest(".card__media img");if(g){m.tap();const N=g.currentSrc||g.src||g.getAttribute("src")||"";sn(N,g.getAttribute("alt")||"")}}),x(),le(),ee()}function mr(){const e=new URLSearchParams(location.search),t=(e.get("q")||"").trim(),n=e.get("genre")||"",o=e.get("sort")||"",a=Math.max(1,Number(e.get("page")||1));return{q:t,genre:n,sort:o,page:a}}function fr(e){const t=new URLSearchParams;return e.q&&t.set("q",e.q),e.genre&&t.set("genre",e.genre),e.sort&&t.set("sort",e.sort),e.page&&e.page!==1&&t.set("page",String(e.page)),t.toString()}function pr(){const e=mr(),t=Gn(),n={};let o=!1;for(const c of["q","genre","sort","page"])e[c]!==void 0&&e[c]!==t[c]&&(n[c]=e[c],o=!0);o&&de(n);let a=null;Fn(c=>{const u=fr(c);if(u===a)return;a=u;const p=u?`?${u}`:location.pathname;history.replaceState(null,"",p)})}const Bt=new Map;function yr(e){const t=e.querySelector("#artists-grid");if(!t)return;let n=null,o=null;function a(c){clearTimeout(n),n=setTimeout(async()=>{try{if(Bt.has(c))return;const[u,p]=await Promise.all([Kt(c),Zt(c)]);Bt.set(c,{artist:u,albums:p,ts:Date.now()})}catch{}},150)}t.addEventListener("mouseenter",c=>{var _,L;const u=c.target.closest('[data-action="more"]');if(!u)return;const p=(L=(_=u.closest(".card"))==null?void 0:_.dataset)==null?void 0:L.id;p&&(o=String(p),a(o))},!0),t.addEventListener("mouseleave",c=>{c.target.closest('[data-action="more"]')&&(clearTimeout(n),n=null,o=null)},!0)}function gr(e=document.querySelector("#artists-section")){e&&(pr(),an(e),yr(e),dr(e))}function hr(e){if(!e)return"";if(/^[\w-]{11}$/.test(e))return e;try{const t=new URL(e,location.href);if(/youtu\.be$/.test(t.hostname))return t.pathname.slice(1);if(t.searchParams.get("v"))return t.searchParams.get("v");const n=t.pathname.match(/\/(embed|shorts|v)\/([^/?#]+)/);return n?n[2]:""}catch{return""}}const ot=e=>Array.from(new Set(e.filter(Boolean)));function vr(e){const t=e.slice();for(let n=t.length-1;n>0;n--){const o=Math.random()*(n+1)|0;[t[n],t[o]]=[t[o],t[n]]}return t}const br=ot(["Zi_XLOBDo_Y","3JZ_D3ELwOQ","fRh_vgS2dFE","OPf0YbXqDm0","60ItHLz5WEA","2Vv-BfVoq4g","kXYiU_JCYtU","UceaB4D0jpo","RubBzkZzpUA","kJQP7kiw5Fk","CevxZvSJLk8","pRpeEdMmmQ0","IcrbM1l_BoI","YVkUvmDQ3HY","hT_nvWreIhg","09R8_2nJtjg","uelHwf8o7_U","JGwWNGJdvx8","YQHsXMglC9A","NmugSMBh_iI","LrUvu1mlWco","hLQl3WQQoQ0","RgKAFK5djSk","SlPhMPnQ58k","oRdxUFDoQe0","09z7j-LPz1E","Pkh8UtuejGw","tt2k8PGm-TI","lY2yjAdbvdQ","pXRviuL6vMY","09tj3yqpP5g","nfs8NYg7yQM","nCkpzqqog4k","M7lc1UVf-VE","fLexgOxsZu0","2vjPBrBU-TM","JGwWNGJdvx8","9bZkp7q19f0","e-ORhEE9VVg","hLQl3WQQoQ0","OPf0YbXqDm0","dQw4w9WgXcQ","Zi_XLOBDo_Y","gCYcHz2k5x0","ktvTqknDobU","ub82Xb1C8os","ktvTqknDobU","fKopy74weus","uelHwf8o7_U","Qv5fqunQ_4I","IcrbM1l_BoI","2vjPBrBU-TM","kXYiU_JCYtU","CevxZvSJLk8","kJQP7kiw5Fk","hT_nvWreIhg","vNoKguSdy4Y","0KSOMA3QBU0","lp-EO5I60KA","DK_0jXPuIr0","tVj0ZTS4WF4","6fVE8kSM43I","SlPhMPnQ58k","6Ejga4kJUts","JGwWNGJdvx8","gGdGFtwCNBE","YVkUvmDQ3HY","rYEDA3JcQqw","AtKZKl7Bgu0","0KSOMA3QBU0","ktvTqknDobU","hT_nvWreIhg","eVTXPUF4Oz4","kffacxfA7G4"]),on="am.radio.pool",Dt="am.radio.last";function ln(){try{const e=localStorage.getItem(on),t=e?JSON.parse(e):[];return Array.isArray(t)?ot(t):[]}catch{return[]}}function wr(e){try{localStorage.setItem(on,JSON.stringify(ot(e).slice(0,800)))}catch{}}function It(e){if(!(e!=null&&e.length))return;const t=new Set(ln());e.forEach(n=>t.add(n)),wr([...t])}function wt(e=document){const t=new Set;return e.querySelectorAll('a[href*="youtu"], a.yt').forEach(n=>{const o=n.getAttribute("href")||"",a=hr(o);a&&t.add(a)}),[...t]}function _r(){It(wt()),new MutationObserver(t=>{let n=[];for(const o of t)o.addedNodes&&o.addedNodes.forEach(a=>{a.nodeType===1&&(n=n.concat(wt(a)))});n.length&&It(n)}).observe(document.documentElement,{childList:!0,subtree:!0})}function Lr(){const e=ln(),t=wt();return ot([...br,...e,...t])}function Ar(e){const t=Lr();if(!t.length)return;let n=vr(t);const o=localStorage.getItem(Dt);o&&n.length>1&&n[0]===o&&n.push(n.shift()),localStorage.setItem(Dt,n[0]),e.openQueue(n,{shuffle:!1,loop:!0,startIndex:0})}document.addEventListener("DOMContentLoaded",()=>{try{gr()}catch{}const e=en();_r();const t=document.querySelector("#random-radio");t&&t.addEventListener("click",n=>{var o,a;n.preventDefault(),(o=e.isActive)!=null&&o.call(e)?(a=e.next)==null||a.call(e):Ar(e)})});const I={openBtn:document.querySelector("[data-menu-open]"),closeBtn:document.querySelector("[data-menu-close]"),menu:document.querySelector("[data-menu]"),links:document.querySelectorAll("[data-menu-link]"),logos:document.querySelectorAll(".header-logo"),header:document.querySelector(".header")};function Er(){var e;I.menu&&(I.menu.hidden=!1,I.menu.classList.add("show"),document.body.style.overflow="hidden",(e=I.openBtn)==null||e.setAttribute("aria-expanded","true"))}function He(){return new Promise(e=>{if(!I.menu)return e();I.menu.classList.remove("show"),setTimeout(()=>{var t;I.menu.hidden=!0,document.body.style.overflow="",(t=I.openBtn)==null||t.setAttribute("aria-expanded","false"),e()},400)})}function Et(){var e;return(((e=I.header)==null?void 0:e.offsetHeight)||80)+8}function St(){document.documentElement.style.scrollPaddingTop=`${Et()}px`}St();window.addEventListener("resize",()=>requestAnimationFrame(St));function kt(e,t=500){const n=(e||"").replace("#",""),o=document.getElementById(n)||document.getElementById(`${n}-section`);if(!o)return;const a=Et(),c=o.getBoundingClientRect().top+window.pageYOffset-a,u=window.pageYOffset,p=c-u;let _=null;const L=w=>w<.5?2*w*w:1-Math.pow(-2*w+2,2)/2;function h(w){_===null&&(_=w);const S=Math.min(1,(w-_)/t);window.scrollTo(0,u+p*L(S)),S<1?requestAnimationFrame(h):(o.setAttribute("tabindex","-1"),o.focus({preventScroll:!0}),setTimeout(()=>o.removeAttribute("tabindex"),0))}requestAnimationFrame(h)}var Ht;(Ht=I.openBtn)==null||Ht.addEventListener("click",Er);var Vt;(Vt=I.closeBtn)==null||Vt.addEventListener("click",He);I.logos.forEach(e=>{e.addEventListener("click",t=>{e.closest(".mobile-menu")&&(t.preventDefault(),He(),setTimeout(()=>{window.location.href=e.getAttribute("href")},400))})});var Ft;(Ft=I.menu)==null||Ft.addEventListener("click",e=>{e.target===I.menu&&He()});document.addEventListener("keydown",e=>{var t;e.key==="Escape"&&((t=I.menu)!=null&&t.classList.contains("show"))&&He()});const xt=document.querySelectorAll(".header-nav-link, .mobile-menu-nav-link"),Re=new Map;xt.forEach(e=>{const t=(e.getAttribute("href")||"").trim();if(!t.startsWith("#"))return;const n=t.slice(1),o=document.getElementById(n)||document.getElementById(`${n}-section`);o&&(Re.has(o)||Re.set(o,[]),Re.get(o).push(e))});let Rt=null;function cn(e){!e||Rt===e||(xt.forEach(t=>t.classList.remove("active")),(Re.get(e)||[]).forEach(t=>t.classList.add("active")),Rt=e)}let un=0;const Sr=700,kr=()=>Date.now()<un;let Xe;function dn(){Xe&&Xe.disconnect();const e=`-${Et()}px 0px -55% 0px`,t=new Map;Xe=new IntersectionObserver(n=>{if(n.forEach(a=>{t.set(a.target,a.isIntersecting?a.intersectionRatio:0)}),kr())return;const o=[...t.entries()].sort((a,c)=>c[1]-a[1])[0];o&&o[1]>0&&cn(o[0])},{root:null,rootMargin:e,threshold:[0,.25,.5,.75,1]}),Re.forEach((n,o)=>Xe.observe(o))}dn();window.addEventListener("resize",()=>requestAnimationFrame(dn));xt.forEach(e=>{e.addEventListener("click",t=>{if(e.matches("[data-menu-link]"))return;const n=(e.getAttribute("href")||"").trim();if(!n.startsWith("#"))return;t.preventDefault(),e.blur();const o=n.slice(1),a=document.getElementById(o)||document.getElementById(`${o}-section`);a&&(cn(a),un=Date.now()+Sr,kt(n))})});I.links.forEach(e=>e.addEventListener("click",async t=>{t.preventDefault(),e.blur();const n=e.getAttribute("href");await He(),kt(n)}));window.addEventListener("load",()=>{St(),location.hash&&setTimeout(()=>kt(location.hash),0)});const me=document.querySelector(".overlay"),Ce=document.querySelector(".feedback-btn");document.querySelector(".close-btn, .close-icon");const et=document.querySelector("#feedback-form"),Ve=document.querySelector(".feedback-section"),fe=document.querySelector(".form-input-name"),pe=document.querySelector(".form-input-message"),K=document.getElementById("customer-rating"),Tt="myFeedback";Ce==null||Ce.setAttribute("type","button");const Fe={y:0,lock(){this.y=window.scrollY||document.documentElement.scrollTop||0,document.body.style.position="fixed",document.body.style.top=`-${this.y}px`,document.body.style.left="0",document.body.style.right="0",document.body.style.width="100%"},unlock(){const e=this.y||0;document.body.style.position="",document.body.style.top="",document.body.style.left="",document.body.style.right="",document.body.style.width="",window.scrollTo(0,e),this.y=0}},mn="is-error",fn="touched";function Ee(e){if(!e)return;const t=!e.value.trim();e.classList.add(fn),e.classList.toggle(mn,t)}[fe,pe].forEach(e=>{e&&(e.addEventListener("blur",()=>Ee(e)),e.addEventListener("input",()=>Ee(e)))});Ce==null||Ce.addEventListener("click",()=>{me.classList.remove("hidden"),Ve.classList.add("hidden"),Fe.lock(),qr()});var Gt;(Gt=document.querySelector(".close-btn")||document.querySelector(".close-icon"))==null||Gt.addEventListener("click",()=>{me.classList.add("hidden"),Ve.classList.remove("hidden"),Fe.unlock(),ye(document.getElementById("customer-rating"),parseInt(K.dataset.rating)||0)});me==null||me.addEventListener("click",e=>{e.target===me&&(me.classList.add("hidden"),Ve.classList.remove("hidden"),Fe.unlock(),ye(document.getElementById("customer-rating"),parseInt(K.dataset.rating)||0))});document.addEventListener("keydown",e=>{e.key==="Escape"&&(me.classList.add("hidden"),Ve.classList.remove("hidden"),Fe.unlock(),ye(document.getElementById("customer-rating"),parseInt(K.dataset.rating)||0))});function ye(e,t=0){if(!e)return;e.innerHTML="";const n=parseInt(t)||0;for(let o=1;o<=5;o++){const a=document.createElement("span");a.classList.add("star"),o<=n&&a.classList.add("filled"),e.appendChild(a),e.id==="customer-rating"&&(a.addEventListener("click",()=>{e.dataset.rating=o,ye(e,o),Mr()}),a.addEventListener("mouseenter",()=>xr(e,o)),a.addEventListener("mouseleave",()=>{const c=parseInt(K.dataset.rating)||0;ye(e,c)}))}}function xr(e,t){e.querySelectorAll(".star").forEach((o,a)=>{a<t?o.classList.add("filled"):o.classList.remove("filled")})}ye(K,parseInt(K.dataset.rating)||0);const ke=new Tn(".swiper",{slidesPerView:1,spaceBetween:20,loop:!1,grabCursor:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",clickable:!0}});var Qt;(Qt=document.querySelector(".swiper-button-prev"))==null||Qt.addEventListener("click",()=>ke.slidePrev());var Wt;(Wt=document.querySelector(".swiper-button-next"))==null||Wt.addEventListener("click",()=>ke.slideNext());const zt=document.querySelector(".swiper-pagination");zt&&(zt.innerHTML=`
    <span class="swiper-dots"></span>
    <span class="swiper-dots"></span>
    <span class="swiper-dots"></span>
  `);function pn(e){const t=document.querySelectorAll(".swiper-dots");t.forEach(n=>n.classList.remove("active")),t[e-1]&&t[e-1].classList.add("active")}function yn(e){return e===0?1:e===9?3:2}pn(yn(ke.realIndex));document.querySelectorAll(".swiper-dots").forEach((e,t)=>{e.addEventListener("click",()=>{const n=[0,1,9];ke.slideTo(n[t]??0)})});ke.on("slideChange",()=>{const e=ke.realIndex;pn(yn(e))});function Tr(e){return Array.isArray(e)?e:e&&Array.isArray(e.data)?e.data:e&&Array.isArray(e.feedbacks)?e.feedbacks:e&&Array.isArray(e.results)?e.results:[]}async function gn(){const e=document.querySelector(".swiper-wrapper");if(e){e.innerHTML="";try{const n=await(await fetch("https://sound-wave.b.goit.study/api/feedbacks")).json();Tr(n).slice(0,10).forEach((a,c)=>{const u=Math.round(Number(a==null?void 0:a.rating)||0),p=document.createElement("div");p.classList.add("swiper-slide"),p.innerHTML=`
        <div class="rating" id="rating-${c}" data-rating="${u}"></div>
        <div class="feedback">
          <p class="customer-feedback">${String((a==null?void 0:a.descr)??"")}</p>
          <h3 class="customer-name">${String((a==null?void 0:a.name)??"")}</h3>
        </div>`,e.appendChild(p),ye(p.querySelector(".rating"),u)}),ke.update()}catch{ve.error({title:"Error",message:"Bad request (invalid request params)"})}}}function Mr(){const e={name:fe.value.trim(),message:pe.value.trim(),rating:parseInt(K.dataset.rating)||0};localStorage.setItem(Tt,JSON.stringify(e))}function qr(){const e=localStorage.getItem(Tt);if(e)try{const t=JSON.parse(e);t!=null&&t.name&&(fe.value=t.name),t!=null&&t.message&&(pe.value=t.message),typeof(t==null?void 0:t.rating)<"u"&&(K.dataset.rating=t.rating,ye(K,parseInt(t.rating)||0)),[fe,pe].forEach(n=>Ee(n))}catch{}}function Pr(){localStorage.removeItem(Tt),et.reset(),K.dataset.rating=0,ye(K,0),[fe,pe].forEach(e=>e.classList.remove(mn,fn))}et==null||et.addEventListener("submit",async e=>{e.preventDefault();const t=fe.value.trim(),n=pe.value.trim(),o=parseInt(K.dataset.rating)||0,a=[];if(t||(Ee(fe),a.push(fe)),n||(Ee(pe),a.push(pe)),a.length)return a[0].focus(),ve.error({message:"Please fill out required fields."});if(t.length<2||t.length>16)return Ee(fe),ve.error({message:"Shortest name - 2 letters; Largest name - 16 letters"});if(n.length<10||n.length>512)return Ee(pe),ve.error({message:"Min message - 10 symbols; Max message - 512 symbols"});if(o<1||o>5)return ve.error({message:"Rating must be between '1' and '5'"});try{const c=await fetch("https://sound-wave.b.goit.study/api/feedbacks",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({name:t,descr:n,rating:o})});if(!c.ok)return ve.error({title:"Error:",message:`HTTP ${c.status}`});ve.success({message:"Comment posted, Thank you!",position:"center"}),Pr(),me.classList.add("hidden"),Ve.classList.remove("hidden"),Fe.unlock(),gn()}catch{ve.error({message:"Bad request (invalid request body)"})}});document.addEventListener("DOMContentLoaded",gn);const hn=["a[href]","button",'[role="button"]','input[type="button"]','input[type="submit"]','input[type="reset"]',"summary",".sfx-click"].join(","),vn=[".no-sfx",'[data-sfx="off"]','[disabled],[aria-disabled="true"]','input[type="range"]',".am-player__dragzone"].join(","),Ye={enabled:localStorage.getItem("sfx")!=="off",lastAt:0,playOnce(){var t;if(!this.enabled)return;const e=performance.now();if(!(e-this.lastAt<80)){this.lastAt=e;try{(t=m==null?void 0:m.tap)==null||t.call(m)}catch{try{const n=new(window.AudioContext||window.webkitAudioContext),o=n.createOscillator(),a=n.createGain();o.type="triangle",o.frequency.value=660,a.gain.setValueAtTime(.06,n.currentTime),a.gain.exponentialRampToValueAtTime(1e-4,n.currentTime+.06),o.connect(a).connect(n.destination),o.start(),o.stop(n.currentTime+.07)}catch{}}}}};document.addEventListener("click",e=>{if(!e.isTrusted||e.button!==0||e.metaKey||e.ctrlKey||e.altKey)return;const t=e.target.closest(hn);t&&(t.matches(vn)||Math.abs(e.movementX||0)>2||Math.abs(e.movementY||0)>2||Ye.playOnce())},{capture:!0});document.addEventListener("keydown",e=>{if(!Ye.enabled||!(e.key==="Enter"||e.key===" "))return;const t=e.target.closest(hn);!t||t.matches(vn)||Ye.playOnce()},{capture:!0});window.SFX={enable(){Ye.enabled=!0,localStorage.setItem("sfx","on")},disable(){Ye.enabled=!1,localStorage.setItem("sfx","off")},toggle(){Ye.enabled?this.disable():this.enable()}};
//# sourceMappingURL=index.js.map
