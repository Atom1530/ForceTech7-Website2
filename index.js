import{a as ht}from"./assets/vendor-BkCUij8E.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))u(c);new MutationObserver(c=>{for(const i of c)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&u(o)}).observe(document,{childList:!0,subtree:!0});function n(c){const i={};return c.integrity&&(i.integrity=c.integrity),c.referrerPolicy&&(i.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?i.credentials="include":c.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function u(c){if(c.ep)return;c.ep=!0;const i=n(c);fetch(c.href,i)}})();const vt=/localhost|127\.0\.0\.1/.test(location.hostname)||(document.documentElement.getAttribute("data-env")||"").toLowerCase()==="dev",ke=(...e)=>{vt&&console.warn(...e)},Le=ht.create({baseURL:"https://sound-wave.b.goit.study/api",timeout:15e3});async function bt({page:e=1,limit:t=8,genre:n="",sort:u="",name:c=""}={}){var i;try{const o={page:Math.max(1,Number(e)||1),limit:Math.max(1,Number(t)||8)},w=String(u).toLowerCase();(w==="asc"||w==="desc")&&(o.sortName=w);const A=String(n).trim();A&&A!=="All Genres"&&(o.genre=A);const b=String(c).trim();b.length>=1&&(o.name=b);const{data:_}=await Le.get("/artists",{params:o});return{artists:Array.isArray(_==null?void 0:_.artists)?_.artists:[],totalArtists:Number((_==null?void 0:_.totalArtists)||0),page:Number((_==null?void 0:_.page)||o.page),limit:Number((_==null?void 0:_.limit)||o.limit)}}catch(o){ke("[api] fetchArtists",(o==null?void 0:o.message)||o);try{(i=window.__toast)==null||i.error("Не удалось загрузить артистов. Попробуйте позже.")}catch{}return{artists:[],totalArtists:0,page:1,limit:t}}}async function _t(){var e;try{const{data:t}=await Le.get("/genres"),u=(Array.isArray(t)?t:(t==null?void 0:t.genres)||[]).map(i=>typeof i=="string"?i:(i==null?void 0:i.name)||(i==null?void 0:i.title)||(i==null?void 0:i.genre)||(i==null?void 0:i.label)||"").filter(Boolean);return["All Genres",...[...new Set(u)]]}catch(t){ke("[api] fetchGenres",(t==null?void 0:t.message)||t);try{(e=window.__toast)==null||e.error("Не удалось загрузить жанры.")}catch{}return["All Genres"]}}async function wt(e){var t;try{const{data:n}=await Le.get(`/artists/${e}`);return n||null}catch(n){ke("[api] fetchArtist",(n==null?void 0:n.message)||n);try{(t=window.__toast)==null||t.error("Не удалось загрузить артиста.")}catch{}return null}}async function At(e){var t;try{const{data:n}=await Le.get(`/artists/${e}/albums`);return Array.isArray(n)?n:Array.isArray(n==null?void 0:n.albumsList)?n.albumsList:Array.isArray(n==null?void 0:n.albums)?n.albums:[]}catch(n){ke("[api] albums",(n==null?void 0:n.message)||n);try{(t=window.__toast)==null||t.error("Не удалось загрузить альбомы.")}catch{}return[]}}let x,ee,J,se,we=!1;function at(){if(we)return;const e=window.AudioContext||window.webkitAudioContext;if(!e)return;x=new e,J=x.createDynamicsCompressor(),J.threshold.value=-26,J.knee.value=22,J.ratio.value=6,J.attack.value=.004,J.release.value=.08,se=x.createBiquadFilter(),se.type="lowpass",se.frequency.value=2300,se.Q.value=.6,ee=x.createGain(),ee.gain.value=.11,ee.connect(se),se.connect(J),J.connect(x.destination);const t=()=>{try{x.resume()}catch{}window.removeEventListener("pointerdown",t),window.removeEventListener("keydown",t),window.removeEventListener("touchstart",t)};window.addEventListener("pointerdown",t,{once:!0,passive:!0}),window.addEventListener("keydown",t,{once:!0}),window.addEventListener("touchstart",t,{once:!0,passive:!0}),we=!0}function it(){x&&x.state==="suspended"&&x.resume()}function kt(){if(we||at(),!x)return;it();const e=x.currentTime+.004,t=.055,n=x.createBufferSource(),u=x.createBuffer(1,Math.max(32,x.sampleRate*t|0),x.sampleRate),c=u.getChannelData(0);for(let r=0;r<c.length;r++){const h=r/c.length;c[r]=(Math.random()*2-1)*Math.pow(1-h,2)}n.buffer=u;const i=x.createBiquadFilter();i.type="bandpass",i.frequency.value=2050,i.Q.value=.9;const o=x.createBiquadFilter();o.type="highpass",o.frequency.value=360,o.Q.value=.7;const w=x.createGain();w.gain.setValueAtTime(1e-4,e),w.gain.linearRampToValueAtTime(.45,e+.004),w.gain.exponentialRampToValueAtTime(1e-4,e+.055),n.connect(i),i.connect(o),o.connect(w),w.connect(ee),n.start(e),n.stop(e+.06);const A=x.createOscillator();A.type="triangle",A.frequency.setValueAtTime(2100,e);const b=x.createGain();b.gain.setValueAtTime(1e-4,e),b.gain.linearRampToValueAtTime(.2,e+.003),b.gain.exponentialRampToValueAtTime(1e-4,e+.05),A.connect(b),b.connect(ee),A.start(e),A.stop(e+.055);const _=x.createOscillator();_.type="sine",_.frequency.setValueAtTime(165,e);const q=x.createGain();q.gain.setValueAtTime(1e-4,e),q.gain.linearRampToValueAtTime(.05,e+.003),q.gain.exponentialRampToValueAtTime(1e-4,e+.042),_.connect(q),q.connect(ee),_.start(e),_.stop(e+.045)}function Lt(){if(we||at(),!x)return;it();const e=x.currentTime+.003,t=x.createOscillator();t.type="triangle",t.frequency.setValueAtTime(1750,e);const n=x.createGain();n.gain.setValueAtTime(1e-4,e),n.gain.linearRampToValueAtTime(.17,e+.003),n.gain.exponentialRampToValueAtTime(1e-4,e+.06),t.connect(n),n.connect(ee),t.start(e),t.stop(e+.065)}const a={tap:kt,page:Lt},xt=e=>(e==null?void 0:e.idArtist)||(e==null?void 0:e.id)||(e==null?void 0:e._id)||(e==null?void 0:e.artistId)||"",Et=e=>Array.isArray(e==null?void 0:e.genres)?e.genres:typeof(e==null?void 0:e.strGenre)=="string"&&e.strGenre.trim()?e.strGenre.split(/,\s*/).filter(Boolean):e!=null&&e.genre?[e.genre]:[],Tt="https://via.placeholder.com/960x540?text=No+Image",ot=(e={})=>({id:xt(e),name:e.strArtist||e.name||"Unknown artist",image:e.strArtistThumb||e.thumb||e.photo||e.image||Tt,country:e.strCountry||e.country||"N/A",members:e.intMembers||e.members||"N/A",gender:e.strGender||e.sex||"N/A",biography:e.strBiographyEN||e.biography||e.about||"",genres:Et(e),formedYear:e.intFormedYear||e.formedYear||e.yearStart||null,endedYear:e.intDisbandedYear||e.intDiedYear||e.disbandedYear||e.yearEnd||null}),Mt=(e={})=>({title:e.strTrack||e.title||e.name||"—",duration:Number(e.intDuration??e.duration??e.time??0),youtube:e.strMusicVid||e.youtube||e.youtube_url||e.url||e.movie||""}),qt=(e={})=>{const t=Array.isArray(e.tracks)?e.tracks:Array.isArray(e.songs)?e.songs:Array.isArray(e.track)?e.track:[];return{title:e.strAlbum||e.title||e.name||"Album",tracks:t.map(Mt)}};async function Pt(e){const t=await bt(e),u=(Array.isArray(t==null?void 0:t.artists)?t.artists:Array.isArray(t)?t:[]).map(ot),c=Number((t==null?void 0:t.totalArtists)??(t==null?void 0:t.total)??u.length);return{artists:u,totalArtists:c}}async function St(){const e=await _t();return Array.isArray(e)?e:Array.isArray(e==null?void 0:e.genres)?e.genres:[]}async function lt(e){const t=await wt(e),n=Array.isArray(t)?t[0]:Array.isArray(t==null?void 0:t.artists)?t.artists[0]:t;return n?ot(n):null}async function ct(e){const t=await At(e);return(Array.isArray(t)?t:Array.isArray(t==null?void 0:t.albums)?t.albums:Array.isArray(t==null?void 0:t.album)?t.album:[]).map(qt)}const he={page:1,limit:8,total:0,sort:"",genre:"",q:"",isMobilePanelOpen:!1},Ve=new Set;function xe(){return{...he}}function $t(){const e=xe();Ve.forEach(t=>{try{t(e)}catch{}})}function Ct(e){return typeof e!="function"?()=>{}:(Ve.add(e),()=>Ve.delete(e))}function Nt(){return xe()}function X(e={}){const t="genre"in e||"sort"in e||"q"in e,n={...he,...e};t&&!("page"in e)&&(n.page=1),n.page=Math.max(1,Number(n.page)||1),n.limit=Math.max(1,Number(n.limit)||8),n.total=Math.max(0,Number(n.total)||0);let u=!1;for(const c of Object.keys(n))he[c]!==n[c]&&(he[c]=n[c],u=!0);return u&&$t(),xe()}function Yt(){return X({page:1,sort:"",genre:"",q:""})}const R={get(){return xe()},setPage(e){X({page:Math.max(1,Number(e)||1)})},setLimit(e){X({limit:Math.max(1,Number(e)||8)})},setSort(e){X({sort:e||""})},setGenre(e){X({genre:e||""})},setQuery(e){X({q:(e||"").trim()})},setTotal(e){X({total:Math.max(0,Number(e)||0)})},setMobilePanel(e){X({isMobilePanelOpen:!!e})},reset(){Yt()}};let ve=0,He=0;function zt(){if(ve++===0){He=window.scrollY||document.documentElement.scrollTop||0;const e=document.body.style;e.position="fixed",e.top=`-${He}px`,e.left="0",e.right="0",e.width="100%",document.body.classList.add("scroll-locked")}}function ut(e=!1){if(e&&(ve=1),ve>0&&--ve===0){const t=document.body.style;t.position=t.top=t.left=t.right=t.width="",window.scrollTo(0,He),document.body.classList.remove("scroll-locked")}}function Je(){ut(!0)}typeof window<"u"&&(window.__unlockScroll=Je,window.addEventListener("pageshow",()=>Je()));let ge=null;function de(){return window.YT&&window.YT.Player?Promise.resolve():(de._p||(de._p=new Promise((e,t)=>{const n=document.createElement("script");n.src="https://www.youtube.com/iframe_api",n.onerror=()=>t(new Error("YT API load failed")),document.head.appendChild(n);const u=setTimeout(()=>t(new Error("YT API timeout")),15e3);window.onYouTubeIframeAPIReady=()=>{clearTimeout(u),e()}})),de._p)}const Ye=/iPad|iPhone|iPod/.test(navigator.userAgent);function Ke(e){if(!e)return"";if(/^[\w-]{11}$/.test(e))return e;try{const t=new URL(e);if(/youtu\.be$/.test(t.hostname))return t.pathname.slice(1);if(t.searchParams.get("v"))return t.searchParams.get("v");const n=t.pathname.match(/\/(embed|shorts|v)\/([^/?#]+)/);return n?n[2]:""}catch{return""}}const Ie=(e,t,n)=>Math.min(n,Math.max(t,e)),Rt=e=>{const t=e.slice();for(let n=t.length-1;n>0;n--){const u=Math.random()*(n+1)|0;[t[n],t[u]]=[t[u],t[n]]}return t};function ze(e){e=Math.max(0,Math.round(Number(e)||0));const t=Math.floor(e/60),n=String(e%60).padStart(2,"0");return`${t}:${n}`}function dt(){if(ge)return ge;const e=document.createElement("div");e.className="am-player",e.innerHTML=`
    <div class="am-player__inner">
      <div class="am-player__frame"><div class="am-player__host" id="am-player-host"></div></div>

      <button class="am-player__close" type="button" aria-label="Close">×</button>

      <div class="am-player__bar">
        <div class="am-player__left">
          <button class="am-player__skip am-player__prev" type="button" aria-label="Previous">⏮</button>
          <button class="am-player__play" type="button" aria-label="Play/Pause">▶</button>
          <button class="am-player__skip am-player__next" type="button" aria-label="Next">⏭</button>
          <span class="am-player__time"><span class="am-player__cur">0:00</span> / <span class="am-player__dur">0:00</span></span>
        </div>

        <div class="am-player__progresswrap">
          <input class="am-player__progress" type="range" min="0" max="1000" value="0" step="1" aria-label="Seek">
        </div>

        <div class="am-player__right">
          <a class="am-player__yt" href="#" target="_blank" rel="noopener noreferrer">Open YouTube ↗</a>
          <button class="am-player__mute" type="button" aria-label="Mute/Unmute">🔈</button>
          <input class="am-player__slider" type="range" min="0" max="100" value="60" step="1" aria-label="Volume">
        </div>
      </div>
    </div>
  `,document.body.appendChild(e);const t=e.querySelector("#am-player-host"),n=e.querySelector(".am-player__close"),u=e.querySelector(".am-player__play"),c=e.querySelector(".am-player__prev"),i=e.querySelector(".am-player__next"),o=e.querySelector(".am-player__mute"),w=e.querySelector(".am-player__yt"),A=e.querySelector(".am-player__slider"),b=e.querySelector(".am-player__progress"),_=e.querySelector(".am-player__cur"),q=e.querySelector(".am-player__dur");let r=null,h=!1,d=0,k=null,l=60,B=!1,L=[],T=-1,C=!1;Ye&&(A.disabled=!0,A.title="On iOS the volume is hardware-only");function I(f){f?(e.classList.add("am-player--active"),e.style.pointerEvents="auto"):(e.classList.remove("am-player--active"),e.style.pointerEvents="")}function V(f){u.textContent=f?"⏸":"▶"}function Q(f){o.textContent=f?"🔇":"🔈"}function ie(f,p){if(_.textContent=ze(f),q.textContent=ze(p),!B){const g=p>0?Math.round(f/p*1e3):0;b.value=String(g)}}function F(){k&&(clearInterval(k),k=null)}function E(){F(),k=setInterval(()=>{if(!h||!r||typeof r.getCurrentTime!="function")return;const f=r.getCurrentTime()||0,p=d||r.getDuration()||0;d=p,ie(f,p)},250)}function te(f,p=!1){return de().then(()=>{if(r){try{r.destroy()}catch{}r=null}t.innerHTML='<div id="am-player-yt"></div>',r=new YT.Player("am-player-yt",{host:"https://www.youtube-nocookie.com",videoId:f,playerVars:{autoplay:p?1:0,playsinline:1,rel:0,modestbranding:1,controls:1,enablejsapi:1,origin:location.origin},events:{onReady:()=>{var g,M;h=!0,d=r.getDuration()||0,ie(0,d);try{!Ye&&typeof r.setVolume=="function"&&r.setVolume(l)}catch{}if(p)try{(g=r.unMute)==null||g.call(r),(M=r.playVideo)==null||M.call(r)}catch{}V(!0),E()},onStateChange:g=>{g.data===YT.PlayerState.PLAYING?(V(!0),E()):g.data===YT.PlayerState.PAUSED?(V(!1),F()):g.data===YT.PlayerState.ENDED&&(V(!1),F(),Me())}}})})}function G(f,p=!1){if(!L.length)return;T=Ie(f,0,L.length-1);const g=L[T];return w.href=`https://www.youtube.com/watch?v=${g}`,I(!0),h=!1,d=0,F(),te(g,p)}function Me(){L.length&&(T<L.length-1?G(T+1,!1):C&&G(0,!1))}n.addEventListener("click",()=>{var f,p,g;(f=a==null?void 0:a.tap)==null||f.call(a);try{(p=r==null?void 0:r.stopVideo)==null||p.call(r),(g=r==null?void 0:r.destroy)==null||g.call(r)}catch{}r=null,h=!1,d=0,F(),I(!1),L=[],T=-1}),u.addEventListener("click",()=>{var p,g,M;if((p=a==null?void 0:a.tap)==null||p.call(a),!h||!r)return;(r.getPlayerState?r.getPlayerState():-1)===YT.PlayerState.PLAYING?((g=r.pauseVideo)==null||g.call(r),V(!1)):((M=r.playVideo)==null||M.call(r),V(!0))}),c.addEventListener("click",()=>{var f;(f=a==null?void 0:a.tap)==null||f.call(a),L.length&&G(T>0?T-1:C?L.length-1:0,!0)}),i.addEventListener("click",()=>{var f;(f=a==null?void 0:a.tap)==null||f.call(a),L.length&&G(T<L.length-1?T+1:C?0:T,!0)}),o.addEventListener("click",()=>{var p,g,M,Z;if((p=a==null?void 0:a.tap)==null||p.call(a),!r)return;const f=!((g=r.isMuted)!=null&&g.call(r));f?(M=r.mute)==null||M.call(r):(Z=r.unMute)==null||Z.call(r),Q(f)}),A.addEventListener("input",()=>{var g,M,Z,ne,re,le;const f=Number(A.value)||0;Ye||(g=r==null?void 0:r.setVolume)==null||g.call(r,f),l=f;const p=f===0;p&&!((M=r==null?void 0:r.isMuted)!=null&&M.call(r))&&((Z=r==null?void 0:r.mute)==null||Z.call(r)),!p&&((ne=r==null?void 0:r.isMuted)!=null&&ne.call(r))&&((re=r==null?void 0:r.unMute)==null||re.call(r)),Q(((le=r==null?void 0:r.isMuted)==null?void 0:le.call(r))??!1)}),b.addEventListener("input",()=>{B=!0;const f=Number(b.value)||0,p=d>0?f/1e3*d:0;_.textContent=ze(p)}),b.addEventListener("change",()=>{var g,M;if((g=a==null?void 0:a.tap)==null||g.call(a),B=!1,!r||!d)return;const p=(Number(b.value)||0)/1e3*d;(M=r.seekTo)==null||M.call(r,p,!0)});async function fe(f){const p=Ke(f);p&&(L=[p],T=0,w.href=`https://www.youtube.com/watch?v=${p}`,I(!0),await te(p,!0))}async function qe(f,p={}){const g=(f||[]).map(Ke).filter(Boolean);if(!g.length)return;C=!!p.loop,L=p.shuffle?Rt(g):g.slice();const M=Ie(Number(p.startIndex??0)||0,0,L.length-1);await G(M,!0)}function oe(){L.length&&G(T<L.length-1?T+1:C?0:T,!0)}function Pe(){L.length&&G(T>0?T-1:C?L.length-1:0,!0)}function Se(){return e.classList.contains("am-player--active")}function $e(){const f=new Event("click");n.dispatchEvent(f)}function Ce(){var f,p;try{(f=r==null?void 0:r.unMute)==null||f.call(r),(p=r==null?void 0:r.playVideo)==null||p.call(r)}catch{}}return ge={open:fe,openQueue:qe,next:oe,prev:Pe,isActive:Se,close:$e,ensureAudible:Ce},ge}let S,Ue,je,v,Be,Re,De,ae=!1,We=0,Xe=0,H=0,j=0,$=1,Ge=0,Qe=0,be=0,_e=0;const D=new Map;let me=!1,Ee=0,Ze=1;const Ae=(e,t,n)=>Math.max(t,Math.min(n,e)),mt=(e,t)=>Math.hypot(e.x-t.x,e.y-t.y),Dt=(e,t)=>({x:(e.x+t.x)/2,y:(e.y+t.y)/2});function Ot(){if(S)return;S=document.createElement("div"),S.className="am-zoom",S.innerHTML=`
    <div class="am-zoom__backdrop"></div>
    <div class="am-zoom__dialog" role="dialog" aria-modal="true" aria-label="Image preview">
      <div class="am-zoom__stage">
        <img class="am-zoom__img" alt="">
      </div>
      <div class="am-zoom__bar">
        <a class="am-zoom__open" href="#" target="_blank" rel="noopener noreferrer">Open original ↗</a>
        <button class="am-zoom__close" type="button" aria-label="Close">×</button>
      </div>
    </div>`,document.body.appendChild(S),Object.assign(S.style,{position:"fixed",inset:"0",zIndex:"6000",display:"none"}),Ue=S.querySelector(".am-zoom__dialog"),Object.assign(Ue.style,{position:"absolute",inset:"0",display:"grid",gridTemplateRows:"1fr auto",gap:"12px",padding:"16px"}),De=S.querySelector(".am-zoom__backdrop"),Object.assign(De.style,{position:"absolute",inset:"0",background:"rgba(0,0,0,.7)"}),je=S.querySelector(".am-zoom__stage"),Object.assign(je.style,{position:"relative",background:"#000",borderRadius:"12px",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center",minHeight:"240px",height:"calc(100vh - 140px)",touchAction:"none"}),v=S.querySelector(".am-zoom__img"),v.style.maxWidth="100%",v.style.maxHeight="100%",v.style.width="auto",v.style.setProperty("height","auto","important"),v.style.objectFit="contain",v.style.transformOrigin="center center",v.style.willChange="transform",v.style.userSelect="none",v.style.webkitUserDrag="none",v.style.pointerEvents="auto";const e=S.querySelector(".am-zoom__bar");Object.assign(e.style,{display:"flex",justifyContent:"space-between",alignItems:"center",gap:"12px"}),Be=S.querySelector(".am-zoom__open"),Be.style.color="#fff",Re=S.querySelector(".am-zoom__close"),Object.assign(Re.style,{width:"40px",height:"40px",borderRadius:"10px",border:"none",background:"var(--color-affair, #764191)",color:"#fff",cursor:"pointer"}),De.addEventListener("click",Oe),Re.addEventListener("click",Oe),S.addEventListener("wheel",jt,{passive:!1}),v.addEventListener("dblclick",Ht),v.addEventListener("pointerdown",Bt),v.addEventListener("pointermove",Gt),v.addEventListener("pointerup",et),v.addEventListener("pointercancel",et),document.addEventListener("keydown",t=>{t.key==="Escape"&&Fe()&&Oe()}),window.addEventListener("resize",()=>{Fe()&&(pt(),K())})}function Vt(){const e=v.style.transform;v.style.transform="translate3d(0,0,0) scale(1)";const t=v.getBoundingClientRect();v.style.transform=e,Ge=t.width,Qe=t.height}function pt(){const e=je.getBoundingClientRect();be=e.width,_e=e.height}function ft(){if(!Ge||!Qe||!be||!_e)return;const e=Ge*$,t=Qe*$;if(e<=be)H=0;else{const n=(e-be)/2;H=Ae(H,-n,n)}if(t<=_e)j=0;else{const n=(t-_e)/2;j=Ae(j,-n,n)}}function K(){ft(),v.style.transform=`translate3d(${H}px, ${j}px, 0) scale(${$})`,v.style.cursor=$>1?ae?"grabbing":"grab":"zoom-in"}function yt(e,t=""){if(!e)return;Ot(),D.clear(),me=!1,Ee=0,Ze=1,ae=!1,We=Xe=0,H=j=0,$=1,v.src=e,v.alt=t||"",Be.href=e,S.style.display="block";const n=()=>{pt(),Vt(),ft(),K()};v.complete&&v.naturalWidth>0?requestAnimationFrame(n):v.onload=()=>requestAnimationFrame(n)}function Oe(){S&&(S.style.display="none",v.src="",D.clear(),me=!1)}function Fe(){return!!(S&&S.style.display!=="none")}function Ht(){$=$>1?1:2,$===1&&(H=0,j=0),K()}function jt(e){if(!Fe())return;e.preventDefault();const t=Ae($+(e.deltaY>0?-.15:.15),1,3),n=v.getBoundingClientRect(),u={x:e.clientX,y:e.clientY},c={x:n.left+n.width/2,y:n.top+n.height/2},i=t/$;H+=(c.x-u.x)*(1-i),j+=(c.y-u.y)*(1-i),$=t,$===1&&(H=0,j=0),K()}function Bt(e){if(D.set(e.pointerId,{x:e.clientX,y:e.clientY}),v.setPointerCapture(e.pointerId),D.size===2){const[t,n]=Array.from(D.values());me=!0,Ee=mt(t,n)||1,Ze=$,ae=!1;return}D.size===1&&$>1&&(ae=!0,We=e.clientX-H,Xe=e.clientY-j,K())}function Gt(e){if(D.has(e.pointerId)){if(D.set(e.pointerId,{x:e.clientX,y:e.clientY}),me&&D.size>=2){const[t,n]=Array.from(D.values()),u=mt(t,n)||1;let c=Ae(Ze*(u/Ee),1,3);const i=Dt(t,n),o=v.getBoundingClientRect(),w={x:o.left+o.width/2,y:o.top+o.height/2},A=c/$;H+=(w.x-i.x)*(1-A),j+=(w.y-i.y)*(1-A),$=c,$===1&&(H=0,j=0),K();return}ae&&D.size===1&&$>1&&(H=e.clientX-We,j=e.clientY-Xe,K())}}function et(e){D.has(e.pointerId)&&D.delete(e.pointerId);try{v.releasePointerCapture(e.pointerId)}catch{}D.size<2&&(me=!1,Ee=0),D.size===0&&(ae=!1,K())}const Qt="/img/sprite.svg";function Ft(e){const t=Number(e);if(!Number.isFinite(t))return"—";const n=Math.round(t/1e3),u=Math.floor(n/60),c=String(n%60).padStart(2,"0");return`${u}:${c}`}const Wt=e=>{const t=(e==null?void 0:e.intFormedYear)||(e==null?void 0:e.yearStart)||(e==null?void 0:e.formedYear),n=(e==null?void 0:e.intDisbandedYear)||(e==null?void 0:e.intDiedYear)||(e==null?void 0:e.yearEnd)||(e==null?void 0:e.disbandedYear);return t&&n?`${t}–${n}`:t?`${t}–present`:"information missing"},Xt=e=>{const t=(e==null?void 0:e.strTrack)||(e==null?void 0:e.title)||(e==null?void 0:e.name)||"—",n=Ft((e==null?void 0:e.intDuration)??(e==null?void 0:e.duration)??(e==null?void 0:e.time)),u=(e==null?void 0:e.movie)??(e==null?void 0:e.youtube)??(e==null?void 0:e.youtube_url)??(e==null?void 0:e.url)??(e==null?void 0:e.strMusicVid);return`
    <li class="tr">
      <span>${t}</span>
      <span>${n}</span>
      <span>${u?`<a class="yt" href="${u}" target="_blank" rel="noopener noreferrer" aria-label="Watch on YouTube">
               <svg class="ico am-yt" aria-hidden="true"><use href="${Qt}#icon-icon_youtube_footer"></use></svg>
             </a>`:'<span class="yt-ph"></span>'}</span>
    </li>`};function Zt(e=document){let t=e.querySelector("#artist-modal");return t||(t=e.createElement("div"),t.id="artist-modal",t.className="amodal",t.setAttribute("hidden",""),t.innerHTML=`
    <div class="amodal__backdrop"></div>
    <div class="amodal__dialog" role="dialog" aria-modal="true" aria-label="Artist details">
      <button id="am-close" class="amodal__close" type="button" aria-label="Close">×</button>
      <div id="am-body" class="amodal__body">
        <div class="amodal__loader loader"></div>
      </div>
    </div>`,e.body.appendChild(t),t)}function gt(e=document){let t=(e&&e.querySelector?e.querySelector("#artist-modal"):null)||document.querySelector("#artist-modal")||Zt(document);const n=t.querySelector("#am-body"),u=t.querySelector("#am-close"),c=t.querySelector(".amodal__dialog"),i=dt();let o=null;function w(){o||(o=document.createElement("button"),o.type="button",o.setAttribute("aria-label","Scroll to top"),o.textContent="↑",Object.assign(o.style,{position:"fixed",right:"24px",bottom:"24px",width:"56px",height:"56px",borderRadius:"50%",border:"none",cursor:"pointer",display:"none",alignItems:"center",justifyContent:"center",fontSize:"22px",lineHeight:"1",background:"var(--color-affair, #764191)",color:"var(--color-white, #fff)",boxShadow:"0 8px 20px rgba(0,0,0,.35), inset 0 0 0 1px rgba(255,255,255,0.1)",zIndex:"5"}),o.addEventListener("click",()=>{var h;(h=a==null?void 0:a.tap)==null||h.call(a),c.scrollTo({top:0,behavior:"smooth"})}),t.appendChild(o),c.addEventListener("scroll",()=>{o.style.display=(c.scrollTop||0)>220?"flex":"none"}))}function A(){t.removeAttribute("hidden"),zt(),w(),n.innerHTML='<div class="amodal__loader loader"></div>',document.addEventListener("keydown",_)}function b(){i.isActive()&&i.close(),t.setAttribute("hidden",""),ut(),n.innerHTML="",document.removeEventListener("keydown",_),o&&(o.style.display="none")}const _=h=>{var d;h.key==="Escape"&&((d=a==null?void 0:a.tap)==null||d.call(a),b())};u.addEventListener("click",()=>{var h;(h=a==null?void 0:a.tap)==null||h.call(a),b()}),t.addEventListener("click",h=>{var d;h.target.classList.contains("amodal__backdrop")&&((d=a==null?void 0:a.tap)==null||d.call(a),b())}),t.addEventListener("click",h=>{var l,B;const d=h.target.closest("a.yt");if(d){h.preventDefault(),(l=a==null?void 0:a.tap)==null||l.call(a),i.open(d.href);return}const k=h.target.closest(".amodal__img");if(k){(B=a==null?void 0:a.tap)==null||B.call(a);const L=k.currentSrc||k.getAttribute("src")||k.getAttribute("data-src")||"";yt(L,k.getAttribute("alt")||"")}});async function q(h){const[d,k]=await Promise.all([lt(h).catch(()=>({})),ct(h).catch(()=>[])]),l=d||{},B=(l==null?void 0:l.strArtist)||(l==null?void 0:l.name)||"Unknown artist",L=(l==null?void 0:l.strArtistThumb)||(l==null?void 0:l.photo)||(l==null?void 0:l.image)||"https://via.placeholder.com/960x540?text=No+Image",T=(l==null?void 0:l.strCountry)||(l==null?void 0:l.country)||"N/A",C=(l==null?void 0:l.intMembers)||(l==null?void 0:l.members)||"N/A",I=(l==null?void 0:l.strGender)||(l==null?void 0:l.sex)||"N/A",V=(l==null?void 0:l.strBiographyEN)||(l==null?void 0:l.about)||"",Q=Array.isArray(l==null?void 0:l.genres)?l.genres:l!=null&&l.genre?[l.genre]:[],F=(Array.isArray(k)?k:[]).map(E=>{const te=(E==null?void 0:E.strAlbum)||(E==null?void 0:E.title)||(E==null?void 0:E.name)||"Album",G=Array.isArray(E==null?void 0:E.tracks)?E.tracks:Array.isArray(E==null?void 0:E.songs)?E.songs:[];return`
        <div class="am-album">
          <div class="am-album__title">${te}</div>
          <ul class="tbl">
            <li class="th"><span>Track</span><span>Time</span><span>Link</span></li>
            ${G.map(Xt).join("")}
          </ul>
        </div>`}).join("");n.innerHTML=`
      <h3 class="amodal__title">${B}</h3>
      <div class="amodal__content">
        <img class="amodal__img" src="${L}" alt="${B}" loading="lazy">
        <div class="amodal__info">
          <div class="am-meta">
            <div class="am-meta__col">
              <div class="am-meta__item"><span class="lbl">Years active</span><span class="val">${Wt(l)}</span></div>
              <div class="am-meta__item"><span class="lbl">Sex</span><span class="val">${I}</span></div>
            </div>
            <div class="am-meta__col">
              <div class="am-meta__item"><span class="lbl">Members</span><span class="val">${C}</span></div>
              <div class="am-meta__item"><span class="lbl">Country</span><span class="val">${T}</span></div>
            </div>
          </div>
          <div class="am-bio"><div class="lbl">Biography</div><p>${V||"—"}</p></div>
          ${Q.length?`<div class="am-tags">${Q.map(E=>`<span class="tag">${E}</span>`).join("")}</div>`:""}
        </div>
      </div>
      <h4 class="amodal__albums-title">Albums</h4>
      <div class="amodal__albums">
        ${F||"<p class='muted'>No albums found for this artist.</p>"}
      </div>`}async function r(h){var d;(d=a==null?void 0:a.tap)==null||d.call(a),A(),await q(h)}return{openFor:r,close:b}}const Jt="/img/sprite.svg";function Kt(e=document.querySelector("#artists-section")){var le;if(!e)return;const t=e.querySelector("#filters-panel"),n=e.querySelector("#filters-toggle"),u=e.querySelector("#filters-reset"),c=e.querySelector("#filters-reset-sm"),i=e.querySelector("#view-toggle"),o=e.querySelector("#flt-q"),w=e.querySelector("#flt-q-btn"),A=e.querySelector('.dd[data-dd="sort"]'),b=e.querySelector("#dd-sort-btn"),_=e.querySelector("#dd-sort-list"),q=e.querySelector('.dd[data-dd="genre"]'),r=e.querySelector("#dd-genre-btn"),h=e.querySelector("#dd-genre-list"),d=e.querySelector("#artists-grid"),k=e.querySelector("#artists-pager"),l=e.querySelector("#artists-empty"),B=gt(document);let L=0;const T=s=>s&&s.removeAttribute("hidden"),C=s=>s&&s.setAttribute("hidden",""),I=()=>matchMedia("(min-width:1440px)").matches,V=s=>((s==null?void 0:s.strArtist)||(s==null?void 0:s.name)||"").toLowerCase();function Q(){const s=R.get();I()?(t==null||t.setAttribute("aria-hidden","false"),n==null||n.setAttribute("aria-expanded","false"),R.setMobilePanel(!1)):(t==null||t.setAttribute("aria-hidden",s.isMobilePanelOpen?"false":"true"),n==null||n.setAttribute("aria-expanded",s.isMobilePanelOpen?"true":"false"))}function ie(){const s=e.getBoundingClientRect().top+window.scrollY-16;window.scrollTo({top:s,behavior:"smooth"})}function F(s){s?(T(l),C(d),C(k),E()):(C(l),T(d))}function E(){d.style.height="",d.style.overflow="",d.style.transition="",d.style.willChange=""}function te(){return`
      <li class="card card--skel">
        <div class="card__media skel skel--media"></div>
        <div class="card__tags">
          <span class="tag skel skel--tag"></span>
          <span class="tag skel skel--tag"></span>
        </div>
        <div class="skel skel--title"></div>
        <div class="skel skel--text"></div>
      </li>`}function G(s){const m=Math.max(1,Number(s)||8);d.innerHTML=new Array(m).fill(0).map(te).join(""),T(d),C(l),C(k)}function Me(){d.querySelectorAll("img.img-fade").forEach(m=>{const y=()=>m.classList.add("is-loaded");m.complete&&m.naturalWidth>0?y():m.addEventListener("load",y,{once:!0})})}let fe=null;function qe(s){const m=s??d.getBoundingClientRect().height;d.style.willChange="height",d.style.overflow="hidden",d.style.transition="none",d.style.height=`${Math.max(1,Math.round(m||0))}px`}function oe(){E()}function Pe(s){s(),d.offsetHeight;const m=d.scrollHeight;d.style.transition="height 200ms ease",d.style.height=`${m}px`;const y=N=>{N.target!==d||N.propertyName!=="height"||(d.removeEventListener("transitionend",y),oe())};d.addEventListener("transitionend",y),clearTimeout(fe),fe=setTimeout(oe,400)}function Se(s){const m=(s==null?void 0:s.id)||(s==null?void 0:s._id)||(s==null?void 0:s.artistId)||"",y=(s==null?void 0:s.strArtist)||(s==null?void 0:s.name)||"Unknown",N=(s==null?void 0:s.strArtistThumb)||(s==null?void 0:s.photo)||(s==null?void 0:s.image)||"https://via.placeholder.com/960x540?text=No+Image",W=(s==null?void 0:s.strBiographyEN)||(s==null?void 0:s.about)||"",O=Array.isArray(s==null?void 0:s.genres)?s.genres:s!=null&&s.genre?[s.genre]:[];return`
      <li class="card" data-id="${m}">
        <div class="card__media">
          <img
            class="img-fade"
            src="${N}"
            srcset="${N} 1x, ${N} 2x"
            sizes="(min-width:1440px) 50vw, (min-width:768px) 704px, 100vw"
            alt="${y}"
            loading="lazy"
          >
        </div>
        <div class="card__tags">${O.map(P=>`<span class="tag">${P}</span>`).join("")}</div>
        <h3 class="card__title">${y}</h3>
        <p class="card__text">${W}</p>
        <button class="card__link" data-action="more">
          Learn More
          <svg class="ico" aria-hidden="true">
            <use href="${Jt}#icon-icon_play_artists_sections"></use>
          </svg>
        </button>
      </li>`}function $e(s){d.innerHTML=s.map(Se).join(""),Me()}function Ce(s,m){if(m<=0){k.innerHTML="",C(k);return}if(m===1){k.innerHTML='<button class="active" data-page="1" disabled>1</button>',T(k);return}const y=(P,ce,ue=!1,ye=!1)=>`<button ${ue?"disabled":""} data-page="${ce}" class="${ye?"active":""}">${P}</button>`,N=2,W=Math.max(1,s-N),O=Math.min(m,s+N),z=[];z.push(y("‹",Math.max(1,s-1),s===1,!1)),W>1&&(z.push(y("1",1,!1,s===1)),W>2&&z.push('<button class="dots">…</button>'));for(let P=W;P<=O;P++)z.push(y(String(P),P,!1,P===s));O<m&&(O<m-1&&z.push('<button class="dots">…</button>'),z.push(y(String(m),m,!1,s===m))),z.push(y("›",Math.min(m,s+1),s===m,!1)),k.innerHTML=z.join(""),T(k)}async function f(){try{q==null||q.classList.add("loading"),r==null||r.setAttribute("aria-busy","true"),r&&(r.disabled=!0),h.innerHTML=`
        <li class="dd__loading">
          <span class="dd__spinner" aria-hidden="true"></span>
          <span>Loading…</span>
        </li>`;const s=await St();h.innerHTML=s.map(m=>`<li data-val="${m}">${m}</li>`).join("")}catch{h.innerHTML='<li data-val="">All Genres</li>'}finally{q==null||q.classList.remove("loading"),r==null||r.removeAttribute("aria-busy"),r&&(r.disabled=!1)}}async function p(s=!0){var ye;const m=++L,{page:y,limit:N,genre:W,sort:O,q:z}=R.get();qe(d.getBoundingClientRect().height),G(N),C(k);let P=[],ce=0;try{const U=await Pt({page:y,limit:N,genre:W||"",sort:O||"",name:((ye=z==null?void 0:z.trim)==null?void 0:ye.call(z))||""});if(m!==L)return;P=Array.isArray(U.artists)?U.artists:[],ce=Number(U.totalArtists||P.length||0)}catch{if(m!==L)return;P=[],ce=0}let ue=Math.max(1,Math.ceil(ce/N));if(y>ue&&s)return R.setPage(ue),p(!1);if(y<1&&s)return R.setPage(1),p(!1);if(O==="asc"&&(P=P.slice().sort((U,Ne)=>V(U).localeCompare(V(Ne)))),O==="desc"&&(P=P.slice().sort((U,Ne)=>V(Ne).localeCompare(V(U)))),m===L){if(!P.length){d.innerHTML="",F(!0),oe();return}F(!1),Pe(()=>$e(P)),Ce(R.get().page,ue)}}function g(s){[A,q].forEach(m=>{if(m!==s){m.classList.remove("open");const y=m.querySelector(".dd__list");y&&(y.style.display="none")}})}function M(s){const m=!s.classList.contains("open");g(s),s.classList.toggle("open",m);const y=s.querySelector(".dd__list");y&&(y.style.display=m?"block":"none")}n==null||n.addEventListener("click",()=>{a.tap();const s=R.get();R.setMobilePanel(!s.isMobilePanelOpen),Q()}),addEventListener("resize",Q),b==null||b.addEventListener("click",()=>{a.tap(),M(A)}),r==null||r.addEventListener("click",()=>{a.tap(),M(q)}),document.addEventListener("click",s=>{s.target.closest(".dd")||g()}),_==null||_.addEventListener("click",s=>{const m=s.target.closest("li");m&&(a.tap(),R.setSort(m.dataset.val||""),M(A),p())}),h==null||h.addEventListener("click",s=>{const m=s.target.closest("li");if(!m)return;a.tap();const y=m.dataset.val||"";R.setGenre(y==="All Genres"?"":y),M(q),p(),b==null||b.focus()});function Z(){a.tap(),R.setQuery((o==null?void 0:o.value.trim())||""),p()}w==null||w.addEventListener("click",Z),o==null||o.addEventListener("keydown",s=>{s.key==="Enter"&&Z()});function ne(){R.reset(),o&&(o.value=""),g(),p()}u==null||u.addEventListener("click",()=>{a.tap(),ne()}),c==null||c.addEventListener("click",()=>{a.tap(),ne(),R.setMobilePanel(!1),Q()}),(le=e.querySelector("#empty-reset"))==null||le.addEventListener("click",()=>{a.tap(),ne()}),k==null||k.addEventListener("click",s=>{const m=s.target.closest("button[data-page]");if(!m||m.disabled)return;const y=Number(m.dataset.page)||1;y!==R.get().page&&(a.page(),ie(),R.setPage(y),p())});const re=e.closest(".artists1")||e;i==null||i.addEventListener("click",()=>{a.tap();const s=!re.classList.contains("view-list");re.classList.toggle("view-list",s),re.classList.toggle("view-grid",!s),i.setAttribute("aria-pressed",String(s)),i.textContent=s?"Grid view":"List view"}),d.addEventListener("click",s=>{var N,W;const m=s.target.closest('[data-action="more"]');if(m){const O=(W=(N=m.closest(".card"))==null?void 0:N.dataset)==null?void 0:W.id;if(!O)return;a.tap(),B.openFor(O);return}const y=s.target.closest(".card__media img");if(y){a.tap();const O=y.currentSrc||y.src||y.getAttribute("src")||"";yt(O,y.getAttribute("alt")||"")}}),Q(),f(),p()}function It(){const e=new URLSearchParams(location.search),t=(e.get("q")||"").trim(),n=e.get("genre")||"",u=e.get("sort")||"",c=Math.max(1,Number(e.get("page")||1));return{q:t,genre:n,sort:u,page:c}}function Ut(e){const t=new URLSearchParams;return e.q&&t.set("q",e.q),e.genre&&t.set("genre",e.genre),e.sort&&t.set("sort",e.sort),e.page&&e.page!==1&&t.set("page",String(e.page)),t.toString()}function en(){const e=It(),t=Nt(),n={};let u=!1;for(const i of["q","genre","sort","page"])e[i]!==void 0&&e[i]!==t[i]&&(n[i]=e[i],u=!0);u&&X(n);let c=null;Ct(i=>{const o=Ut(i);if(o===c)return;c=o;const w=o?`?${o}`:location.pathname;history.replaceState(null,"",w)})}const tt=new Map;function tn(e){const t=e.querySelector("#artists-grid");if(!t)return;let n=null,u=null;function c(i){clearTimeout(n),n=setTimeout(async()=>{try{if(tt.has(i))return;const[o,w]=await Promise.all([lt(i),ct(i)]);tt.set(i,{artist:o,albums:w,ts:Date.now()})}catch{}},150)}t.addEventListener("mouseenter",i=>{var A,b;const o=i.target.closest('[data-action="more"]');if(!o)return;const w=(b=(A=o.closest(".card"))==null?void 0:A.dataset)==null?void 0:b.id;w&&(u=String(w),c(u))},!0),t.addEventListener("mouseleave",i=>{i.target.closest('[data-action="more"]')&&(clearTimeout(n),n=null,u=null)},!0)}function nn(e=document.querySelector("#artists-section")){e&&(en(),gt(e),tn(e),Kt(e))}const rn=["Zi_XLOBDo_Y","3JZ_D3ELwOQ","fRh_vgS2dFE","OPf0YbXqDm0","60ItHLz5WEA","2Vv-BfVoq4g","kXYiU_JCYtU","UceaB4D0jpo","RubBzkZzpUA","kJQP7kiw5Fk","CevxZvSJLk8","pRpeEdMmmQ0","IcrbM1l_BoI","YVkUvmDQ3HY","hT_nvWreIhg","09R8_2nJtjg","uelHwf8o7_U","JGwWNGJdvx8","YQHsXMglC9A","NmugSMBh_iI","LrUvu1mlWco","hLQl3WQQoQ0","RgKAFK5djSk","SlPhMPnQ58k","oRdxUFDoQe0","09z7j-LPz1E","Pkh8UtuejGw","tt2k8PGm-TI","lY2yjAdbvdQ","pXRviuL6vMY","09tj3yqpP5g","nfs8NYg7yQM","nCkpzqqog4k","M7lc1UVf-VE"],Te=e=>e.map(t=>document.querySelector(t)).find(Boolean),sn=()=>Te(['[data-radio="start"]',"#rhythm-radio","#random-radio","#radio-start",".js-radio-start"]),an=()=>Te(['[data-radio="next"]',"#radio-next",".js-radio-next"]),on=()=>Te(['[data-radio="prev"]',"#radio-prev",".js-radio-prev"]),ln=()=>Te(['[data-radio="stop"]',"#radio-stop",".js-radio-stop"]);document.addEventListener("DOMContentLoaded",()=>{try{nn()}catch{}const e=dt(),t=sn();t&&t.addEventListener("click",async i=>{var o;i.preventDefault(),(o=a==null?void 0:a.tap)==null||o.call(a),await e.openQueue(rn,{shuffle:!0,loop:!0}),e.ensureAudible()});const n=an();n&&n.addEventListener("click",i=>{var o;i.preventDefault(),(o=a==null?void 0:a.tap)==null||o.call(a),e.next()});const u=on();u&&u.addEventListener("click",i=>{var o;i.preventDefault(),(o=a==null?void 0:a.tap)==null||o.call(a),e.prev()});const c=ln();c&&c.addEventListener("click",i=>{var o;i.preventDefault(),(o=a==null?void 0:a.tap)==null||o.call(a),e.close()})});const Y={openBtn:document.querySelector("[data-menu-open]"),closeBtn:document.querySelector("[data-menu-close]"),menu:document.querySelector("[data-menu]"),links:document.querySelectorAll("[data-menu-link]"),logos:document.querySelectorAll(".header-logo"),header:document.querySelector(".header")};function cn(){var e;Y.menu&&(Y.menu.hidden=!1,Y.menu.classList.add("show"),document.body.style.overflow="hidden",(e=Y.openBtn)==null||e.setAttribute("aria-expanded","true"))}function pe(){var e;Y.menu&&(Y.menu.classList.remove("show"),setTimeout(()=>{Y.menu.hidden=!0},400),document.body.style.overflow="",(e=Y.openBtn)==null||e.setAttribute("aria-expanded","false"))}function un(e){const t=document.querySelector(e);t&&t.scrollIntoView({behavior:"smooth",block:"start"})}var nt;(nt=Y.openBtn)==null||nt.addEventListener("click",cn);var rt;(rt=Y.closeBtn)==null||rt.addEventListener("click",pe);Y.links.forEach(e=>e.addEventListener("click",t=>{t.preventDefault();const n=e.getAttribute("href");pe(),un(n)}));Y.logos.forEach(e=>{e.addEventListener("click",t=>{e.closest(".mobile-menu")&&(t.preventDefault(),pe(),setTimeout(()=>{window.location.href=e.getAttribute("href")},400))})});var st;(st=Y.menu)==null||st.addEventListener("click",e=>{e.target===Y.menu&&pe()});document.addEventListener("keydown",e=>{var t;e.key==="Escape"&&((t=Y.menu)!=null&&t.classList.contains("show"))&&pe()});const dn=document.querySelectorAll("section[id]"),mn=document.querySelectorAll(".header-nav-link, .mobile-menu-nav-link");function pn(){const e=window.scrollY+Y.header.offsetHeight+10;dn.forEach(t=>{if(e>=t.offsetTop&&e<t.offsetTop+t.offsetHeight){const n=t.getAttribute("id");mn.forEach(u=>{u.classList.toggle("active",u.getAttribute("href")===`#${n}`)})}})}window.addEventListener("scroll",pn);
//# sourceMappingURL=index.js.map
