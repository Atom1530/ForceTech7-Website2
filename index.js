import{a as bn,S as wn,i as Me}from"./assets/vendor-BGCTnJtW.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();const _n=/localhost|127\.0\.0\.1/.test(location.hostname)||(document.documentElement.getAttribute("data-env")||"").toLowerCase()==="dev",Ze=(...e)=>{_n&&console.warn(...e)},Ue=bn.create({baseURL:"https://sound-wave.b.goit.study/api",timeout:15e3});async function Ln({page:e=1,limit:t=8,genre:n="",sort:a="",name:o=""}={}){var c;try{const u={page:Math.max(1,Number(e)||1),limit:Math.max(1,Number(t)||8)},p=String(a).toLowerCase();(p==="asc"||p==="desc")&&(u.sortName=p);const w=String(n).trim();w&&w!=="All Genres"&&(u.genre=w);const L=String(o).trim();L.length>=1&&(u.name=L);const{data:h}=await Ue.get("/artists",{params:u});return{artists:Array.isArray(h==null?void 0:h.artists)?h.artists:[],totalArtists:Number((h==null?void 0:h.totalArtists)||0),page:Number((h==null?void 0:h.page)||u.page),limit:Number((h==null?void 0:h.limit)||u.limit)}}catch(u){Ze("[api] fetchArtists",(u==null?void 0:u.message)||u);try{(c=window.__toast)==null||c.error("Не удалось загрузить артистов. Попробуйте позже.")}catch{}return{artists:[],totalArtists:0,page:1,limit:t}}}async function An(){var e;try{const{data:t}=await Ue.get("/genres"),a=(Array.isArray(t)?t:(t==null?void 0:t.genres)||[]).map(c=>typeof c=="string"?c:(c==null?void 0:c.name)||(c==null?void 0:c.title)||(c==null?void 0:c.genre)||(c==null?void 0:c.label)||"").filter(Boolean);return["All Genres",...[...new Set(a)]]}catch(t){Ze("[api] fetchGenres",(t==null?void 0:t.message)||t);try{(e=window.__toast)==null||e.error("Не удалось загрузить жанры.")}catch{}return["All Genres"]}}async function En(e){var t;try{const{data:n}=await Ue.get(`/artists/${e}`);return n||null}catch(n){Ze("[api] fetchArtist",(n==null?void 0:n.message)||n);try{(t=window.__toast)==null||t.error("Не удалось загрузить артиста.")}catch{}return null}}async function kn(e){var t;try{const{data:n}=await Ue.get(`/artists/${e}/albums`);return Array.isArray(n)?n:Array.isArray(n==null?void 0:n.albumsList)?n.albumsList:Array.isArray(n==null?void 0:n.albums)?n.albums:[]}catch(n){Ze("[api] albums",(n==null?void 0:n.message)||n);try{(t=window.__toast)==null||t.error("Не удалось загрузить альбомы.")}catch{}return[]}}let E,we,pe,Te,Je=!1;function It(){if(Je)return;const e=window.AudioContext||window.webkitAudioContext;if(!e)return;E=new e,pe=E.createDynamicsCompressor(),pe.threshold.value=-26,pe.knee.value=22,pe.ratio.value=6,pe.attack.value=.004,pe.release.value=.08,Te=E.createBiquadFilter(),Te.type="lowpass",Te.frequency.value=2300,Te.Q.value=.6,we=E.createGain(),we.gain.value=.11,we.connect(Te),Te.connect(pe),pe.connect(E.destination);const t=()=>{try{E.resume()}catch{}window.removeEventListener("pointerdown",t),window.removeEventListener("keydown",t),window.removeEventListener("touchstart",t)};window.addEventListener("pointerdown",t,{once:!0,passive:!0}),window.addEventListener("keydown",t,{once:!0}),window.addEventListener("touchstart",t,{once:!0,passive:!0}),Je=!0}function zt(){E&&E.state==="suspended"&&E.resume()}function Sn(){if(Je||It(),!E)return;zt();const e=E.currentTime+.004,t=.055,n=E.createBufferSource(),a=E.createBuffer(1,Math.max(32,E.sampleRate*t|0),E.sampleRate),o=a.getChannelData(0);for(let k=0;k<o.length;k++){const P=k/o.length;o[k]=(Math.random()*2-1)*Math.pow(1-P,2)}n.buffer=a;const c=E.createBiquadFilter();c.type="bandpass",c.frequency.value=2050,c.Q.value=.9;const u=E.createBiquadFilter();u.type="highpass",u.frequency.value=360,u.Q.value=.7;const p=E.createGain();p.gain.setValueAtTime(1e-4,e),p.gain.linearRampToValueAtTime(.45,e+.004),p.gain.exponentialRampToValueAtTime(1e-4,e+.055),n.connect(c),c.connect(u),u.connect(p),p.connect(we),n.start(e),n.stop(e+.06);const w=E.createOscillator();w.type="triangle",w.frequency.setValueAtTime(2100,e);const L=E.createGain();L.gain.setValueAtTime(1e-4,e),L.gain.linearRampToValueAtTime(.2,e+.003),L.gain.exponentialRampToValueAtTime(1e-4,e+.05),w.connect(L),L.connect(we),w.start(e),w.stop(e+.055);const h=E.createOscillator();h.type="sine",h.frequency.setValueAtTime(165,e);const _=E.createGain();_.gain.setValueAtTime(1e-4,e),_.gain.linearRampToValueAtTime(.05,e+.003),_.gain.exponentialRampToValueAtTime(1e-4,e+.042),h.connect(_),_.connect(we),h.start(e),h.stop(e+.045)}function xn(){if(Je||It(),!E)return;zt();const e=E.currentTime+.003,t=E.createOscillator();t.type="triangle",t.frequency.setValueAtTime(1750,e);const n=E.createGain();n.gain.setValueAtTime(1e-4,e),n.gain.linearRampToValueAtTime(.17,e+.003),n.gain.exponentialRampToValueAtTime(1e-4,e+.06),t.connect(n),n.connect(we),t.start(e),t.stop(e+.065)}const m={tap:Sn,page:xn},Tn=e=>(e==null?void 0:e.idArtist)||(e==null?void 0:e.id)||(e==null?void 0:e._id)||(e==null?void 0:e.artistId)||"",Mn=e=>Array.isArray(e==null?void 0:e.genres)?e.genres:typeof(e==null?void 0:e.strGenre)=="string"&&e.strGenre.trim()?e.strGenre.split(/,\s*/).filter(Boolean):e!=null&&e.genre?[e.genre]:[],qn="https://via.placeholder.com/960x540?text=No+Image",Vt=(e={})=>({id:Tn(e),name:e.strArtist||e.name||"Unknown artist",image:e.strArtistThumb||e.thumb||e.photo||e.image||qn,country:e.strCountry||e.country||"N/A",members:e.intMembers||e.members||"N/A",gender:e.strGender||e.sex||"N/A",biography:e.strBiographyEN||e.biography||e.about||"",genres:Mn(e),formedYear:e.intFormedYear||e.formedYear||e.yearStart||null,endedYear:e.intDisbandedYear||e.intDiedYear||e.disbandedYear||e.yearEnd||null}),Pn=(e={})=>({title:e.strTrack||e.title||e.name||"—",duration:Number(e.intDuration??e.duration??e.time??0),youtube:e.strMusicVid||e.youtube||e.youtube_url||e.url||e.movie||""}),$n=(e={})=>{const t=Array.isArray(e.tracks)?e.tracks:Array.isArray(e.songs)?e.songs:Array.isArray(e.track)?e.track:[];return{title:e.strAlbum||e.title||e.name||"Album",tracks:t.map(Pn)}};async function Cn(e){const t=await Ln(e),a=(Array.isArray(t==null?void 0:t.artists)?t.artists:Array.isArray(t)?t:[]).map(Vt),o=Number((t==null?void 0:t.totalArtists)??(t==null?void 0:t.total)??a.length);return{artists:a,totalArtists:o}}async function Yn(){const e=await An();return Array.isArray(e)?e:Array.isArray(e==null?void 0:e.genres)?e.genres:[]}async function Ht(e){const t=await En(e),n=Array.isArray(t)?t[0]:Array.isArray(t==null?void 0:t.artists)?t.artists[0]:t;return n?Vt(n):null}async function Ft(e){const t=await kn(e);return(Array.isArray(t)?t:Array.isArray(t==null?void 0:t.albums)?t.albums:Array.isArray(t==null?void 0:t.album)?t.album:[]).map($n)}const je={page:1,limit:8,total:0,sort:"",genre:"",q:"",isMobilePanelOpen:!1},lt=new Set;function et(){return{...je}}function Nn(){const e=et();lt.forEach(t=>{try{t(e)}catch{}})}function Bn(e){return typeof e!="function"?()=>{}:(lt.add(e),()=>lt.delete(e))}function Dn(){return et()}function ue(e={}){const t="genre"in e||"sort"in e||"q"in e,n={...je,...e};t&&!("page"in e)&&(n.page=1),n.page=Math.max(1,Number(n.page)||1),n.limit=Math.max(1,Number(n.limit)||8),n.total=Math.max(0,Number(n.total)||0);let a=!1;for(const o of Object.keys(n))je[o]!==n[o]&&(je[o]=n[o],a=!0);return a&&Nn(),et()}function On(){return ue({page:1,sort:"",genre:"",q:""})}const z={get(){return et()},setPage(e){ue({page:Math.max(1,Number(e)||1)})},setLimit(e){ue({limit:Math.max(1,Number(e)||8)})},setSort(e){ue({sort:e||""})},setGenre(e){ue({genre:e||""})},setQuery(e){ue({q:(e||"").trim()})},setTotal(e){ue({total:Math.max(0,Number(e)||0)})},setMobilePanel(e){ue({isMobilePanelOpen:!!e})},reset(){On()}};let Ge=0,ct=0;function Rn(){if(Ge++===0){ct=window.scrollY||document.documentElement.scrollTop||0;const e=document.body.style;e.position="fixed",e.top=`-${ct}px`,e.left="0",e.right="0",e.width="100%",document.body.classList.add("scroll-locked")}}function jt(e=!1){if(e&&(Ge=1),Ge>0&&--Ge===0){const t=document.body.style;t.position=t.top=t.left=t.right=t.width="",window.scrollTo(0,ct),document.body.classList.remove("scroll-locked")}}function xt(){jt(!0)}typeof window<"u"&&(window.__unlockScroll=xt,window.addEventListener("pageshow",()=>xt()));let He=null;function Ne(){return window.YT&&window.YT.Player?Promise.resolve():(Ne._p||(Ne._p=new Promise((e,t)=>{const n=document.createElement("script");n.src="https://www.youtube.com/iframe_api",n.onerror=()=>t(new Error("YT API load failed")),document.head.appendChild(n);const a=setTimeout(()=>t(new Error("YT API timeout")),15e3);window.onYouTubeIframeAPIReady=()=>{clearTimeout(a),e()}})),Ne._p)}const st=/iPad|iPhone|iPod/.test(navigator.userAgent);function Tt(e){if(!e)return"";if(/^[\w-]{11}$/.test(e))return e;try{const t=new URL(e);if(/youtu\.be$/.test(t.hostname))return t.pathname.slice(1);if(t.searchParams.get("v"))return t.searchParams.get("v");const n=t.pathname.match(/\/(embed|shorts|v)\/([^/?#]+)/);return n?n[2]:""}catch{return""}}const W=(e,t,n)=>Math.min(n,Math.max(t,e)),In=e=>{const t=e.slice();for(let n=t.length-1;n>0;n--){const a=Math.random()*(n+1)|0;[t[n],t[a]]=[t[a],t[n]]}return t};function rt(e){e=Math.max(0,Math.round(Number(e)||0));const t=Math.floor(e/60),n=String(e%60).padStart(2,"0");return`${t}:${n}`}function Gt(){var kt,St;if(He)return He;const e=document.createElement("div");e.className="am-player",e.innerHTML=`
    <div class="am-player__inner">
      <div class="am-player__dragzone" aria-hidden="true" title="Drag the player"></div>

      <!-- Верхние кнопки: Hide слева от Close -->
      <button class="am-player__hide" type="button" aria-label="Hide">Hide</button>
      <button class="am-player__close" type="button" aria-label="Close">×</button>

      <div class="am-player__frame">
        <div class="am-player__host" id="am-player-host"></div>
        <!-- наша кнопка YouTube поверх кадра, влево-вверх -->
        <a class="am-player__ytlink" href="#" target="_blank" rel="noopener noreferrer" aria-label="Open on YouTube">YouTube ↗</a>
      </div>

      <div class="am-player__bar">
        <div class="am-player__left">
          <button class="am-player__skip am-player__prev" type="button" aria-label="Previous">⏮</button>
          <button class="am-player__play" type="button" aria-label="Play/Pause">▶</button>
          <button class="am-player__skip am-player__next" type="button" aria-label="Next">⏭</button>
          <span class="am-player__time"><span class="am-player__cur">0:00</span> / <span class="am-player__dur">0:00</span></span>
        </div>

        <div class="am-player__progresswrap">
          <input class="am-player__progress" type="range" min="0" max="1000" value="0" step="1" aria-label="Seek">
        </div>

        <div class="am-player__right">
          <button class="am-player__mute" type="button" aria-label="Mute/Unmute">🔈</button>
          <input class="am-player__slider" type="range" min="0" max="100" value="60" step="1" aria-label="Volume">
        </div>
      </div>
    </div>
  `,document.body.appendChild(e);let t=null;const n=e.querySelector("#am-player-host"),a=e.querySelector(".am-player__close"),o=e.querySelector(".am-player__hide"),c=e.querySelector(".am-player__play"),u=e.querySelector(".am-player__prev"),p=e.querySelector(".am-player__next"),w=e.querySelector(".am-player__mute"),L=e.querySelector(".am-player__slider"),h=e.querySelector(".am-player__progress"),_=e.querySelector(".am-player__cur"),k=e.querySelector(".am-player__dur"),P=e.querySelector(".am-player__dragzone"),f=e.querySelector(".am-player__ytlink");let i=null,M=!1,v=0,I=null,$=!1,F=60,ge=!1,S=[],x=-1,K=!1;const Ae="amPlayerPos";let j=null;const T="amBubblePos2";let fe=!1,Z=null,se=null,Ee=null;st&&(L.disabled=!0,L.title="On iOS the volume is hardware-only");function re(s){e.classList.toggle("am-player--active",!!s),s&&ne()}function ae(s){e.classList.toggle("am-player--min",!!s),s?Se(!0):ne()}function ie(s){c.textContent=s?"⏸":"▶"}function $e(s){w.textContent=s?"🔇":"🔈"}function Ie(s,l){if(_.textContent=rt(s),k.textContent=rt(l),!ge){const y=l>0?Math.round(s/l*1e3):0;h.value=String(y)}}function oe(){I&&(clearInterval(I),I=null)}function U(){oe(),I=setInterval(()=>{if(!M||!i||typeof i.getCurrentTime!="function")return;const s=i.getCurrentTime()||0,l=v||i.getDuration()||0;v=l,Ie(s,l)},250)}function ee(){Ee&&(clearTimeout(Ee),Ee=null)}function le(s=2e3){setTimeout(ke,s)}function ze(s){return Ne().then(()=>{if(i){try{i.destroy()}catch{}i=null}n.innerHTML='<div id="am-player-yt"></div>',i=new YT.Player("am-player-yt",{host:"https://www.youtube-nocookie.com",videoId:s,playerVars:{autoplay:1,rel:0,modestbranding:1,controls:1,enablejsapi:1,origin:location.origin},events:{onReady:()=>{M=!0,v=i.getDuration()||0,Ie(0,v),!st&&typeof i.setVolume=="function"&&i.setVolume(F),$&&i.mute&&i.mute(),ie(!0),H(!0),Et(F),U(),ee(),Ee=setTimeout(()=>{try{i&&i.getPlayerState&&i.getPlayerState()!==YT.PlayerState.PLAYING&&(console.warn("Watchdog: видео не стартовало — пропускаем."),H(!1),le(0))}catch{}},6e3)},onStateChange:l=>{l.data===YT.PlayerState.PLAYING?(ee(),ie(!0),H(!0),U()):l.data===YT.PlayerState.PAUSED?(ie(!1),H(!1),oe()):l.data===YT.PlayerState.ENDED&&(ie(!1),H(!1),oe(),ee(),ke())},onError:l=>{console.error("YT Player error:",l==null?void 0:l.data),ie(!1),H(!1),oe(),ee(),le(1200)}}})})}async function G(s){if(!S.length)return;x=W(s,0,S.length-1);const l=S[x];if(!l||!/^[\w-]{11}$/.test(l))return console.warn("Некорректный YouTube ID, пропускаю:",l),le(0);f.href=`https://www.youtube.com/watch?v=${l}`,re(!0),M=!1,v=0,oe(),ee();try{await ze(l)}catch(y){console.error("Не удалось воспроизвести:",l,y),le(1200)}}function ke(){S.length&&(x<S.length-1?G(x+1):K&&G(0))}function he(){var y,A;const s=((y=window.visualViewport)==null?void 0:y.width)||document.documentElement.clientWidth||window.innerWidth,l=((A=window.visualViewport)==null?void 0:A.height)||document.documentElement.clientHeight||window.innerHeight;return{w:s,h:l}}function r(){if(!e.classList.contains("am-player--free"))return;const s=e.getBoundingClientRect(),{w:l,h:y}=he();let A=W(s.left,8,Math.max(8,l-s.width-8)),D=W(s.top,8,Math.max(8,y-s.height-8));e.style.left=`${A}px`,e.style.top=`${D}px`;try{localStorage.setItem(Ae,JSON.stringify({left:A,top:D}))}catch{}}function d(){let s=null;try{s=JSON.parse(localStorage.getItem(Ae)||"null")}catch{}s&&Number.isFinite(s.left)&&Number.isFinite(s.top)?(e.classList.add("am-player--free"),e.style.transform="none",e.style.left=`${s.left}px`,e.style.top=`${s.top}px`,e.style.right="auto",e.style.bottom="auto",r()):(e.classList.remove("am-player--free"),e.style.left="",e.style.top="",e.style.right="",e.style.bottom="",e.style.transform="")}function g(s){var l;if(!e.classList.contains("am-player--free")){const y=e.getBoundingClientRect();e.classList.add("am-player--free"),e.style.transform="none",e.style.left=`${y.left}px`,e.style.top=`${y.top}px`,e.style.right="auto",e.style.bottom="auto"}j={startX:s.clientX,startY:s.clientY,baseLeft:parseFloat(e.style.left||"0"),baseTop:parseFloat(e.style.top||"0")},P.classList.add("dragging");try{(l=P.setPointerCapture)==null||l.call(P,s.pointerId)}catch{}}function Y(s){if(!j)return;let l=j.baseLeft+(s.clientX-j.startX),y=j.baseTop+(s.clientY-j.startY);const A=e.getBoundingClientRect(),{w:D,h:te}=he();l=W(l,8,Math.max(8,D-A.width-8)),y=W(y,8,Math.max(8,te-A.height-8)),e.style.left=`${l}px`,e.style.top=`${y}px`}function Q(s){var l;if(j){try{(l=P.releasePointerCapture)==null||l.call(P,s.pointerId)}catch{}P.classList.remove("dragging"),j=null,r()}}P.addEventListener("pointerdown",g),window.addEventListener("pointermove",Y),window.addEventListener("pointerup",Q),window.addEventListener("resize",r),(kt=window.visualViewport)==null||kt.addEventListener("resize",r),window.addEventListener("orientationchange",r);function N(){return t||(t=document.createElement("button"),t.className="am-player__bubble is-paused",t.type="button",t.setAttribute("aria-label","Open player"),t.style.display="none",t.style.left="auto",t.style.top="auto",t.style.right="auto",t.style.bottom="auto",t.innerHTML='<span class="note">♪</span>',document.body.appendChild(t),t.addEventListener("pointerdown",s=>{fe=!1;try{t.setPointerCapture(s.pointerId)}catch{}const l=t.getBoundingClientRect();Z={x:s.clientX,y:s.clientY,left:l.left,top:l.top}}),t.addEventListener("pointermove",s=>{if(!Z)return;const l=s.clientX-Z.x,y=s.clientY-Z.y;Math.abs(l)+Math.abs(y)>3&&(fe=!0);const A=Z.left+l|0,D=Z.top+y|0;t.style.right="auto",t.style.bottom="auto",t.style.left=`${A}px`,t.style.top=`${D}px`}),t.addEventListener("pointerup",s=>{try{t.releasePointerCapture(s.pointerId)}catch{}fe||ae(!1),Ce(),Ye(),Z=null,fe=!1}),t)}function B(){const s=document.documentElement.clientWidth||window.innerWidth,l=document.documentElement.clientHeight||window.innerHeight;return{w:s,h:l}}function q(s,l,y,A){const{w:D,h:te}=B(),ce=Math.max(1,D-y),xe=Math.max(1,te-A);se={left:s,top:l,width:y,height:A,rx:W(s/ce,0,1),ry:W(l/xe,0,1)};try{localStorage.setItem(T,JSON.stringify(se))}catch{}}function ve(){if(se&&Number.isFinite(se.left)&&Number.isFinite(se.top))return se;try{const s=JSON.parse(localStorage.getItem(T)||"null");if(s&&Number.isFinite(s.rx)&&Number.isFinite(s.ry))return s}catch{}return null}function be(s,l=64){const{w:y,h:A}=B(),D=(s==null?void 0:s.width)||l,te=(s==null?void 0:s.height)||l,ce=Math.max(1,y-D),xe=Math.max(1,A-te),Ve=W(Math.round(((s==null?void 0:s.rx)??.5)*ce),8,ce),vn=W(Math.round(((s==null?void 0:s.ry)??.8)*xe),8,xe);return{left:Ve,top:vn}}function Se(s=!0){const l=N();l.style.right="auto",l.style.bottom="auto",l.style.display="grid";const y=l.getBoundingClientRect();let A=s?ve():null,D,te;if(A){const ce=be(A,y.width||64);D=ce.left,te=ce.top}else{const{w:ce,h:xe}=he(),Ve=y.width||64;D=Math.max(8,Math.round((ce-Ve)/2)),te=Math.max(8,Math.round(xe-Ve-24))}l.style.left=`${D}px`,l.style.top=`${te}px`,Ce(),Ye()}function ne(){t&&(t.style.display="none")}function H(s){N().classList.toggle("is-paused",!s)}function Et(s){const l=N(),y=1.02+Math.max(0,Math.min(100,s))/100*.08;l.style.setProperty("--amp",y.toFixed(3))}function Ce(s=8){if(!t||t.style.display==="none")return;const{w:l,h:y}=he(),A=t.getBoundingClientRect();let D=W(A.left,s,Math.max(s,l-A.width-s)),te=W(A.top,s,Math.max(s,y-A.height-s));t.style.right="auto",t.style.bottom="auto",t.style.left=`${D}px`,t.style.top=`${te}px`}function Ye(){if(!t||t.style.display==="none")return;const s=t.getBoundingClientRect();q(s.left,s.top,s.width,s.height)}window.addEventListener("resize",()=>{Ce(),Ye()}),(St=window.visualViewport)==null||St.addEventListener("resize",()=>{Ce(),Ye()}),window.addEventListener("orientationchange",()=>{Ce(),Ye()}),a.addEventListener("click",()=>{var s,l;try{(s=i==null?void 0:i.stopVideo)==null||s.call(i),(l=i==null?void 0:i.destroy)==null||l.call(i)}catch{}i=null,M=!1,v=0,oe(),ee(),re(!1),ae(!1),S=[],x=-1,H(!1)}),o.addEventListener("click",()=>{ae(!0)}),f.addEventListener("click",()=>{var s,l;try{(s=i==null?void 0:i.stopVideo)==null||s.call(i),(l=i==null?void 0:i.destroy)==null||l.call(i)}catch{}i=null,M=!1,v=0,oe(),ee(),re(!1),ae(!1),S=[],x=-1,H(!1)}),c.addEventListener("click",()=>{var l,y;if(!M||!i)return;(i.getPlayerState?i.getPlayerState():-1)===YT.PlayerState.PLAYING?((l=i.pauseVideo)==null||l.call(i),ie(!1),H(!1)):((y=i.playVideo)==null||y.call(i),ie(!0),H(!0))}),u.addEventListener("click",()=>{S.length&&G(x>0?x-1:K?S.length-1:0)}),p.addEventListener("click",()=>{S.length&&G(x<S.length-1?x+1:K?0:x)}),w.addEventListener("click",()=>{var s,l;i&&($=!$,$?(s=i.mute)==null||s.call(i):(l=i.unMute)==null||l.call(i),$e($))}),L.addEventListener("input",()=>{var l,y,A;const s=Number(L.value)||0;F=s,st||(l=i==null?void 0:i.setVolume)==null||l.call(i,s),s===0&&!$?($=!0,(y=i==null?void 0:i.mute)==null||y.call(i),$e(!0)):s>0&&$&&($=!1,(A=i==null?void 0:i.unMute)==null||A.call(i),$e(!1)),Et(s)}),h.addEventListener("input",()=>{ge=!0;const s=Number(h.value)||0,l=v>0?s/1e3*v:0;_.textContent=rt(l)}),h.addEventListener("change",()=>{var y;if(ge=!1,!i||!v)return;const l=(Number(h.value)||0)/1e3*v;(y=i.seekTo)==null||y.call(i,l,!0)});async function dn(s){const l=Tt(s);l&&(S=[l],x=0,ae(!1),re(!0),d(),await G(0))}async function mn(s,l={}){const y=(s||[]).map(Tt).filter(Boolean);if(!y.length)return;K=!!l.loop,S=l.shuffle?In(y):y.slice();const D=W(Number(l.startIndex??0)||0,0,S.length-1);ae(!1),re(!0),d(),await G(D)}function fn(){S.length&&G(x<S.length-1?x+1:K?0:x)}function pn(){S.length&&G(x>0?x-1:K?S.length-1:0)}function yn(){return e.classList.contains("am-player--active")&&!e.classList.contains("am-player--min")}function gn(){ae(!0)}function hn(){a.click()}return He={open:dn,openQueue:mn,next:fn,prev:pn,minimize:gn,isActive:yn,close:hn},He}let C,Mt,ut,b,dt,at,it,Pe=!1,gt=0,ht=0,X=0,J=0,O=1,mt=0,ft=0,Qe=0,We=0;const V=new Map;let De=!1,tt=0,vt=1;const Ke=(e,t,n)=>Math.max(t,Math.min(n,e)),Qt=(e,t)=>Math.hypot(e.x-t.x,e.y-t.y),zn=(e,t)=>({x:(e.x+t.x)/2,y:(e.y+t.y)/2});function Vn(){if(C)return;C=document.createElement("div"),C.className="am-zoom",C.innerHTML=`
    <div class="am-zoom__backdrop"></div>
    <div class="am-zoom__dialog" role="dialog" aria-modal="true" aria-label="Image preview">
      <div class="am-zoom__stage">
        <img class="am-zoom__img" alt="">
      </div>
      <div class="am-zoom__bar">
        <a class="am-zoom__open" href="#" target="_blank" rel="noopener noreferrer">Open original ↗</a>
        <button class="am-zoom__close" type="button" aria-label="Close">×</button>
      </div>
    </div>`,document.body.appendChild(C),Object.assign(C.style,{position:"fixed",inset:"0",zIndex:"6000",display:"none"}),Mt=C.querySelector(".am-zoom__dialog"),Object.assign(Mt.style,{position:"absolute",inset:"0",display:"grid",gridTemplateRows:"1fr auto",gap:"12px",padding:"16px"}),it=C.querySelector(".am-zoom__backdrop"),Object.assign(it.style,{position:"absolute",inset:"0",background:"rgba(0,0,0,.7)"}),ut=C.querySelector(".am-zoom__stage"),Object.assign(ut.style,{position:"relative",background:"#000",borderRadius:"12px",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center",minHeight:"240px",height:"calc(100vh - 140px)",touchAction:"none"}),b=C.querySelector(".am-zoom__img"),b.style.maxWidth="100%",b.style.maxHeight="100%",b.style.width="auto",b.style.setProperty("height","auto","important"),b.style.objectFit="contain",b.style.transformOrigin="center center",b.style.willChange="transform",b.style.userSelect="none",b.style.webkitUserDrag="none",b.style.pointerEvents="auto";const e=C.querySelector(".am-zoom__bar");Object.assign(e.style,{display:"flex",justifyContent:"space-between",alignItems:"center",gap:"12px"}),dt=C.querySelector(".am-zoom__open"),dt.style.color="#fff",at=C.querySelector(".am-zoom__close"),Object.assign(at.style,{width:"40px",height:"40px",borderRadius:"10px",border:"none",background:"var(--color-affair, #764191)",color:"#fff",cursor:"pointer"}),it.addEventListener("click",ot),at.addEventListener("click",ot),C.addEventListener("wheel",jn,{passive:!1}),b.addEventListener("dblclick",Fn),b.addEventListener("pointerdown",Gn),b.addEventListener("pointermove",Qn),b.addEventListener("pointerup",qt),b.addEventListener("pointercancel",qt),document.addEventListener("keydown",t=>{t.key==="Escape"&&pt()&&ot()}),window.addEventListener("resize",()=>{pt()&&(Wt(),ye())})}function Hn(){const e=b.style.transform;b.style.transform="translate3d(0,0,0) scale(1)";const t=b.getBoundingClientRect();b.style.transform=e,mt=t.width,ft=t.height}function Wt(){const e=ut.getBoundingClientRect();Qe=e.width,We=e.height}function Xt(){if(!mt||!ft||!Qe||!We)return;const e=mt*O,t=ft*O;if(e<=Qe)X=0;else{const n=(e-Qe)/2;X=Ke(X,-n,n)}if(t<=We)J=0;else{const n=(t-We)/2;J=Ke(J,-n,n)}}function ye(){Xt(),b.style.transform=`translate3d(${X}px, ${J}px, 0) scale(${O})`,b.style.cursor=O>1?Pe?"grabbing":"grab":"zoom-in"}function Jt(e,t=""){if(!e)return;Vn(),V.clear(),De=!1,tt=0,vt=1,Pe=!1,gt=ht=0,X=J=0,O=1,b.src=e,b.alt=t||"",dt.href=e,C.style.display="block";const n=()=>{Wt(),Hn(),Xt(),ye()};b.complete&&b.naturalWidth>0?requestAnimationFrame(n):b.onload=()=>requestAnimationFrame(n)}function ot(){C&&(C.style.display="none",b.src="",V.clear(),De=!1)}function pt(){return!!(C&&C.style.display!=="none")}function Fn(){O=O>1?1:2,O===1&&(X=0,J=0),ye()}function jn(e){if(!pt())return;e.preventDefault();const t=Ke(O+(e.deltaY>0?-.15:.15),1,3),n=b.getBoundingClientRect(),a={x:e.clientX,y:e.clientY},o={x:n.left+n.width/2,y:n.top+n.height/2},c=t/O;X+=(o.x-a.x)*(1-c),J+=(o.y-a.y)*(1-c),O=t,O===1&&(X=0,J=0),ye()}function Gn(e){if(V.set(e.pointerId,{x:e.clientX,y:e.clientY}),b.setPointerCapture(e.pointerId),V.size===2){const[t,n]=Array.from(V.values());De=!0,tt=Qt(t,n)||1,vt=O,Pe=!1;return}V.size===1&&O>1&&(Pe=!0,gt=e.clientX-X,ht=e.clientY-J,ye())}function Qn(e){if(V.has(e.pointerId)){if(V.set(e.pointerId,{x:e.clientX,y:e.clientY}),De&&V.size>=2){const[t,n]=Array.from(V.values()),a=Qt(t,n)||1;let o=Ke(vt*(a/tt),1,3);const c=zn(t,n),u=b.getBoundingClientRect(),p={x:u.left+u.width/2,y:u.top+u.height/2},w=o/O;X+=(p.x-c.x)*(1-w),J+=(p.y-c.y)*(1-w),O=o,O===1&&(X=0,J=0),ye();return}Pe&&V.size===1&&O>1&&(X=e.clientX-gt,J=e.clientY-ht,ye())}}function qt(e){V.has(e.pointerId)&&V.delete(e.pointerId);try{b.releasePointerCapture(e.pointerId)}catch{}V.size<2&&(De=!1,tt=0),V.size===0&&(Pe=!1,ye())}const Wn="/img/sprite.svg";function Xn(e){const t=Number(e);if(!Number.isFinite(t))return"—";const n=Math.round(t/1e3),a=Math.floor(n/60),o=String(n%60).padStart(2,"0");return`${a}:${o}`}function Jn(e={}){const t=e.intFormedYear||e.yearStart||e.formedYear,n=e.intDisbandedYear||e.intDiedYear||e.yearEnd||e.disbandedYear;return t&&n?`${t}–${n}`:t?`${t}–present`:"information missing"}function Kn(e={}){const t=e.strTrack||e.title||e.name||"—",n=Xn(e.intDuration??e.duration??e.time),a=e.movie??e.youtube??e.youtube_url??e.url??e.strMusicVid;return`
    <li class="tr">
      <span>${t}</span>
      <span>${n}</span>
      <span>${a?`<a class="yt" href="${a}" target="_blank" rel="noopener noreferrer" aria-label="Play">
               <svg class="ico am-yt" aria-hidden="true">
                 <use href="${Wn}#icon-icon_youtube_footer"></use>
               </svg>
             </a>`:'<span class="yt-ph"></span>'}</span>
    </li>`}function Zn(e=document){let t=e.querySelector("#artist-modal");return t||(t=e.createElement("div"),t.id="artist-modal",t.className="amodal",t.setAttribute("hidden",""),t.innerHTML=`
    <div class="amodal__backdrop"></div>
    <div class="amodal__dialog" role="dialog" aria-modal="true" aria-label="Artist details">
      <button id="am-close" class="amodal__close" type="button" aria-label="Close">×</button>
      <div id="am-body" class="amodal__body">
        <div class="amodal__loader loader"></div>
      </div>
    </div>`,e.body.appendChild(t),t)}function Kt(e=document){const t=(e&&e.querySelector?e.querySelector("#artist-modal"):null)||document.querySelector("#artist-modal")||Zn(document),n=t.querySelector("#am-body"),a=t.querySelector("#am-close"),o=t.querySelector(".amodal__dialog"),c=Gt();let u=null,p=null;function w(){var f;u||(u=document.createElement("button"),u.type="button",u.className="amodal__scrolltop",u.setAttribute("aria-label","Scroll to top"),u.textContent="↑",o.appendChild(u),u.addEventListener("click",()=>{var i;(i=m==null?void 0:m.tap)==null||i.call(m),o.scrollTo({top:0,behavior:"smooth"})}),p=()=>{const M=o.getBoundingClientRect(),v=Math.max(24,window.innerWidth-(M.left+M.width)+24);u.style.right=`${v}px`,u.style.bottom="28px"},o.addEventListener("scroll",()=>{u.style.display=(o.scrollTop||0)>220?"flex":"none",p()}),window.addEventListener("resize",p),(f=window.visualViewport)==null||f.addEventListener("resize",p),window.addEventListener("orientationchange",p),p())}function L(){t.removeAttribute("hidden"),Rn(),w(),u&&(u.style.display="none"),n.innerHTML='<div class="amodal__loader loader"></div>',document.addEventListener("keydown",_)}function h(){var f;t.setAttribute("hidden",""),jt(),n.innerHTML="",document.removeEventListener("keydown",_),u&&(u.style.display="none"),p&&(window.removeEventListener("resize",p),(f=window.visualViewport)==null||f.removeEventListener("resize",p),window.removeEventListener("orientationchange",p),p=null)}const _=f=>{var i;f.key==="Escape"&&((i=m==null?void 0:m.tap)==null||i.call(m),h())};a.addEventListener("click",()=>{var f;(f=m==null?void 0:m.tap)==null||f.call(m),h()}),t.addEventListener("click",f=>{var i;f.target.classList.contains("amodal__backdrop")&&((i=m==null?void 0:m.tap)==null||i.call(m),h())}),t.addEventListener("click",f=>{var v,I;const i=f.target.closest("a.yt");if(i){f.preventDefault(),(v=m==null?void 0:m.tap)==null||v.call(m),c.open(i.href);return}const M=f.target.closest(".amodal__img");if(M){(I=m==null?void 0:m.tap)==null||I.call(m);const $=M.currentSrc||M.getAttribute("src")||M.getAttribute("data-src")||"";Jt($,M.getAttribute("alt")||"")}});async function k(f){const[i,M]=await Promise.all([Ht(f).catch(()=>({})),Ft(f).catch(()=>[])]),v=i||{},I=v.strArtist||v.name||"Unknown artist",$=v.strArtistThumb||v.photo||v.image||"https://via.placeholder.com/960x540?text=No+Image",F=v.strCountry||v.country||"N/A",ge=v.intMembers||v.members||"N/A",S=v.strGender||v.sex||"N/A",x=v.strBiographyEN||v.about||"",K=Array.isArray(v.genres)?v.genres:v.genre?[v.genre]:[],j=(Array.isArray(M)?M:[]).map(T=>{const fe=(T==null?void 0:T.strAlbum)||(T==null?void 0:T.title)||(T==null?void 0:T.name)||"Album",Z=Array.isArray(T==null?void 0:T.tracks)?T.tracks:Array.isArray(T==null?void 0:T.songs)?T.songs:[];return`
        <div class="am-album">
          <div class="am-album__title">${fe}</div>
          <ul class="tbl">
            <li class="th"><span>Track</span><span>Time</span><span>Link</span></li>
            ${Z.map(Kn).join("")}
          </ul>
        </div>`}).join("");n.innerHTML=`
      <h3 class="amodal__title">${I}</h3>

      <div class="amodal__content">
        <img class="amodal__img" src="${$}" alt="${I}" loading="lazy">
        <div class="amodal__info">
          <div class="am-meta">
            <div class="am-meta__col">
              <div class="am-meta__item"><span class="lbl">Years active</span><span class="val">${Jn(v)}</span></div>
              <div class="am-meta__item"><span class="lbl">Sex</span><span class="val">${S}</span></div>
            </div>
            <div class="am-meta__col">
              <div class="am-meta__item"><span class="lbl">Members</span><span class="val">${ge}</span></div>
              <div class="am-meta__item"><span class="lbl">Country</span><span class="val">${F}</span></div>
            </div>
          </div>

          <div class="am-bio">
            <div class="lbl">Biography</div>
            <p>${x||"—"}</p>
          </div>

          ${K.length?`<div class="am-tags">${K.map(T=>`<span class="tag">${T}</span>`).join("")}</div>`:""}
        </div>
      </div>

      <h4 class="amodal__albums-title">Albums</h4>
      <div class="amodal__albums">
        ${j||"<p class='muted'>No albums found for this artist.</p>"}
      </div>`}async function P(f){var i;(i=m==null?void 0:m.tap)==null||i.call(m),L(),await k(f)}return{openFor:P,close:h}}const Un={BASE_URL:"/ForceTech7-Website2/",DEV:!1,MODE:"production",PROD:!0,SSR:!1};function es(){try{const t=document.querySelector("base");if(t!=null&&t.href)return new URL(t.getAttribute("href"),location.href).pathname.replace(/\/$/,"")}catch{}const e=typeof import.meta<"u"&&Un?"/ForceTech7-Website2/":"";if(e)return e.replace(/\/$/,"");if(location.hostname.endsWith("github.io")){const t=location.pathname.split("/").filter(Boolean);return t.length?`/${t[0]}`:""}return""}const ts=es(),Pt=`${ts}/src/img/sprite.svg`,ns=(e,t="ico")=>`<svg class="${t}" aria-hidden="true"><use href="${Pt}#${e}" xlink:href="${Pt}#${e}"></use></svg>`;function ss(e=document.querySelector("#artists-section")){var he;if(!e)return;const t=e.querySelector("#filters-panel"),n=e.querySelector("#filters-toggle"),a=e.querySelector("#filters-reset"),o=e.querySelector("#filters-reset-sm"),c=e.querySelector("#view-toggle"),u=e.querySelector("#flt-q"),p=e.querySelector("#flt-q-btn"),w=e.querySelector('.dd[data-dd="sort"]'),L=e.querySelector("#dd-sort-btn"),h=e.querySelector("#dd-sort-list"),_=e.querySelector('.dd[data-dd="genre"]'),k=e.querySelector("#dd-genre-btn"),P=e.querySelector("#dd-genre-list"),f=e.querySelector("#artists-grid"),i=e.querySelector("#artists-pager"),M=e.querySelector("#artists-empty"),v=Kt(document);let I=0;const $=r=>r&&r.removeAttribute("hidden"),F=r=>r&&r.setAttribute("hidden",""),ge=()=>matchMedia("(min-width:1440px)").matches,S=r=>((r==null?void 0:r.strArtist)||(r==null?void 0:r.name)||"").toLowerCase();function x(){const r=z.get();ge()?(t==null||t.setAttribute("aria-hidden","false"),n==null||n.setAttribute("aria-expanded","false"),z.setMobilePanel(!1)):(t==null||t.setAttribute("aria-hidden",r.isMobilePanelOpen?"false":"true"),n==null||n.setAttribute("aria-expanded",r.isMobilePanelOpen?"true":"false"))}function K(){const r=e.getBoundingClientRect().top+window.scrollY-16;window.scrollTo({top:r,behavior:"smooth"})}function Ae(r){r?($(M),F(f),F(i),j()):(F(M),$(f))}function j(){f.style.height="",f.style.overflow="",f.style.transition="",f.style.willChange=""}function T(){return`
      <li class="card card--skel">
        <div class="card__media skel skel--media"></div>
        <div class="card__tags">
          <span class="tag skel skel--tag"></span>
          <span class="tag skel skel--tag"></span>
        </div>
        <div class="skel skel--title"></div>
        <div class="skel skel--text"></div>
      </li>`}function fe(r){const d=Math.max(1,Number(r)||8);f.innerHTML=new Array(d).fill(0).map(T).join(""),$(f),F(M),F(i)}function Z(){f.querySelectorAll("img.img-fade").forEach(d=>{const g=()=>d.classList.add("is-loaded");d.complete&&d.naturalWidth>0?g():d.addEventListener("load",g,{once:!0})})}let se=null;function Ee(r){const d=r??f.getBoundingClientRect().height;f.style.willChange="height",f.style.overflow="hidden",f.style.transition="none",f.style.height=`${Math.max(1,Math.round(d||0))}px`}function re(){j()}function ae(r){r(),f.offsetHeight;const d=f.scrollHeight;f.style.transition="height 200ms ease",f.style.height=`${d}px`;const g=Y=>{Y.target!==f||Y.propertyName!=="height"||(f.removeEventListener("transitionend",g),re())};f.addEventListener("transitionend",g),clearTimeout(se),se=setTimeout(re,400)}function ie(r){const d=(r==null?void 0:r.id)||(r==null?void 0:r._id)||(r==null?void 0:r.artistId)||"",g=(r==null?void 0:r.strArtist)||(r==null?void 0:r.name)||"Unknown",Y=(r==null?void 0:r.strArtistThumb)||(r==null?void 0:r.photo)||(r==null?void 0:r.image)||"https://via.placeholder.com/960x540?text=No+Image",Q=(r==null?void 0:r.strBiographyEN)||(r==null?void 0:r.about)||"",N=Array.isArray(r==null?void 0:r.genres)?r.genres:r!=null&&r.genre?[r.genre]:[];return`
      <li class="card" data-id="${d}">
        <div class="card__media">
          <img
            class="img-fade"
            src="${Y}"
            srcset="${Y} 1x, ${Y} 2x"
            sizes="(min-width:1440px) 50vw, (min-width:768px) 704px, 100vw"
            alt="${g}"
            loading="lazy"
          >
        </div>
        <div class="card__tags">${N.map(q=>`<span class="tag">${q}</span>`).join("")}</div>
        <h3 class="card__title">${g}</h3>
        <p class="card__text">${Q}</p>
        <button class="card__link" data-action="more">
          Learn More
          ${ns("icon-icon_play_artists_sections")}
        </button>
      </li>`}function $e(r){f.innerHTML=r.map(ie).join(""),Z()}function Ie(r,d){if(d<=0){i.innerHTML="",F(i);return}if(d===1){i.innerHTML='<button class="active" data-page="1" disabled>1</button>',$(i);return}const g=(q,ve,be=!1,Se=!1)=>`<button ${be?"disabled":""} data-page="${ve}" class="${Se?"active":""}">${q}</button>`,Y=2,Q=Math.max(1,r-Y),N=Math.min(d,r+Y),B=[];B.push(g("‹",Math.max(1,r-1),r===1,!1)),Q>1&&(B.push(g("1",1,!1,r===1)),Q>2&&B.push('<button class="dots">…</button>'));for(let q=Q;q<=N;q++)B.push(g(String(q),q,!1,q===r));N<d&&(N<d-1&&B.push('<button class="dots">…</button>'),B.push(g(String(d),d,!1,r===d))),B.push(g("›",Math.min(d,r+1),r===d,!1)),i.innerHTML=B.join(""),$(i)}async function oe(){try{_==null||_.classList.add("loading"),k==null||k.setAttribute("aria-busy","true"),k&&(k.disabled=!0),P.innerHTML=`
        <li class="dd__loading">
          <span class="dd__spinner" aria-hidden="true"></span>
          <span>Loading…</span>
        </li>`;const r=await Yn();P.innerHTML=r.map(d=>`<li data-val="${d}">${d}</li>`).join("")}catch{P.innerHTML='<li data-val="">All Genres</li>'}finally{_==null||_.classList.remove("loading"),k==null||k.removeAttribute("aria-busy"),k&&(k.disabled=!1)}}async function U(r=!0){var Se;const d=++I,{page:g,limit:Y,genre:Q,sort:N,q:B}=z.get();Ee(f.getBoundingClientRect().height),fe(Y),F(i);let q=[],ve=0;try{const ne=await Cn({page:g,limit:Y,genre:Q||"",sort:N||"",name:((Se=B==null?void 0:B.trim)==null?void 0:Se.call(B))||""});if(d!==I)return;q=Array.isArray(ne.artists)?ne.artists:[],ve=Number(ne.totalArtists||q.length||0)}catch{if(d!==I)return;q=[],ve=0}let be=Math.max(1,Math.ceil(ve/Y));if(g>be&&r)return z.setPage(be),U(!1);if(g<1&&r)return z.setPage(1),U(!1);if(N==="asc"&&(q=q.slice().sort((ne,H)=>S(ne).localeCompare(S(H)))),N==="desc"&&(q=q.slice().sort((ne,H)=>S(H).localeCompare(S(ne)))),d===I){if(!q.length){f.innerHTML="",Ae(!0),re();return}Ae(!1),ae(()=>$e(q)),Ie(z.get().page,be)}}function ee(r){[w,_].forEach(d=>{if(d!==r){d.classList.remove("open");const g=d.querySelector(".dd__list");g&&(g.style.display="none")}})}function le(r){const d=!r.classList.contains("open");ee(r),r.classList.toggle("open",d);const g=r.querySelector(".dd__list");g&&(g.style.display=d?"block":"none")}n==null||n.addEventListener("click",()=>{m.tap();const r=z.get();z.setMobilePanel(!r.isMobilePanelOpen),x()}),addEventListener("resize",x),L==null||L.addEventListener("click",()=>{m.tap(),le(w)}),k==null||k.addEventListener("click",()=>{m.tap(),le(_)}),document.addEventListener("click",r=>{r.target.closest(".dd")||ee()}),h==null||h.addEventListener("click",r=>{const d=r.target.closest("li");d&&(m.tap(),z.setSort(d.dataset.val||""),le(w),U())}),P==null||P.addEventListener("click",r=>{const d=r.target.closest("li");if(!d)return;m.tap();const g=d.dataset.val||"";z.setGenre(g==="All Genres"?"":g),le(_),U(),L==null||L.focus()});function ze(){m.tap(),z.setQuery((u==null?void 0:u.value.trim())||""),U()}p==null||p.addEventListener("click",ze),u==null||u.addEventListener("keydown",r=>{r.key==="Enter"&&ze()});function G(){z.reset(),u&&(u.value=""),ee(),U()}a==null||a.addEventListener("click",()=>{m.tap(),G()}),o==null||o.addEventListener("click",()=>{m.tap(),G(),z.setMobilePanel(!1),x()}),(he=e.querySelector("#empty-reset"))==null||he.addEventListener("click",()=>{m.tap(),G()}),i==null||i.addEventListener("click",r=>{const d=r.target.closest("button[data-page]");if(!d||d.disabled)return;const g=Number(d.dataset.page)||1;g!==z.get().page&&(m.page(),K(),z.setPage(g),U())});const ke=e.closest(".artists1")||e;c==null||c.addEventListener("click",()=>{m.tap();const r=!ke.classList.contains("view-list");ke.classList.toggle("view-list",r),ke.classList.toggle("view-grid",!r),c.setAttribute("aria-pressed",String(r)),c.textContent=r?"Default view":"List view"}),f.addEventListener("click",r=>{var Y,Q;const d=r.target.closest('[data-action="more"]');if(d){const N=(Q=(Y=d.closest(".card"))==null?void 0:Y.dataset)==null?void 0:Q.id;if(!N)return;m.tap(),v.openFor(N);return}const g=r.target.closest(".card__media img");if(g){m.tap();const N=g.currentSrc||g.src||g.getAttribute("src")||"";Jt(N,g.getAttribute("alt")||"")}}),x(),oe(),U()}function rs(){const e=new URLSearchParams(location.search),t=(e.get("q")||"").trim(),n=e.get("genre")||"",a=e.get("sort")||"",o=Math.max(1,Number(e.get("page")||1));return{q:t,genre:n,sort:a,page:o}}function as(e){const t=new URLSearchParams;return e.q&&t.set("q",e.q),e.genre&&t.set("genre",e.genre),e.sort&&t.set("sort",e.sort),e.page&&e.page!==1&&t.set("page",String(e.page)),t.toString()}function is(){const e=rs(),t=Dn(),n={};let a=!1;for(const c of["q","genre","sort","page"])e[c]!==void 0&&e[c]!==t[c]&&(n[c]=e[c],a=!0);a&&ue(n);let o=null;Bn(c=>{const u=as(c);if(u===o)return;o=u;const p=u?`?${u}`:location.pathname;history.replaceState(null,"",p)})}const $t=new Map;function os(e){const t=e.querySelector("#artists-grid");if(!t)return;let n=null,a=null;function o(c){clearTimeout(n),n=setTimeout(async()=>{try{if($t.has(c))return;const[u,p]=await Promise.all([Ht(c),Ft(c)]);$t.set(c,{artist:u,albums:p,ts:Date.now()})}catch{}},150)}t.addEventListener("mouseenter",c=>{var w,L;const u=c.target.closest('[data-action="more"]');if(!u)return;const p=(L=(w=u.closest(".card"))==null?void 0:w.dataset)==null?void 0:L.id;p&&(a=String(p),o(a))},!0),t.addEventListener("mouseleave",c=>{c.target.closest('[data-action="more"]')&&(clearTimeout(n),n=null,a=null)},!0)}function ls(e=document.querySelector("#artists-section")){e&&(is(),Kt(e),os(e),ss(e))}function cs(e){if(!e)return"";if(/^[\w-]{11}$/.test(e))return e;try{const t=new URL(e,location.href);if(/youtu\.be$/.test(t.hostname))return t.pathname.slice(1);if(t.searchParams.get("v"))return t.searchParams.get("v");const n=t.pathname.match(/\/(embed|shorts|v)\/([^/?#]+)/);return n?n[2]:""}catch{return""}}const nt=e=>Array.from(new Set(e.filter(Boolean)));function us(e){const t=e.slice();for(let n=t.length-1;n>0;n--){const a=Math.random()*(n+1)|0;[t[n],t[a]]=[t[a],t[n]]}return t}const ds=nt(["Zi_XLOBDo_Y","3JZ_D3ELwOQ","fRh_vgS2dFE","OPf0YbXqDm0","60ItHLz5WEA","2Vv-BfVoq4g","kXYiU_JCYtU","UceaB4D0jpo","RubBzkZzpUA","kJQP7kiw5Fk","CevxZvSJLk8","pRpeEdMmmQ0","IcrbM1l_BoI","YVkUvmDQ3HY","hT_nvWreIhg","09R8_2nJtjg","uelHwf8o7_U","JGwWNGJdvx8","YQHsXMglC9A","NmugSMBh_iI","LrUvu1mlWco","hLQl3WQQoQ0","RgKAFK5djSk","SlPhMPnQ58k","oRdxUFDoQe0","09z7j-LPz1E","Pkh8UtuejGw","tt2k8PGm-TI","lY2yjAdbvdQ","pXRviuL6vMY","09tj3yqpP5g","nfs8NYg7yQM","nCkpzqqog4k","M7lc1UVf-VE","fLexgOxsZu0","2vjPBrBU-TM","JGwWNGJdvx8","9bZkp7q19f0","e-ORhEE9VVg","hLQl3WQQoQ0","OPf0YbXqDm0","dQw4w9WgXcQ","Zi_XLOBDo_Y","gCYcHz2k5x0","ktvTqknDobU","ub82Xb1C8os","ktvTqknDobU","fKopy74weus","uelHwf8o7_U","Qv5fqunQ_4I","IcrbM1l_BoI","2vjPBrBU-TM","kXYiU_JCYtU","CevxZvSJLk8","kJQP7kiw5Fk","hT_nvWreIhg","vNoKguSdy4Y","0KSOMA3QBU0","lp-EO5I60KA","DK_0jXPuIr0","tVj0ZTS4WF4","6fVE8kSM43I","SlPhMPnQ58k","6Ejga4kJUts","JGwWNGJdvx8","gGdGFtwCNBE","YVkUvmDQ3HY","rYEDA3JcQqw","AtKZKl7Bgu0","0KSOMA3QBU0","ktvTqknDobU","hT_nvWreIhg","eVTXPUF4Oz4","kffacxfA7G4"]),Zt="am.radio.pool",Ct="am.radio.last";function Ut(){try{const e=localStorage.getItem(Zt),t=e?JSON.parse(e):[];return Array.isArray(t)?nt(t):[]}catch{return[]}}function ms(e){try{localStorage.setItem(Zt,JSON.stringify(nt(e).slice(0,800)))}catch{}}function Yt(e){if(!(e!=null&&e.length))return;const t=new Set(Ut());e.forEach(n=>t.add(n)),ms([...t])}function yt(e=document){const t=new Set;return e.querySelectorAll('a[href*="youtu"], a.yt').forEach(n=>{const a=n.getAttribute("href")||"",o=cs(a);o&&t.add(o)}),[...t]}function fs(){Yt(yt()),new MutationObserver(t=>{let n=[];for(const a of t)a.addedNodes&&a.addedNodes.forEach(o=>{o.nodeType===1&&(n=n.concat(yt(o)))});n.length&&Yt(n)}).observe(document.documentElement,{childList:!0,subtree:!0})}function ps(){const e=Ut(),t=yt();return nt([...ds,...e,...t])}function ys(e){const t=ps();if(!t.length)return;let n=us(t);const a=localStorage.getItem(Ct);a&&n.length>1&&n[0]===a&&n.push(n.shift()),localStorage.setItem(Ct,n[0]),e.openQueue(n,{shuffle:!1,loop:!0,startIndex:0})}document.addEventListener("DOMContentLoaded",()=>{try{ls()}catch{}const e=Gt();fs();const t=document.querySelector("#random-radio");t&&t.addEventListener("click",n=>{var a,o;n.preventDefault(),(a=e.isActive)!=null&&a.call(e)?(o=e.next)==null||o.call(e):ys(e)})});const R={openBtn:document.querySelector("[data-menu-open]"),closeBtn:document.querySelector("[data-menu-close]"),menu:document.querySelector("[data-menu]"),links:document.querySelectorAll("[data-menu-link]"),logos:document.querySelectorAll(".header-logo"),header:document.querySelector(".header")};function gs(){var e;R.menu&&(R.menu.hidden=!1,R.menu.classList.add("show"),document.body.style.overflow="hidden",(e=R.openBtn)==null||e.setAttribute("aria-expanded","true"))}function Oe(){return new Promise(e=>{if(!R.menu)return e();R.menu.classList.remove("show"),setTimeout(()=>{var t;R.menu.hidden=!0,document.body.style.overflow="",(t=R.openBtn)==null||t.setAttribute("aria-expanded","false"),e()},400)})}function bt(){var e;return(((e=R.header)==null?void 0:e.offsetHeight)||80)+8}function wt(){document.documentElement.style.scrollPaddingTop=`${bt()}px`}wt();window.addEventListener("resize",()=>requestAnimationFrame(wt));function _t(e,t=500){const n=(e||"").replace("#",""),a=document.getElementById(n)||document.getElementById(`${n}-section`);if(!a)return;const o=bt(),c=a.getBoundingClientRect().top+window.pageYOffset-o,u=window.pageYOffset,p=c-u;let w=null;const L=_=>_<.5?2*_*_:1-Math.pow(-2*_+2,2)/2;function h(_){w===null&&(w=_);const k=Math.min(1,(_-w)/t);window.scrollTo(0,u+p*L(k)),k<1?requestAnimationFrame(h):(a.setAttribute("tabindex","-1"),a.focus({preventScroll:!0}),setTimeout(()=>a.removeAttribute("tabindex"),0))}requestAnimationFrame(h)}var Dt;(Dt=R.openBtn)==null||Dt.addEventListener("click",gs);var Ot;(Ot=R.closeBtn)==null||Ot.addEventListener("click",Oe);R.logos.forEach(e=>{e.addEventListener("click",t=>{e.closest(".mobile-menu")&&(t.preventDefault(),Oe(),setTimeout(()=>{window.location.href=e.getAttribute("href")},400))})});var Rt;(Rt=R.menu)==null||Rt.addEventListener("click",e=>{e.target===R.menu&&Oe()});document.addEventListener("keydown",e=>{var t;e.key==="Escape"&&((t=R.menu)!=null&&t.classList.contains("show"))&&Oe()});const Lt=document.querySelectorAll(".header-nav-link, .mobile-menu-nav-link"),Be=new Map;Lt.forEach(e=>{const t=(e.getAttribute("href")||"").trim();if(!t.startsWith("#"))return;const n=t.slice(1),a=document.getElementById(n)||document.getElementById(`${n}-section`);a&&(Be.has(a)||Be.set(a,[]),Be.get(a).push(e))});let Nt=null;function en(e){!e||Nt===e||(Lt.forEach(t=>t.classList.remove("active")),(Be.get(e)||[]).forEach(t=>t.classList.add("active")),Nt=e)}let tn=0;const hs=700,vs=()=>Date.now()<tn;let Fe;function nn(){Fe&&Fe.disconnect();const e=`-${bt()}px 0px -55% 0px`,t=new Map;Fe=new IntersectionObserver(n=>{if(n.forEach(o=>{t.set(o.target,o.isIntersecting?o.intersectionRatio:0)}),vs())return;const a=[...t.entries()].sort((o,c)=>c[1]-o[1])[0];a&&a[1]>0&&en(a[0])},{root:null,rootMargin:e,threshold:[0,.25,.5,.75,1]}),Be.forEach((n,a)=>Fe.observe(a))}nn();window.addEventListener("resize",()=>requestAnimationFrame(nn));Lt.forEach(e=>{e.addEventListener("click",t=>{if(e.matches("[data-menu-link]"))return;const n=(e.getAttribute("href")||"").trim();if(!n.startsWith("#"))return;t.preventDefault(),e.blur();const a=n.slice(1),o=document.getElementById(a)||document.getElementById(`${a}-section`);o&&(en(o),tn=Date.now()+hs,_t(n))})});R.links.forEach(e=>e.addEventListener("click",async t=>{t.preventDefault(),e.blur();const n=e.getAttribute("href");await Oe(),_t(n)}));window.addEventListener("load",()=>{wt(),location.hash&&setTimeout(()=>_t(location.hash),0)});const _e=document.querySelector(".overlay"),bs=document.querySelector(".feedback-btn"),ws=document.querySelector(".close-icon"),Xe=document.querySelector("#feedback-form"),Re=document.querySelector(".feedback-section"),sn=document.querySelector(".form-input-name"),rn=document.querySelector(".form-input-message"),At="myFeedback";let Bt=0;bs.addEventListener("click",e=>{e.preventDefault(),Bt=window.scrollY,document.body.style.top=`-${Bt}px`,document.body.style.left="0",document.body.style.rigth="0",_e.classList.remove("hidden"),Re.classList.add("hidden"),ks()});ws.addEventListener("click",e=>{_e.classList.add("hidden"),Re.classList.remove("hidden"),de(document.getElementById("customer-rating",0))});_e.addEventListener("click",e=>{e.target===_e&&(_e.classList.add("hidden"),Re.classList.remove("hidden"),document.body.classList.remove("no-scroll"),de(document.getElementById("customer-rating",0)))});document.addEventListener("keydown",e=>{e.key==="Escape"&&(_e.classList.add("hidden"),Re.classList.remove("hidden"),document.body.classList.remove("no-scroll"),de(document.getElementById("customer-rating",0)))});function de(e,t){e.innerHTML="";for(let n=1;n<=5;n++){const a=document.createElement("span");a.classList.add("star"),n<=t&&a.classList.add("filled"),e.appendChild(a),e.id==="customer-rating"&&(a.addEventListener("click",o=>{e.dataset.rating=n,de(e,n),Es()}),a.addEventListener("mouseenter",o=>{_s(e,n)}),a.addEventListener("mouseleave",o=>{const c=parseInt(me.dataset.rating)||0;de(e,c)}))}}function _s(e,t){e.querySelectorAll(".star").forEach((a,o)=>{o<t?a.classList.add("filled"):a.classList.remove("filled")})}const me=document.getElementById("customer-rating");de(me,parseInt(me.dataset.rating)||0);const Le=new wn(".swiper",{slidesPerView:1,spaceBetween:20,loop:!1,grabCursor:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",clickable:!0}});document.querySelector(".swiper-button-prev").addEventListener("click",()=>{Le.slidePrev()});document.querySelector(".swiper-button-next").addEventListener("click",()=>{Le.slideNext()});const Ls=document.querySelector(".swiper-pagination");Ls.innerHTML=`
  <span class="swiper-dots"></span>
    <span class="swiper-dots"></span>
  <span class="swiper-dots"></span>`;function an(e){const t=document.querySelectorAll(".swiper-dots");t.forEach(n=>n.classList.remove("active")),t[e-1]&&t[e-1].classList.add("active")}function on(e){return e===0?1:e===9?3:2}an(on(Le.realIndex));const As=document.querySelectorAll(".swiper-dots");As.forEach((e,t)=>{e.addEventListener("click",n=>{let a=0;t===0?a=0:t===1?a=1:t===2&&(a=9),Le.slideTo(a)})});Le.on("slideChange",e=>{const t=Le.realIndex;an(on(t))});async function ln(){const e=document.querySelector(".swiper-wrapper");try{(await(await fetch("https://sound-wave.b.goit.study/api/feedbacks")).json()).data.slice(0,10).forEach((o,c)=>{const u=Math.round(o.rating),p=document.createElement("div");p.classList.add("swiper-slide"),p.innerHTML=`<div class="rating" id="rating-${c}" data-rating="${u}"></div>
                <div class="feedback">
                    <p class="customer-feedback">${o.descr}</p>
                    <h3 class="customer-name">${o.name}</h3>
                </div>`,e.appendChild(p);const w=p.querySelector(".rating");de(w,u)}),Le.update()}catch{Me.error({title:"Error",message:"Bad request (invalid request params)"})}}function Es(){const e={name:sn.value.trim(),message:rn.value.trim(),rating:Math.round(me.dataset.rating)||0};localStorage.setItem(At,JSON.stringify(e))}function ks(){const e=JSON.parse(localStorage.getItem(At));e&&(e.name&&(sn.value=e.name),e.message&&(rn.value=e.message),e.rating&&(me.dataset.rating=e.rating),de(me,e.rating))}function Ss(){localStorage.removeItem(At),Xe.reset(),me.dataset.rating=0,de(me,0)}Xe.addEventListener("submit",async e=>{e.preventDefault();const t=Xe.querySelector(".form-input-name").value.trim(),n=Xe.querySelector(".form-input-message").value.trim(),a=Math.round(me.dataset.rating)||0;if(console.log("Name:",t),console.log("Message:",n),console.log("Rating:",a),!t||t.length<2||t.length>16)return Me.error({message:"Shortest name - 2 letters; Largest name - 16 letters"});if(!n||n.length<10||n.length>512)return Me.error({message:"Min message - 10 symbols; Max message - 512 symbols"});if(a<1||a>5)return Me.error({message:"Rating must be between '1' and '5'"});try{(await fetch("https://sound-wave.b.goit.study/api/feedbacks",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({name:t,descr:n,rating:a})})).ok||Me.error({title:"Error:",message:"${response.status}"}),Ss(),_e.classList.add("hidden"),Re.classList.remove("hidden"),document.body.classList.remove("no-scroll"),ln()}catch{Me.error({message:"Bad request (invalid request body)"})}});document.addEventListener("DOMContentLoaded",ln);const cn=["a[href]","button",'[role="button"]','input[type="button"]','input[type="submit"]','input[type="reset"]',"summary",".sfx-click"].join(","),un=[".no-sfx",'[data-sfx="off"]','[disabled],[aria-disabled="true"]','input[type="range"]',".am-player__dragzone"].join(","),qe={enabled:localStorage.getItem("sfx")!=="off",lastAt:0,playOnce(){var t;if(!this.enabled)return;const e=performance.now();if(!(e-this.lastAt<80)){this.lastAt=e;try{(t=m==null?void 0:m.tap)==null||t.call(m)}catch{try{const n=new(window.AudioContext||window.webkitAudioContext),a=n.createOscillator(),o=n.createGain();a.type="triangle",a.frequency.value=660,o.gain.setValueAtTime(.06,n.currentTime),o.gain.exponentialRampToValueAtTime(1e-4,n.currentTime+.06),a.connect(o).connect(n.destination),a.start(),a.stop(n.currentTime+.07)}catch{}}}}};document.addEventListener("click",e=>{if(!e.isTrusted||e.button!==0||e.metaKey||e.ctrlKey||e.altKey)return;const t=e.target.closest(cn);t&&(t.matches(un)||Math.abs(e.movementX||0)>2||Math.abs(e.movementY||0)>2||qe.playOnce())},{capture:!0});document.addEventListener("keydown",e=>{if(!qe.enabled||!(e.key==="Enter"||e.key===" "))return;const t=e.target.closest(cn);!t||t.matches(un)||qe.playOnce()},{capture:!0});window.SFX={enable(){qe.enabled=!0,localStorage.setItem("sfx","on")},disable(){qe.enabled=!1,localStorage.setItem("sfx","off")},toggle(){qe.enabled?this.disable():this.enable()}};
//# sourceMappingURL=index.js.map
