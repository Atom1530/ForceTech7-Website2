import{a as Mn,S as qn,i as Ce}from"./assets/vendor-BGCTnJtW.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();const Pn=/localhost|127\.0\.0\.1/.test(location.hostname)||(document.documentElement.getAttribute("data-env")||"").toLowerCase()==="dev",rt=(...e)=>{Pn&&console.warn(...e)},st=Mn.create({baseURL:"https://sound-wave.b.goit.study/api",timeout:15e3});async function $n({page:e=1,limit:t=8,genre:n="",sort:a="",name:o=""}={}){var c;try{const u={page:Math.max(1,Number(e)||1),limit:Math.max(1,Number(t)||8)},y=String(a).toLowerCase();(y==="asc"||y==="desc")&&(u.sortName=y);const v=String(n).trim();v&&v!=="All Genres"&&(u.genre=v);const h=String(o).trim();h.length>=1&&(u.name=h);const{data:b}=await st.get("/artists",{params:u});return{artists:Array.isArray(b==null?void 0:b.artists)?b.artists:[],totalArtists:Number((b==null?void 0:b.totalArtists)||0),page:Number((b==null?void 0:b.page)||u.page),limit:Number((b==null?void 0:b.limit)||u.limit)}}catch(u){rt("[api] fetchArtists",(u==null?void 0:u.message)||u);try{(c=window.__toast)==null||c.error("Не удалось загрузить артистов. Попробуйте позже.")}catch{}return{artists:[],totalArtists:0,page:1,limit:t}}}async function Cn(){var e;try{const{data:t}=await st.get("/genres"),a=(Array.isArray(t)?t:(t==null?void 0:t.genres)||[]).map(c=>typeof c=="string"?c:(c==null?void 0:c.name)||(c==null?void 0:c.title)||(c==null?void 0:c.genre)||(c==null?void 0:c.label)||"").filter(Boolean);return["All Genres",...[...new Set(a)]]}catch(t){rt("[api] fetchGenres",(t==null?void 0:t.message)||t);try{(e=window.__toast)==null||e.error("Не удалось загрузить жанры.")}catch{}return["All Genres"]}}async function Yn(e){var t;try{const{data:n}=await st.get(`/artists/${e}`);return n||null}catch(n){rt("[api] fetchArtist",(n==null?void 0:n.message)||n);try{(t=window.__toast)==null||t.error("Не удалось загрузить артиста.")}catch{}return null}}async function Nn(e){var t;try{const{data:n}=await st.get(`/artists/${e}/albums`);return Array.isArray(n)?n:Array.isArray(n==null?void 0:n.albumsList)?n.albumsList:Array.isArray(n==null?void 0:n.albums)?n.albums:[]}catch(n){rt("[api] albums",(n==null?void 0:n.message)||n);try{(t=window.__toast)==null||t.error("Не удалось загрузить альбомы.")}catch{}return[]}}let k,xe,we,$e,tt=!1;function Qt(){if(tt)return;const e=window.AudioContext||window.webkitAudioContext;if(!e)return;k=new e,we=k.createDynamicsCompressor(),we.threshold.value=-26,we.knee.value=22,we.ratio.value=6,we.attack.value=.004,we.release.value=.08,$e=k.createBiquadFilter(),$e.type="lowpass",$e.frequency.value=2300,$e.Q.value=.6,xe=k.createGain(),xe.gain.value=.11,xe.connect($e),$e.connect(we),we.connect(k.destination);const t=()=>{try{k.resume()}catch{}window.removeEventListener("pointerdown",t),window.removeEventListener("keydown",t),window.removeEventListener("touchstart",t)};window.addEventListener("pointerdown",t,{once:!0,passive:!0}),window.addEventListener("keydown",t,{once:!0}),window.addEventListener("touchstart",t,{once:!0,passive:!0}),tt=!0}function jt(){k&&k.state==="suspended"&&k.resume()}function Bn(){if(tt||Qt(),!k)return;jt();const e=k.currentTime+.004,t=.055,n=k.createBufferSource(),a=k.createBuffer(1,Math.max(32,k.sampleRate*t|0),k.sampleRate),o=a.getChannelData(0);for(let T=0;T<o.length;T++){const P=T/o.length;o[T]=(Math.random()*2-1)*Math.pow(1-P,2)}n.buffer=a;const c=k.createBiquadFilter();c.type="bandpass",c.frequency.value=2050,c.Q.value=.9;const u=k.createBiquadFilter();u.type="highpass",u.frequency.value=360,u.Q.value=.7;const y=k.createGain();y.gain.setValueAtTime(1e-4,e),y.gain.linearRampToValueAtTime(.45,e+.004),y.gain.exponentialRampToValueAtTime(1e-4,e+.055),n.connect(c),c.connect(u),u.connect(y),y.connect(xe),n.start(e),n.stop(e+.06);const v=k.createOscillator();v.type="triangle",v.frequency.setValueAtTime(2100,e);const h=k.createGain();h.gain.setValueAtTime(1e-4,e),h.gain.linearRampToValueAtTime(.2,e+.003),h.gain.exponentialRampToValueAtTime(1e-4,e+.05),v.connect(h),h.connect(xe),v.start(e),v.stop(e+.055);const b=k.createOscillator();b.type="sine",b.frequency.setValueAtTime(165,e);const A=k.createGain();A.gain.setValueAtTime(1e-4,e),A.gain.linearRampToValueAtTime(.05,e+.003),A.gain.exponentialRampToValueAtTime(1e-4,e+.042),b.connect(A),A.connect(xe),b.start(e),b.stop(e+.045)}function On(){if(tt||Qt(),!k)return;jt();const e=k.currentTime+.003,t=k.createOscillator();t.type="triangle",t.frequency.setValueAtTime(1750,e);const n=k.createGain();n.gain.setValueAtTime(1e-4,e),n.gain.linearRampToValueAtTime(.17,e+.003),n.gain.exponentialRampToValueAtTime(1e-4,e+.06),t.connect(n),n.connect(xe),t.start(e),t.stop(e+.065)}const m={tap:Bn,page:On},In=e=>(e==null?void 0:e.idArtist)||(e==null?void 0:e.id)||(e==null?void 0:e._id)||(e==null?void 0:e.artistId)||"",Dn=e=>Array.isArray(e==null?void 0:e.genres)?e.genres:typeof(e==null?void 0:e.strGenre)=="string"&&e.strGenre.trim()?e.strGenre.split(/,\s*/).filter(Boolean):e!=null&&e.genre?[e.genre]:[],Rn="https://via.placeholder.com/960x540?text=No+Image",Xt=(e={})=>({id:In(e),name:e.strArtist||e.name||"Unknown artist",image:e.strArtistThumb||e.thumb||e.photo||e.image||Rn,country:e.strCountry||e.country||"N/A",members:e.intMembers||e.members||"N/A",gender:e.strGender||e.sex||"N/A",biography:e.strBiographyEN||e.biography||e.about||"",genres:Dn(e),formedYear:e.intFormedYear||e.formedYear||e.yearStart||null,endedYear:e.intDisbandedYear||e.intDiedYear||e.disbandedYear||e.yearEnd||null}),Vn=(e={})=>({title:e.strTrack||e.title||e.name||"—",duration:Number(e.intDuration??e.duration??e.time??0),youtube:e.strMusicVid||e.youtube||e.youtube_url||e.url||e.movie||""}),zn=(e={})=>{const t=Array.isArray(e.tracks)?e.tracks:Array.isArray(e.songs)?e.songs:Array.isArray(e.track)?e.track:[];return{title:e.strAlbum||e.title||e.name||"Album",tracks:t.map(Vn)}};async function Hn(e){const t=await $n(e),a=(Array.isArray(t==null?void 0:t.artists)?t.artists:Array.isArray(t)?t:[]).map(Xt),o=Number((t==null?void 0:t.totalArtists)??(t==null?void 0:t.total)??a.length);return{artists:a,totalArtists:o}}async function Fn(){const e=await Cn();return Array.isArray(e)?e:Array.isArray(e==null?void 0:e.genres)?e.genres:[]}async function Jt(e){const t=await Yn(e),n=Array.isArray(t)?t[0]:Array.isArray(t==null?void 0:t.artists)?t.artists[0]:t;return n?Xt(n):null}async function Kt(e){const t=await Nn(e);return(Array.isArray(t)?t:Array.isArray(t==null?void 0:t.albums)?t.albums:Array.isArray(t==null?void 0:t.album)?t.album:[]).map(zn)}const Ut="artistsStateV2",fe={page:1,limit:8,genre:"",sort:"",q:"",isMobilePanelOpen:!1};let Q={...fe},ft=!1;const pt=new Set;function Zt(){try{const e="__probe__";return localStorage.setItem(e,"1"),localStorage.removeItem(e),!0}catch{return!1}}function se(){if(!ft&&(ft=!0,!!Zt()))try{const e=localStorage.getItem(Ut);if(!e)return;const t=JSON.parse(e);Q={page:Math.max(1,Number(t==null?void 0:t.page)||fe.page),limit:Math.max(1,Number(t==null?void 0:t.limit)||fe.limit),genre:String((t==null?void 0:t.genre)??fe.genre),sort:String((t==null?void 0:t.sort)??fe.sort),q:String((t==null?void 0:t.q)??fe.q),isMobilePanelOpen:!!(t!=null&&t.isMobilePanelOpen)}}catch{}}function _e(){if(!(!ft||!Zt()))try{localStorage.setItem(Ut,JSON.stringify(Q))}catch{}}function Le(){const e={...Q};for(const t of pt)try{t(e)}catch{}}function Wn(e){return typeof e!="function"?()=>{}:(pt.add(e),()=>pt.delete(e))}const N={get(){return se(),{...Q}},setPage(e){se(),Q.page=Math.max(1,Number(e)||1),_e(),Le()},setLimit(e){se(),Q.limit=Math.max(1,Number(e)||fe.limit),_e(),Le()},setGenre(e){se(),Q.genre=e||"",_e(),Le()},setSort(e){se(),Q.sort=e||"",_e(),Le()},setQuery(e){se(),Q.q=e||"",_e(),Le()},setMobilePanel(e){se(),Q.isMobilePanelOpen=!!e,_e(),Le()},reset(){se(),Q={...fe},_e(),Le()}},Gn=()=>N.get(),Qn=(e={})=>{se();const t={...Q};return"page"in e&&(t.page=Math.max(1,Number(e.page)||1)),"limit"in e&&(t.limit=Math.max(1,Number(e.limit)||fe.limit)),"genre"in e&&(t.genre=String(e.genre||"")),"sort"in e&&(t.sort=String(e.sort||"")),"q"in e&&(t.q=String(e.q||"")),"isMobilePanelOpen"in e&&(t.isMobilePanelOpen=!!e.isMobilePanelOpen),Q=t,_e(),Le(),N.get()};se();let Ke=0,yt=0;function jn(){if(Ke++===0){yt=window.scrollY||document.documentElement.scrollTop||0;const e=document.body.style;e.position="fixed",e.top=`-${yt}px`,e.left="0",e.right="0",e.width="100%",document.body.classList.add("scroll-locked")}}function en(e=!1){if(e&&(Ke=1),Ke>0&&--Ke===0){const t=document.body.style;t.position=t.top=t.left=t.right=t.width="",window.scrollTo(0,yt),document.body.classList.remove("scroll-locked")}}function $t(){en(!0)}typeof window<"u"&&(window.__unlockScroll=$t,window.addEventListener("pageshow",()=>$t()));let Xe=null;function Re(){return window.YT&&window.YT.Player?Promise.resolve():(Re._p||(Re._p=new Promise((e,t)=>{const n=document.createElement("script");n.src="https://www.youtube.com/iframe_api",n.onerror=()=>t(new Error("YT API load failed")),document.head.appendChild(n);const a=setTimeout(()=>t(new Error("YT API timeout")),15e3);window.onYouTubeIframeAPIReady=()=>{clearTimeout(a),e()}})),Re._p)}const ot=/iPad|iPhone|iPod/.test(navigator.userAgent);function Ct(e){if(!e)return"";if(/^[\w-]{11}$/.test(e))return e;try{const t=new URL(e);if(/youtu\.be$/.test(t.hostname))return t.pathname.slice(1);if(t.searchParams.get("v"))return t.searchParams.get("v");const n=t.pathname.match(/\/(embed|shorts|v)\/([^/?#]+)/);return n?n[2]:""}catch{return""}}const J=(e,t,n)=>Math.min(n,Math.max(t,e)),Xn=e=>{const t=e.slice();for(let n=t.length-1;n>0;n--){const a=Math.random()*(n+1)|0;[t[n],t[a]]=[t[a],t[n]]}return t};function lt(e){e=Math.max(0,Math.round(Number(e)||0));const t=Math.floor(e/60),n=String(e%60).padStart(2,"0");return`${t}:${n}`}function tn(){var qt,Pt;if(Xe)return Xe;const e=document.createElement("div");e.className="am-player",e.innerHTML=`
    <div class="am-player__inner">
      <div class="am-player__dragzone" aria-hidden="true" title="Drag the player"></div>

      <!-- Верхние кнопки: Hide слева от Close -->
      <button class="am-player__hide" type="button" aria-label="Hide">Hide</button>
      <button class="am-player__close" type="button" aria-label="Close">×</button>

      <div class="am-player__frame">
        <div class="am-player__host" id="am-player-host"></div>
        <!-- наша кнопка YouTube поверх кадра, влево-вверх -->
        <a class="am-player__ytlink" href="#" target="_blank" rel="noopener noreferrer" aria-label="Open on YouTube">YouTube ↗</a>
      </div>

      <div class="am-player__bar">
        <div class="am-player__left">
          <button class="am-player__skip am-player__prev" type="button" aria-label="Previous">⏮</button>
          <button class="am-player__play" type="button" aria-label="Play/Pause">▶</button>
          <button class="am-player__skip am-player__next" type="button" aria-label="Next">⏭</button>
          <span class="am-player__time"><span class="am-player__cur">0:00</span> / <span class="am-player__dur">0:00</span></span>
        </div>

        <div class="am-player__progresswrap">
          <input class="am-player__progress" type="range" min="0" max="1000" value="0" step="1" aria-label="Seek">
        </div>

        <div class="am-player__right">
          <button class="am-player__mute" type="button" aria-label="Mute/Unmute">🔈</button>
          <input class="am-player__slider" type="range" min="0" max="100" value="60" step="1" aria-label="Volume">
        </div>
      </div>
    </div>
  `,document.body.appendChild(e);let t=null;const n=e.querySelector("#am-player-host"),a=e.querySelector(".am-player__close"),o=e.querySelector(".am-player__hide"),c=e.querySelector(".am-player__play"),u=e.querySelector(".am-player__prev"),y=e.querySelector(".am-player__next"),v=e.querySelector(".am-player__mute"),h=e.querySelector(".am-player__slider"),b=e.querySelector(".am-player__progress"),A=e.querySelector(".am-player__cur"),T=e.querySelector(".am-player__dur"),P=e.querySelector(".am-player__dragzone"),E=e.querySelector(".am-player__ytlink");let i=null,w=!1,L=0,$=null,p=!1,D=60,ae=!1,M=[],q=-1,ne=!1;const Ae="amPlayerPos";let W=null;const Be="amBubblePos2";let ge=!1,S=null,Z=null,he=null;ot&&(h.disabled=!0,h.title="On iOS the volume is hardware-only");function ie(s){e.classList.toggle("am-player--active",!!s),s&&be()}function oe(s){e.classList.toggle("am-player--min",!!s),s?Se(!0):be()}function le(s){c.textContent=s?"⏸":"▶"}function Oe(s){v.textContent=s?"🔇":"🔈"}function Ge(s,l){if(A.textContent=lt(s),T.textContent=lt(l),!ae){const f=l>0?Math.round(s/l*1e3):0;b.value=String(f)}}function ce(){$&&(clearInterval($),$=null)}function j(){ce(),$=setInterval(()=>{if(!w||!i||typeof i.getCurrentTime!="function")return;const s=i.getCurrentTime()||0,l=L||i.getDuration()||0;L=l,Ge(s,l)},250)}function ee(){he&&(clearTimeout(he),he=null)}function ue(s=2e3){setTimeout(Me,s)}function Qe(s){return Re().then(()=>{if(i){try{i.destroy()}catch{}i=null}n.innerHTML='<div id="am-player-yt"></div>',i=new YT.Player("am-player-yt",{host:"https://www.youtube-nocookie.com",videoId:s,playerVars:{autoplay:1,rel:0,modestbranding:1,controls:1,enablejsapi:1,origin:location.origin},events:{onReady:()=>{w=!0,L=i.getDuration()||0,Ge(0,L),!ot&&typeof i.setVolume=="function"&&i.setVolume(D),p&&i.mute&&i.mute(),le(!0),H(!0),re(D),j(),ee(),he=setTimeout(()=>{try{i&&i.getPlayerState&&i.getPlayerState()!==YT.PlayerState.PLAYING&&(console.warn("Watchdog: видео не стартовало — пропускаем."),H(!1),ue(0))}catch{}},6e3)},onStateChange:l=>{l.data===YT.PlayerState.PLAYING?(ee(),le(!0),H(!0),j()):l.data===YT.PlayerState.PAUSED?(le(!1),H(!1),ce()):l.data===YT.PlayerState.ENDED&&(le(!1),H(!1),ce(),ee(),Me())},onError:l=>{console.error("YT Player error:",l==null?void 0:l.data),le(!1),H(!1),ce(),ee(),ue(1200)}}})})}async function X(s){if(!M.length)return;q=J(s,0,M.length-1);const l=M[q];if(!l||!/^[\w-]{11}$/.test(l))return console.warn("Некорректный YouTube ID, пропускаю:",l),ue(0);E.href=`https://www.youtube.com/watch?v=${l}`,ie(!0),w=!1,L=0,ce(),ee();try{await Qe(l)}catch(f){console.error("Не удалось воспроизвести:",l,f),ue(1200)}}function Me(){M.length&&(q<M.length-1?X(q+1):ne&&X(0))}function qe(){var f,x;const s=((f=window.visualViewport)==null?void 0:f.width)||document.documentElement.clientWidth||window.innerWidth,l=((x=window.visualViewport)==null?void 0:x.height)||document.documentElement.clientHeight||window.innerHeight;return{w:s,h:l}}function ve(){if(!e.classList.contains("am-player--free"))return;const s=e.getBoundingClientRect(),{w:l,h:f}=qe();let x=J(s.left,8,Math.max(8,l-s.width-8)),O=J(s.top,8,Math.max(8,f-s.height-8));e.style.left=`${x}px`,e.style.top=`${O}px`;try{localStorage.setItem(Ae,JSON.stringify({left:x,top:O}))}catch{}}function Ie(){let s=null;try{s=JSON.parse(localStorage.getItem(Ae)||"null")}catch{}s&&Number.isFinite(s.left)&&Number.isFinite(s.top)?(e.classList.add("am-player--free"),e.style.transform="none",e.style.left=`${s.left}px`,e.style.top=`${s.top}px`,e.style.right="auto",e.style.bottom="auto",ve()):(e.classList.remove("am-player--free"),e.style.left="",e.style.top="",e.style.right="",e.style.bottom="",e.style.transform="")}function r(s){var l;if(!e.classList.contains("am-player--free")){const f=e.getBoundingClientRect();e.classList.add("am-player--free"),e.style.transform="none",e.style.left=`${f.left}px`,e.style.top=`${f.top}px`,e.style.right="auto",e.style.bottom="auto"}W={startX:s.clientX,startY:s.clientY,baseLeft:parseFloat(e.style.left||"0"),baseTop:parseFloat(e.style.top||"0")},P.classList.add("dragging");try{(l=P.setPointerCapture)==null||l.call(P,s.pointerId)}catch{}}function d(s){if(!W)return;let l=W.baseLeft+(s.clientX-W.startX),f=W.baseTop+(s.clientY-W.startY);const x=e.getBoundingClientRect(),{w:O,h:te}=qe();l=J(l,8,Math.max(8,O-x.width-8)),f=J(f,8,Math.max(8,te-x.height-8)),e.style.left=`${l}px`,e.style.top=`${f}px`}function g(s){var l;if(W){try{(l=P.releasePointerCapture)==null||l.call(P,s.pointerId)}catch{}P.classList.remove("dragging"),W=null,ve()}}P.addEventListener("pointerdown",r),window.addEventListener("pointermove",d),window.addEventListener("pointerup",g),window.addEventListener("resize",ve),(qt=window.visualViewport)==null||qt.addEventListener("resize",ve),window.addEventListener("orientationchange",ve);function Y(){return t||(t=document.createElement("button"),t.className="am-player__bubble is-paused",t.type="button",t.setAttribute("aria-label","Open player"),t.style.display="none",t.style.left="auto",t.style.top="auto",t.style.right="auto",t.style.bottom="auto",t.innerHTML='<span class="note">♪</span>',document.body.appendChild(t),t.addEventListener("pointerdown",s=>{ge=!1;try{t.setPointerCapture(s.pointerId)}catch{}const l=t.getBoundingClientRect();S={x:s.clientX,y:s.clientY,left:l.left,top:l.top}}),t.addEventListener("pointermove",s=>{if(!S)return;const l=s.clientX-S.x,f=s.clientY-S.y;Math.abs(l)+Math.abs(f)>3&&(ge=!0);const x=S.left+l|0,O=S.top+f|0;t.style.right="auto",t.style.bottom="auto",t.style.left=`${x}px`,t.style.top=`${O}px`}),t.addEventListener("pointerup",s=>{try{t.releasePointerCapture(s.pointerId)}catch{}ge||oe(!1),de(),De(),S=null,ge=!1}),t)}function G(){const s=document.documentElement.clientWidth||window.innerWidth,l=document.documentElement.clientHeight||window.innerHeight;return{w:s,h:l}}function V(s,l,f,x){const{w:O,h:te}=G(),me=Math.max(1,O-f),Pe=Math.max(1,te-x);Z={left:s,top:l,width:f,height:x,rx:J(s/me,0,1),ry:J(l/Pe,0,1)};try{localStorage.setItem(Be,JSON.stringify(Z))}catch{}}function R(){if(Z&&Number.isFinite(Z.left)&&Number.isFinite(Z.top))return Z;try{const s=JSON.parse(localStorage.getItem(Be)||"null");if(s&&Number.isFinite(s.rx)&&Number.isFinite(s.ry))return s}catch{}return null}function C(s,l=64){const{w:f,h:x}=G(),O=(s==null?void 0:s.width)||l,te=(s==null?void 0:s.height)||l,me=Math.max(1,f-O),Pe=Math.max(1,x-te),je=J(Math.round(((s==null?void 0:s.rx)??.5)*me),8,me),Tn=J(Math.round(((s==null?void 0:s.ry)??.8)*Pe),8,Pe);return{left:je,top:Tn}}function Se(s=!0){const l=Y();l.style.right="auto",l.style.bottom="auto",l.style.display="grid";const f=l.getBoundingClientRect();let x=s?R():null,O,te;if(x){const me=C(x,f.width||64);O=me.left,te=me.top}else{const{w:me,h:Pe}=qe(),je=f.width||64;O=Math.max(8,Math.round((me-je)/2)),te=Math.max(8,Math.round(Pe-je-24))}l.style.left=`${O}px`,l.style.top=`${te}px`,de(),De()}function be(){t&&(t.style.display="none")}function H(s){Y().classList.toggle("is-paused",!s)}function re(s){const l=Y(),f=1.02+Math.max(0,Math.min(100,s))/100*.08;l.style.setProperty("--amp",f.toFixed(3))}function de(s=8){if(!t||t.style.display==="none")return;const{w:l,h:f}=qe(),x=t.getBoundingClientRect();let O=J(x.left,s,Math.max(s,l-x.width-s)),te=J(x.top,s,Math.max(s,f-x.height-s));t.style.right="auto",t.style.bottom="auto",t.style.left=`${O}px`,t.style.top=`${te}px`}function De(){if(!t||t.style.display==="none")return;const s=t.getBoundingClientRect();V(s.left,s.top,s.width,s.height)}window.addEventListener("resize",()=>{de(),De()}),(Pt=window.visualViewport)==null||Pt.addEventListener("resize",()=>{de(),De()}),window.addEventListener("orientationchange",()=>{de(),De()}),a.addEventListener("click",()=>{var s,l;try{(s=i==null?void 0:i.stopVideo)==null||s.call(i),(l=i==null?void 0:i.destroy)==null||l.call(i)}catch{}i=null,w=!1,L=0,ce(),ee(),ie(!1),oe(!1),M=[],q=-1,H(!1)}),o.addEventListener("click",()=>{oe(!0)}),E.addEventListener("click",()=>{var s,l;try{(s=i==null?void 0:i.stopVideo)==null||s.call(i),(l=i==null?void 0:i.destroy)==null||l.call(i)}catch{}i=null,w=!1,L=0,ce(),ee(),ie(!1),oe(!1),M=[],q=-1,H(!1)}),c.addEventListener("click",()=>{var l,f;if(!w||!i)return;(i.getPlayerState?i.getPlayerState():-1)===YT.PlayerState.PLAYING?((l=i.pauseVideo)==null||l.call(i),le(!1),H(!1)):((f=i.playVideo)==null||f.call(i),le(!0),H(!0))}),u.addEventListener("click",()=>{M.length&&X(q>0?q-1:ne?M.length-1:0)}),y.addEventListener("click",()=>{M.length&&X(q<M.length-1?q+1:ne?0:q)}),v.addEventListener("click",()=>{var s,l;i&&(p=!p,p?(s=i.mute)==null||s.call(i):(l=i.unMute)==null||l.call(i),Oe(p))}),h.addEventListener("input",()=>{var l,f,x;const s=Number(h.value)||0;D=s,ot||(l=i==null?void 0:i.setVolume)==null||l.call(i,s),s===0&&!p?(p=!0,(f=i==null?void 0:i.mute)==null||f.call(i),Oe(!0)):s>0&&p&&(p=!1,(x=i==null?void 0:i.unMute)==null||x.call(i),Oe(!1)),re(s)}),b.addEventListener("input",()=>{ae=!0;const s=Number(b.value)||0,l=L>0?s/1e3*L:0;A.textContent=lt(l)}),b.addEventListener("change",()=>{var f;if(ae=!1,!i||!L)return;const l=(Number(b.value)||0)/1e3*L;(f=i.seekTo)==null||f.call(i,l,!0)});async function _n(s){const l=Ct(s);l&&(M=[l],q=0,oe(!1),ie(!0),Ie(),await X(0))}async function Ln(s,l={}){const f=(s||[]).map(Ct).filter(Boolean);if(!f.length)return;ne=!!l.loop,M=l.shuffle?Xn(f):f.slice();const O=J(Number(l.startIndex??0)||0,0,M.length-1);oe(!1),ie(!0),Ie(),await X(O)}function En(){M.length&&X(q<M.length-1?q+1:ne?0:q)}function An(){M.length&&X(q>0?q-1:ne?M.length-1:0)}function Sn(){return e.classList.contains("am-player--active")&&!e.classList.contains("am-player--min")}function xn(){oe(!0)}function kn(){a.click()}return Xe={open:_n,openQueue:Ln,next:En,prev:An,minimize:xn,isActive:Sn,close:kn},Xe}let B,Yt,gt,_,ht,ct,ut,Ne=!1,Lt=0,Et=0,K=0,U=0,I=1,vt=0,bt=0,Ue=0,Ze=0;const F=new Map;let He=!1,at=0,At=1;const nt=(e,t,n)=>Math.max(t,Math.min(n,e)),nn=(e,t)=>Math.hypot(e.x-t.x,e.y-t.y),Jn=(e,t)=>({x:(e.x+t.x)/2,y:(e.y+t.y)/2});function Kn(){if(B)return;B=document.createElement("div"),B.className="am-zoom",B.innerHTML=`
    <div class="am-zoom__backdrop"></div>
    <div class="am-zoom__dialog" role="dialog" aria-modal="true" aria-label="Image preview">
      <div class="am-zoom__stage">
        <img class="am-zoom__img" alt="">
      </div>
      <div class="am-zoom__bar">
        <a class="am-zoom__open" href="#" target="_blank" rel="noopener noreferrer">Open original ↗</a>
        <button class="am-zoom__close" type="button" aria-label="Close">×</button>
      </div>
    </div>`,document.body.appendChild(B),Object.assign(B.style,{position:"fixed",inset:"0",zIndex:"6000",display:"none"}),Yt=B.querySelector(".am-zoom__dialog"),Object.assign(Yt.style,{position:"absolute",inset:"0",display:"grid",gridTemplateRows:"1fr auto",gap:"12px",padding:"16px"}),ut=B.querySelector(".am-zoom__backdrop"),Object.assign(ut.style,{position:"absolute",inset:"0",background:"rgba(0,0,0,.7)"}),gt=B.querySelector(".am-zoom__stage"),Object.assign(gt.style,{position:"relative",background:"#000",borderRadius:"12px",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center",minHeight:"240px",height:"calc(100vh - 140px)",touchAction:"none"}),_=B.querySelector(".am-zoom__img"),_.style.maxWidth="100%",_.style.maxHeight="100%",_.style.width="auto",_.style.setProperty("height","auto","important"),_.style.objectFit="contain",_.style.transformOrigin="center center",_.style.willChange="transform",_.style.userSelect="none",_.style.webkitUserDrag="none",_.style.pointerEvents="auto";const e=B.querySelector(".am-zoom__bar");Object.assign(e.style,{display:"flex",justifyContent:"space-between",alignItems:"center",gap:"12px"}),ht=B.querySelector(".am-zoom__open"),ht.style.color="#fff",ct=B.querySelector(".am-zoom__close"),Object.assign(ct.style,{width:"40px",height:"40px",borderRadius:"10px",border:"none",background:"var(--color-affair, #764191)",color:"#fff",cursor:"pointer"}),ut.addEventListener("click",dt),ct.addEventListener("click",dt),B.addEventListener("wheel",er,{passive:!1}),_.addEventListener("dblclick",Zn),_.addEventListener("pointerdown",tr),_.addEventListener("pointermove",nr),_.addEventListener("pointerup",Nt),_.addEventListener("pointercancel",Nt),document.addEventListener("keydown",t=>{t.key==="Escape"&&wt()&&dt()}),window.addEventListener("resize",()=>{wt()&&(rn(),Ee())})}function Un(){const e=_.style.transform;_.style.transform="translate3d(0,0,0) scale(1)";const t=_.getBoundingClientRect();_.style.transform=e,vt=t.width,bt=t.height}function rn(){const e=gt.getBoundingClientRect();Ue=e.width,Ze=e.height}function sn(){if(!vt||!bt||!Ue||!Ze)return;const e=vt*I,t=bt*I;if(e<=Ue)K=0;else{const n=(e-Ue)/2;K=nt(K,-n,n)}if(t<=Ze)U=0;else{const n=(t-Ze)/2;U=nt(U,-n,n)}}function Ee(){sn(),_.style.transform=`translate3d(${K}px, ${U}px, 0) scale(${I})`,_.style.cursor=I>1?Ne?"grabbing":"grab":"zoom-in"}function an(e,t=""){if(!e)return;Kn(),F.clear(),He=!1,at=0,At=1,Ne=!1,Lt=Et=0,K=U=0,I=1,_.src=e,_.alt=t||"",ht.href=e,B.style.display="block";const n=()=>{rn(),Un(),sn(),Ee()};_.complete&&_.naturalWidth>0?requestAnimationFrame(n):_.onload=()=>requestAnimationFrame(n)}function dt(){B&&(B.style.display="none",_.src="",F.clear(),He=!1)}function wt(){return!!(B&&B.style.display!=="none")}function Zn(){I=I>1?1:2,I===1&&(K=0,U=0),Ee()}function er(e){if(!wt())return;e.preventDefault();const t=nt(I+(e.deltaY>0?-.15:.15),1,3),n=_.getBoundingClientRect(),a={x:e.clientX,y:e.clientY},o={x:n.left+n.width/2,y:n.top+n.height/2},c=t/I;K+=(o.x-a.x)*(1-c),U+=(o.y-a.y)*(1-c),I=t,I===1&&(K=0,U=0),Ee()}function tr(e){if(F.set(e.pointerId,{x:e.clientX,y:e.clientY}),_.setPointerCapture(e.pointerId),F.size===2){const[t,n]=Array.from(F.values());He=!0,at=nn(t,n)||1,At=I,Ne=!1;return}F.size===1&&I>1&&(Ne=!0,Lt=e.clientX-K,Et=e.clientY-U,Ee())}function nr(e){if(F.has(e.pointerId)){if(F.set(e.pointerId,{x:e.clientX,y:e.clientY}),He&&F.size>=2){const[t,n]=Array.from(F.values()),a=nn(t,n)||1;let o=nt(At*(a/at),1,3);const c=Jn(t,n),u=_.getBoundingClientRect(),y={x:u.left+u.width/2,y:u.top+u.height/2},v=o/I;K+=(y.x-c.x)*(1-v),U+=(y.y-c.y)*(1-v),I=o,I===1&&(K=0,U=0),Ee();return}Ne&&F.size===1&&I>1&&(K=e.clientX-Lt,U=e.clientY-Et,Ee())}}function Nt(e){F.has(e.pointerId)&&F.delete(e.pointerId);try{_.releasePointerCapture(e.pointerId)}catch{}F.size<2&&(He=!1,at=0),F.size===0&&(Ne=!1,Ee())}const rr={BASE_URL:"/ForceTech7-Website2/",DEV:!1,MODE:"production",PROD:!0,SSR:!1};function sr(){try{const t=document.querySelector("base");if(t!=null&&t.href)return new URL(t.getAttribute("href"),location.href).pathname.replace(/\/$/,"")}catch{}const e=typeof import.meta<"u"&&rr?"/ForceTech7-Website2/":"";if(e)return e.replace(/\/$/,"");if(location.hostname.endsWith("github.io")){const t=location.pathname.split("/").filter(Boolean);return t.length?`/${t[0]}`:""}return""}const ar=sr(),Bt=`${ar}/img/sprite.svg`,ir=(e,t="ico")=>`<svg class="${t}" aria-hidden="true"><use href="${Bt}#${e}" xlink:href="${Bt}#${e}"></use></svg>`;function or(e){const t=Number(e);if(!Number.isFinite(t))return"—";const n=Math.round(t/1e3),a=Math.floor(n/60),o=String(n%60).padStart(2,"0");return`${a}:${o}`}function lr(e={}){const t=e.intFormedYear||e.yearStart||e.formedYear,n=e.intDisbandedYear||e.intDiedYear||e.yearEnd||e.disbandedYear;return t&&n?`${t}–${n}`:t?`${t}–present`:"information missing"}function cr(e={}){const t=e.strTrack||e.title||e.name||"—",n=or(e.intDuration??e.duration??e.time),a=e.movie??e.youtube??e.youtube_url??e.url??e.strMusicVid;return`
    <li class="tr">
      <span>${t}</span>
      <span>${n}</span>
      <span>${a?`<a class="yt" href="${a}" target="_blank" rel="noopener noreferrer" aria-label="Play">
               ${ir("icon-icon_youtube_footer","ico am-yt")}
             </a>`:'<span class="yt-ph"></span>'}</span>
    </li>`}function ur(e=document){let t=e.querySelector("#artist-modal");return t||(t=e.createElement("div"),t.id="artist-modal",t.className="amodal",t.setAttribute("hidden",""),t.innerHTML=`
    <div class="amodal__backdrop"></div>
    <div class="amodal__dialog" role="dialog" aria-modal="true" aria-label="Artist details">
      <button id="am-close" class="amodal__close" type="button" aria-label="Close">×</button>
      <div id="am-body" class="amodal__body">
        <div class="amodal__loader loader"></div>
      </div>
    </div>`,e.body.appendChild(t),t)}function on(e=document){const t=(e&&e.querySelector?e.querySelector("#artist-modal"):null)||document.querySelector("#artist-modal")||ur(document),n=t.querySelector("#am-body"),a=t.querySelector("#am-close"),o=t.querySelector(".amodal__dialog"),c=tn();let u=null,y=()=>{},v=null,h=null;function b(){var w;u||(u=document.createElement("button"),u.type="button",u.className="amodal__scrolltop",u.setAttribute("aria-label","Scroll to top"),u.textContent="↑",o.appendChild(u),u.addEventListener("click",()=>{var L;(L=m==null?void 0:m.tap)==null||L.call(m),o.scrollTo({top:0,behavior:"smooth"})}),y=()=>{try{const $=o.getBoundingClientRect(),p=Math.max(24,window.innerWidth-($.left+$.width)+24);u.style.right=`${p}px`,u.style.bottom="58px"}catch{}},v=()=>{try{u.style.display=(o.scrollTop||0)>220?"flex":"none",y()}catch{}},o.addEventListener("scroll",v),h=()=>{y()},window.addEventListener("resize",h),(w=window.visualViewport)==null||w.addEventListener("resize",h),window.addEventListener("orientationchange",h),y())}const A=w=>{var L;w.key==="Escape"&&((L=m==null?void 0:m.tap)==null||L.call(m),P())};function T(){t.removeAttribute("hidden"),jn(),b(),u&&(u.style.display="none"),n.innerHTML='<div class="amodal__loader loader"></div>',document.addEventListener("keydown",A)}function P(){var w;t.setAttribute("hidden",""),en(),n.innerHTML="",document.removeEventListener("keydown",A),v&&(o.removeEventListener("scroll",v),v=null),h&&(window.removeEventListener("resize",h),(w=window.visualViewport)==null||w.removeEventListener("resize",h),window.removeEventListener("orientationchange",h),h=null),y=()=>{},u&&(u.style.display="none")}a.addEventListener("click",()=>{var w;(w=m==null?void 0:m.tap)==null||w.call(m),P()}),t.addEventListener("click",w=>{var L;w.target.classList.contains("amodal__backdrop")&&((L=m==null?void 0:m.tap)==null||L.call(m),P())}),t.addEventListener("click",w=>{var p,D;const L=w.target.closest("a.yt");if(L){w.preventDefault(),(p=m==null?void 0:m.tap)==null||p.call(m),c.open(L.href);return}const $=w.target.closest(".amodal__img");if($){(D=m==null?void 0:m.tap)==null||D.call(m);const ae=$.currentSrc||$.getAttribute("src")||$.getAttribute("data-src")||"";an(ae,$.getAttribute("alt")||"")}});async function E(w){const[L,$]=await Promise.all([Jt(w).catch(()=>({})),Kt(w).catch(()=>[])]),p=L||{},D=p.strArtist||p.name||"Unknown artist",ae=p.strArtistThumb||p.photo||p.image||"https://via.placeholder.com/960x540?text=No+Image",M=p.strCountry||p.country||"N/A",q=p.intMembers||p.members||"N/A",ne=p.strGender||p.sex||"N/A",Ae=p.strBiographyEN||p.about||"",W=Array.isArray(p.genres)?p.genres:p.genre?[p.genre]:[],ge=(Array.isArray($)?$:[]).map(S=>{const Z=(S==null?void 0:S.strAlbum)||(S==null?void 0:S.title)||(S==null?void 0:S.name)||"Album",he=Array.isArray(S==null?void 0:S.tracks)?S.tracks:Array.isArray(S==null?void 0:S.songs)?S.songs:[];return`
        <div class="am-album">
          <div class="am-album__title">${Z}</div>
          <ul class="tbl">
            <li class="th"><span>Track</span><span>Time</span><span>Link</span></li>
            ${he.map(cr).join("")}
          </ul>
        </div>`}).join("");n.innerHTML=`
      <h3 class="amodal__title">${D}</h3>

      <div class="amodal__content">
        <img class="amodal__img" src="${ae}" alt="${D}" loading="lazy">
        <div class="amodal__info">
          <div class="am-meta">
            <div class="am-meta__col">
              <div class="am-meta__item"><span class="lbl">Years active</span><span class="val">${lr(p)}</span></div>
              <div class="am-meta__item"><span class="lbl">Sex</span><span class="val">${ne}</span></div>
            </div>
            <div class="am-meta__col">
              <div class="am-meta__item"><span class="lbl">Members</span><span class="val">${q}</span></div>
              <div class="am-meta__item"><span class="lbl">Country</span><span class="val">${M}</span></div>
            </div>
          </div>

          <div class="am-bio">
            <div class="lbl">Biography</div>
            <p>${Ae||"—"}</p>
          </div>

          ${W.length?`<div class="am-tags">${W.map(S=>`<span class="tag">${S}</span>`).join("")}</div>`:""}
        </div>
      </div>

      <h4 class="amodal__albums-title">Albums</h4>
      <div class="amodal__albums">
        ${ge||"<p class='muted'>No albums found for this artist.</p>"}
      </div>`}async function i(w){var L;(L=m==null?void 0:m.tap)==null||L.call(m),T(),await E(w)}return{openFor:i,close:P}}const dr={BASE_URL:"/ForceTech7-Website2/",DEV:!1,MODE:"production",PROD:!0,SSR:!1};function mr(){try{const t=document.querySelector("base");if(t!=null&&t.href)return new URL(t.getAttribute("href"),location.href).pathname.replace(/\/$/,"")}catch{}const e=typeof import.meta<"u"&&dr?"/ForceTech7-Website2/":"";if(e)return e.replace(/\/$/,"");if(location.hostname.endsWith("github.io")){const t=location.pathname.split("/").filter(Boolean);return t.length?`/${t[0]}`:""}return""}const fr=mr(),Ot=`${fr}/img/sprite.svg`,pr=(e,t="ico")=>`<svg class="${t}" aria-hidden="true"><use href="${Ot}#${e}" xlink:href="${Ot}#${e}"></use></svg>`,ln="artistsViewMode",mt=8,It=14,Dt=()=>localStorage.getItem(ln)==="list"?"list":"grid",yr=e=>{try{localStorage.setItem(ln,e)}catch{}};function gr(e=document.querySelector("#artists-section")){var Ie;if(!e)return;const t=e.querySelector("#filters-panel"),n=e.querySelector("#filters-toggle"),a=e.querySelector("#filters-reset"),o=e.querySelector("#filters-reset-sm");let c=e.querySelector("#view-toggle");const u=e.querySelector("#flt-q"),y=e.querySelector("#flt-q-btn"),v=e.querySelector('.dd[data-dd="sort"]'),h=e.querySelector("#dd-sort-btn"),b=e.querySelector("#dd-sort-list"),A=e.querySelector('.dd[data-dd="genre"]'),T=e.querySelector("#dd-genre-btn"),P=e.querySelector("#dd-genre-list"),E=e.querySelector("#artists-grid"),i=e.querySelector("#artists-pager"),w=e.querySelector("#artists-empty"),L=on(document);let $=0;const p=r=>r&&r.removeAttribute("hidden"),D=r=>r&&r.setAttribute("hidden",""),ae=()=>matchMedia("(min-width:1440px)").matches,M=r=>((r==null?void 0:r.strArtist)||(r==null?void 0:r.name)||"").toLowerCase();function q(){const r=N.get();ae()?(t==null||t.setAttribute("aria-hidden","false"),n==null||n.setAttribute("aria-expanded","false"),N.setMobilePanel(!1)):(t==null||t.setAttribute("aria-hidden",r.isMobilePanelOpen?"false":"true"),n==null||n.setAttribute("aria-expanded",r.isMobilePanelOpen?"true":"false"))}function ne(){const r=e.getBoundingClientRect().top+window.scrollY-16;window.scrollTo({top:r,behavior:"smooth"})}function Ae(r){r?(p(w),D(E),D(i),W()):(D(w),p(E))}function W(){E.style.height="",E.style.overflow="",E.style.transition="",E.style.willChange=""}function Be(){return`
      <li class="card card--skel">
        <div class="card__media skel skel--media"></div>
        <div class="card__tags">
          <span class="tag skel skel--tag"></span>
          <span class="tag skel skel--tag"></span>
        </div>
        <div class="skel skel--title"></div>
        <div class="skel skel--text"></div>
      </li>`}function ge(r){const d=Math.max(1,Number(r)||mt);E.innerHTML=new Array(d).fill(0).map(Be).join(""),p(E),D(w),D(i)}function S(){E.querySelectorAll("img.img-fade").forEach(d=>{const g=()=>d.classList.add("is-loaded");d.complete&&d.naturalWidth>0?g():d.addEventListener("load",g,{once:!0})})}let Z=null;function he(r){const d=r??E.getBoundingClientRect().height;E.style.willChange="height",E.style.overflow="hidden",E.style.transition="none",E.style.height=`${Math.max(1,Math.round(d||0))}px`}function ie(){W()}function oe(r){r(),E.offsetHeight;const d=E.scrollHeight;E.style.transition="height 200ms ease",E.style.height=`${d}px`;const g=Y=>{Y.target!==E||Y.propertyName!=="height"||(E.removeEventListener("transitionend",g),ie())};E.addEventListener("transitionend",g),clearTimeout(Z),Z=setTimeout(ie,400)}function le(r){const d=(r==null?void 0:r.id)||(r==null?void 0:r._id)||(r==null?void 0:r.artistId)||"",g=(r==null?void 0:r.strArtist)||(r==null?void 0:r.name)||"Unknown",Y=(r==null?void 0:r.strArtistThumb)||(r==null?void 0:r.photo)||(r==null?void 0:r.image)||"https://via.placeholder.com/960x540?text=No+Image",G=(r==null?void 0:r.strBiographyEN)||(r==null?void 0:r.about)||"",V=Array.isArray(r==null?void 0:r.genres)?r.genres:r!=null&&r.genre?[r.genre]:[];return`
      <li class="card" data-id="${d}">
        <div class="card__media">
          <img
            class="img-fade"
            src="${Y}"
            srcset="${Y} 1x, ${Y} 2x"
            sizes="(min-width:1440px) 50vw, (min-width:768px) 704px, 100vw"
            alt="${g}"
            loading="lazy"
          >
        </div>
        <div class="card__tags">${V.map(C=>`<span class="tag">${C}</span>`).join("")}</div>
        <h3 class="card__title">${g}</h3>
        <p class="card__text">${G}</p>
        <button class="card__link" data-action="more">
          Learn More
          ${pr("icon-icon_play_artists_sections")}
        </button>
      </li>`}function Oe(r){E.innerHTML=r.map(le).join(""),S()}function Ge(r,d){if(d<=0){i.innerHTML="",D(i);return}if(d===1){i.innerHTML='<button class="active" data-page="1" disabled>1</button>',p(i);return}const g=(C,Se,be=!1,H=!1)=>`<button ${be?"disabled":""} data-page="${Se}" class="${H?"active":""}">${C}</button>`,Y=2,G=Math.max(1,r-Y),V=Math.min(d,r+Y),R=[];R.push(g("‹",Math.max(1,r-1),r===1,!1)),G>1&&(R.push(g("1",1,!1,r===1)),G>2&&R.push('<button class="dots">…</button>'));for(let C=G;C<=V;C++)R.push(g(String(C),C,!1,C===r));V<d&&(V<d-1&&R.push('<button class="dots">…</button>'),R.push(g(String(d),d,!1,r===d))),R.push(g("›",Math.min(d,r+1),r===d,!1)),i.innerHTML=R.join(""),p(i)}async function ce(){try{A==null||A.classList.add("loading"),T==null||T.setAttribute("aria-busy","true"),T&&(T.disabled=!0),P.innerHTML=`
        <li class="dd__loading">
          <span class="dd__spinner" aria-hidden="true"></span>
          <span>Loading…</span>
        </li>`;const r=await Fn();P.innerHTML=r.map(d=>`<li data-val="${d}">${d}</li>`).join("")}catch{P.innerHTML='<li data-val="">All Genres</li>'}finally{A==null||A.classList.remove("loading"),T==null||T.removeAttribute("aria-busy"),T&&(T.disabled=!1)}}async function j(r=!0){var H;const d=++$,{page:g,limit:Y,genre:G,sort:V,q:R}=N.get();he(E.getBoundingClientRect().height),ge(Y),D(i);let C=[],Se=0;try{const re=await Hn({page:g,limit:Y,genre:G||"",sort:V||"",name:((H=R==null?void 0:R.trim)==null?void 0:H.call(R))||""});if(d!==$)return;C=Array.isArray(re.artists)?re.artists:[],Se=Number(re.totalArtists||C.length||0)}catch{if(d!==$)return;C=[],Se=0}let be=Math.max(1,Math.ceil(Se/Y));if(g>be&&r)return N.setPage(be),j(!1);if(g<1&&r)return N.setPage(1),j(!1);if(V==="asc"&&(C=C.slice().sort((re,de)=>M(re).localeCompare(M(de)))),V==="desc"&&(C=C.slice().sort((re,de)=>M(de).localeCompare(M(re)))),d===$){if(!C.length){E.innerHTML="",Ae(!0),ie();return}Ae(!1),oe(()=>Oe(C)),Ge(N.get().page,be)}}function ee(r){[v,A].forEach(d=>{if(d!==r){d.classList.remove("open");const g=d.querySelector(".dd__list");g&&(g.style.display="none")}})}function ue(r){const d=!r.classList.contains("open");ee(r),r.classList.toggle("open",d);const g=r.querySelector(".dd__list");g&&(g.style.display=d?"block":"none")}n==null||n.addEventListener("click",()=>{m.tap();const r=N.get();N.setMobilePanel(!r.isMobilePanelOpen),q()}),addEventListener("resize",q),h==null||h.addEventListener("click",()=>{m.tap(),ue(v)}),T==null||T.addEventListener("click",()=>{m.tap(),ue(A)}),document.addEventListener("click",r=>{r.target.closest(".dd")||ee()}),b==null||b.addEventListener("click",r=>{const d=r.target.closest("li");d&&(m.tap(),N.setSort(d.dataset.val||""),ue(v),j())}),P==null||P.addEventListener("click",r=>{const d=r.target.closest("li");if(!d)return;m.tap();const g=d.dataset.val||"";N.setGenre(g==="All Genres"?"":g),ue(A),j(),h==null||h.focus()});function Qe(){m.tap(),N.setQuery((u==null?void 0:u.value.trim())||""),j()}y==null||y.addEventListener("click",Qe),u==null||u.addEventListener("keydown",r=>{r.key==="Enter"&&Qe()});function X(){N.reset();const r=Dt();N.setLimit(r==="list"?It:mt),u&&(u.value=""),ee(),j()}a==null||a.addEventListener("click",()=>{m.tap(),X()}),o==null||o.addEventListener("click",()=>{m.tap(),X(),N.setMobilePanel(!1),q()}),(Ie=e.querySelector("#empty-reset"))==null||Ie.addEventListener("click",()=>{m.tap(),X()}),i==null||i.addEventListener("click",r=>{const d=r.target.closest("button[data-page]");if(!d||d.disabled)return;const g=Number(d.dataset.page)||1;g!==N.get().page&&(m.page(),ne(),N.setPage(g),j())});const Me=e.closest(".artists1")||e;function qe(){let r=c;if(!r){r=document.createElement("button"),r.id="view-toggle",r.type="button",r.className="btn view-toggle",r.style.display="inline-flex",r.style.alignItems="center",r.style.gap="6px",r.style.padding="8px 12px",r.style.borderRadius="8px",r.style.border="1px solid rgba(255,255,255,0.25)",r.style.background="transparent",r.style.color="var(--color-white, #fff)",r.style.font="500 14px/1.2 system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif";const d=t||e;d.firstElementChild?d.insertBefore(r,d.firstElementChild):d.appendChild(r),c=r}return r}function ve(r){const d=r==="list";Me.classList.toggle("view-list",d),Me.classList.toggle("view-grid",!d),c.setAttribute("aria-pressed",String(d)),c.textContent=d?"Default view":"List view",N.setLimit(d?It:mt),yr(r)}qe(),c.addEventListener("click",()=>{m.tap();const r=Me.classList.contains("view-list")?"grid":"list";ve(r),N.setPage(1),j()}),ve(Dt()),E.addEventListener("click",r=>{var Y,G;const d=r.target.closest('[data-action="more"]');if(d){const V=(G=(Y=d.closest(".card"))==null?void 0:Y.dataset)==null?void 0:G.id;if(!V)return;m.tap(),L.openFor(V);return}const g=r.target.closest(".card__media img");if(g){m.tap();const V=g.currentSrc||g.src||g.getAttribute("src")||"";an(V,g.getAttribute("alt")||"")}}),q(),ce(),j()}function hr(){const e=new URLSearchParams(location.search),t=(e.get("q")||"").trim(),n=e.get("genre")||"",a=e.get("sort")||"",o=Math.max(1,Number(e.get("page")||1));return{q:t,genre:n,sort:a,page:o}}function vr(e){const t=new URLSearchParams;return e.q&&t.set("q",e.q),e.genre&&t.set("genre",e.genre),e.sort&&t.set("sort",e.sort),e.page&&e.page!==1&&t.set("page",String(e.page)),t.toString()}function br(){const e=hr(),t=Gn(),n={};let a=!1;for(const c of["q","genre","sort","page"])e[c]!==void 0&&e[c]!==t[c]&&(n[c]=e[c],a=!0);a&&Qn(n);let o=null;Wn(c=>{const u=vr(c);if(u===o)return;o=u;const y=u?`?${u}`:location.pathname;history.replaceState(null,"",y)})}const Rt=new Map;function wr(e){const t=e.querySelector("#artists-grid");if(!t)return;let n=null,a=null;function o(c){clearTimeout(n),n=setTimeout(async()=>{try{if(Rt.has(c))return;const[u,y]=await Promise.all([Jt(c),Kt(c)]);Rt.set(c,{artist:u,albums:y,ts:Date.now()})}catch{}},150)}t.addEventListener("mouseenter",c=>{var v,h;const u=c.target.closest('[data-action="more"]');if(!u)return;const y=(h=(v=u.closest(".card"))==null?void 0:v.dataset)==null?void 0:h.id;y&&(a=String(y),o(a))},!0),t.addEventListener("mouseleave",c=>{c.target.closest('[data-action="more"]')&&(clearTimeout(n),n=null,a=null)},!0)}function _r(e=document.querySelector("#artists-section")){e&&(br(),on(e),wr(e),gr(e))}function Lr(e){if(!e)return"";if(/^[\w-]{11}$/.test(e))return e;try{const t=new URL(e,location.href);if(/youtu\.be$/.test(t.hostname))return t.pathname.slice(1);if(t.searchParams.get("v"))return t.searchParams.get("v");const n=t.pathname.match(/\/(embed|shorts|v)\/([^/?#]+)/);return n?n[2]:""}catch{return""}}const it=e=>Array.from(new Set(e.filter(Boolean)));function Er(e){const t=e.slice();for(let n=t.length-1;n>0;n--){const a=Math.random()*(n+1)|0;[t[n],t[a]]=[t[a],t[n]]}return t}const Ar=it(["Zi_XLOBDo_Y","3JZ_D3ELwOQ","fRh_vgS2dFE","OPf0YbXqDm0","60ItHLz5WEA","2Vv-BfVoq4g","kXYiU_JCYtU","UceaB4D0jpo","RubBzkZzpUA","kJQP7kiw5Fk","CevxZvSJLk8","pRpeEdMmmQ0","IcrbM1l_BoI","YVkUvmDQ3HY","hT_nvWreIhg","09R8_2nJtjg","uelHwf8o7_U","JGwWNGJdvx8","YQHsXMglC9A","NmugSMBh_iI","LrUvu1mlWco","hLQl3WQQoQ0","RgKAFK5djSk","SlPhMPnQ58k","oRdxUFDoQe0","09z7j-LPz1E","Pkh8UtuejGw","tt2k8PGm-TI","lY2yjAdbvdQ","pXRviuL6vMY","09tj3yqpP5g","nfs8NYg7yQM","nCkpzqqog4k","M7lc1UVf-VE","fLexgOxsZu0","2vjPBrBU-TM","JGwWNGJdvx8","9bZkp7q19f0","e-ORhEE9VVg","hLQl3WQQoQ0","OPf0YbXqDm0","dQw4w9WgXcQ","Zi_XLOBDo_Y","gCYcHz2k5x0","ktvTqknDobU","ub82Xb1C8os","ktvTqknDobU","fKopy74weus","uelHwf8o7_U","Qv5fqunQ_4I","IcrbM1l_BoI","2vjPBrBU-TM","kXYiU_JCYtU","CevxZvSJLk8","kJQP7kiw5Fk","hT_nvWreIhg","vNoKguSdy4Y","0KSOMA3QBU0","lp-EO5I60KA","DK_0jXPuIr0","tVj0ZTS4WF4","6fVE8kSM43I","SlPhMPnQ58k","6Ejga4kJUts","JGwWNGJdvx8","gGdGFtwCNBE","YVkUvmDQ3HY","rYEDA3JcQqw","AtKZKl7Bgu0","0KSOMA3QBU0","ktvTqknDobU","hT_nvWreIhg","eVTXPUF4Oz4","kffacxfA7G4"]),cn="am.radio.pool",Vt="am.radio.last";function un(){try{const e=localStorage.getItem(cn),t=e?JSON.parse(e):[];return Array.isArray(t)?it(t):[]}catch{return[]}}function Sr(e){try{localStorage.setItem(cn,JSON.stringify(it(e).slice(0,800)))}catch{}}function zt(e){if(!(e!=null&&e.length))return;const t=new Set(un());e.forEach(n=>t.add(n)),Sr([...t])}function _t(e=document){const t=new Set;return e.querySelectorAll('a[href*="youtu"], a.yt').forEach(n=>{const a=n.getAttribute("href")||"",o=Lr(a);o&&t.add(o)}),[...t]}function xr(){zt(_t()),new MutationObserver(t=>{let n=[];for(const a of t)a.addedNodes&&a.addedNodes.forEach(o=>{o.nodeType===1&&(n=n.concat(_t(o)))});n.length&&zt(n)}).observe(document.documentElement,{childList:!0,subtree:!0})}function kr(){const e=un(),t=_t();return it([...Ar,...e,...t])}function Tr(e){const t=kr();if(!t.length)return;let n=Er(t);const a=localStorage.getItem(Vt);a&&n.length>1&&n[0]===a&&n.push(n.shift()),localStorage.setItem(Vt,n[0]),e.openQueue(n,{shuffle:!1,loop:!0,startIndex:0})}document.addEventListener("DOMContentLoaded",()=>{try{_r()}catch{}const e=tn();xr();const t=document.querySelector("#random-radio");t&&t.addEventListener("click",n=>{var a,o;n.preventDefault(),(a=e.isActive)!=null&&a.call(e)?(o=e.next)==null||o.call(e):Tr(e)})});const z={openBtn:document.querySelector("[data-menu-open]"),closeBtn:document.querySelector("[data-menu-close]"),menu:document.querySelector("[data-menu]"),links:document.querySelectorAll("[data-menu-link]"),logos:document.querySelectorAll(".header-logo"),header:document.querySelector(".header")};function Mr(){var e;z.menu&&(z.menu.hidden=!1,z.menu.classList.add("show"),document.body.style.overflow="hidden",(e=z.openBtn)==null||e.setAttribute("aria-expanded","true"))}function Fe(){return new Promise(e=>{if(!z.menu)return e();z.menu.classList.remove("show"),setTimeout(()=>{var t;z.menu.hidden=!0,document.body.style.overflow="",(t=z.openBtn)==null||t.setAttribute("aria-expanded","false"),e()},400)})}function St(){var e;return(((e=z.header)==null?void 0:e.offsetHeight)||80)+8}function xt(){document.documentElement.style.scrollPaddingTop=`${St()}px`}xt();window.addEventListener("resize",()=>requestAnimationFrame(xt));function kt(e,t=500){const n=(e||"").replace("#",""),a=document.getElementById(n)||document.getElementById(`${n}-section`);if(!a)return;const o=St(),c=a.getBoundingClientRect().top+window.pageYOffset-o,u=window.pageYOffset,y=c-u;let v=null;const h=A=>A<.5?2*A*A:1-Math.pow(-2*A+2,2)/2;function b(A){v===null&&(v=A);const T=Math.min(1,(A-v)/t);window.scrollTo(0,u+y*h(T)),T<1?requestAnimationFrame(b):(a.setAttribute("tabindex","-1"),a.focus({preventScroll:!0}),setTimeout(()=>a.removeAttribute("tabindex"),0))}requestAnimationFrame(b)}var Ft;(Ft=z.openBtn)==null||Ft.addEventListener("click",Mr);var Wt;(Wt=z.closeBtn)==null||Wt.addEventListener("click",Fe);z.logos.forEach(e=>{e.addEventListener("click",t=>{e.closest(".mobile-menu")&&(t.preventDefault(),Fe(),setTimeout(()=>{window.location.href=e.getAttribute("href")},400))})});var Gt;(Gt=z.menu)==null||Gt.addEventListener("click",e=>{e.target===z.menu&&Fe()});document.addEventListener("keydown",e=>{var t;e.key==="Escape"&&((t=z.menu)!=null&&t.classList.contains("show"))&&Fe()});const Tt=document.querySelectorAll(".header-nav-link, .mobile-menu-nav-link"),Ve=new Map;Tt.forEach(e=>{const t=(e.getAttribute("href")||"").trim();if(!t.startsWith("#"))return;const n=t.slice(1),a=document.getElementById(n)||document.getElementById(`${n}-section`);a&&(Ve.has(a)||Ve.set(a,[]),Ve.get(a).push(e))});let Ht=null;function dn(e){!e||Ht===e||(Tt.forEach(t=>t.classList.remove("active")),(Ve.get(e)||[]).forEach(t=>t.classList.add("active")),Ht=e)}let mn=0;const qr=700,Pr=()=>Date.now()<mn;let Je;function fn(){Je&&Je.disconnect();const e=`-${St()}px 0px -55% 0px`,t=new Map;Je=new IntersectionObserver(n=>{if(n.forEach(o=>{t.set(o.target,o.isIntersecting?o.intersectionRatio:0)}),Pr())return;const a=[...t.entries()].sort((o,c)=>c[1]-o[1])[0];a&&a[1]>0&&dn(a[0])},{root:null,rootMargin:e,threshold:[0,.25,.5,.75,1]}),Ve.forEach((n,a)=>Je.observe(a))}fn();window.addEventListener("resize",()=>requestAnimationFrame(fn));Tt.forEach(e=>{e.addEventListener("click",t=>{if(e.matches("[data-menu-link]"))return;const n=(e.getAttribute("href")||"").trim();if(!n.startsWith("#"))return;t.preventDefault(),e.blur();const a=n.slice(1),o=document.getElementById(a)||document.getElementById(`${a}-section`);o&&(dn(o),mn=Date.now()+qr,kt(n))})});z.links.forEach(e=>e.addEventListener("click",async t=>{t.preventDefault(),e.blur();const n=e.getAttribute("href");await Fe(),kt(n)}));window.addEventListener("load",()=>{xt(),location.hash&&setTimeout(()=>kt(location.hash),0)});const ke=document.querySelector(".overlay"),$r=document.querySelector(".feedback-btn"),Cr=document.querySelector(".close-icon"),et=document.querySelector("#feedback-form"),We=document.querySelector(".feedback-section"),pn=document.querySelector(".form-input-name"),yn=document.querySelector(".form-input-message"),Mt="myFeedback";let ze=0;$r.addEventListener("click",e=>{e.preventDefault(),ze=window.scrollY,document.body.style.position="fixed",document.body.style.top=`-${ze}px`,document.body.style.left="0",document.body.style.right="0",ke.classList.remove("hidden"),We.classList.add("hidden"),Ir()});Cr.addEventListener("click",e=>{ke.classList.add("hidden"),We.classList.remove("hidden"),document.body.style.position="",window.scrollTo(0,ze),pe(document.getElementById("customer-rating",0))});ke.addEventListener("click",e=>{e.target===ke&&(ke.classList.add("hidden"),We.classList.remove("hidden"),document.body.style.position="",window.scrollTo(0,ze),pe(document.getElementById("customer-rating",0)))});document.addEventListener("keydown",e=>{e.key==="Escape"&&(ke.classList.add("hidden"),We.classList.remove("hidden"),document.body.style.position="",window.scrollTo(0,ze),pe(document.getElementById("customer-rating",0)))});function pe(e,t){e.innerHTML="";for(let n=1;n<=5;n++){const a=document.createElement("span");a.classList.add("star"),n<=t&&a.classList.add("filled"),e.appendChild(a),e.id==="customer-rating"&&(a.addEventListener("click",o=>{e.dataset.rating=n,pe(e,n),Or()}),a.addEventListener("mouseenter",o=>{Yr(e,n)}),a.addEventListener("mouseleave",o=>{const c=parseInt(ye.dataset.rating)||0;pe(e,c)}))}}function Yr(e,t){e.querySelectorAll(".star").forEach((a,o)=>{o<t?a.classList.add("filled"):a.classList.remove("filled")})}const ye=document.getElementById("customer-rating");pe(ye,parseInt(ye.dataset.rating)||0);const Te=new qn(".swiper",{slidesPerView:1,spaceBetween:20,loop:!1,grabCursor:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",clickable:!0}});document.querySelector(".swiper-button-prev").addEventListener("click",()=>{Te.slidePrev()});document.querySelector(".swiper-button-next").addEventListener("click",()=>{Te.slideNext()});const Nr=document.querySelector(".swiper-pagination");Nr.innerHTML=`
  <span class="swiper-dots"></span>
    <span class="swiper-dots"></span>
  <span class="swiper-dots"></span>`;function gn(e){const t=document.querySelectorAll(".swiper-dots");t.forEach(n=>n.classList.remove("active")),t[e-1]&&t[e-1].classList.add("active")}function hn(e){return e===0?1:e===9?3:2}gn(hn(Te.realIndex));const Br=document.querySelectorAll(".swiper-dots");Br.forEach((e,t)=>{e.addEventListener("click",n=>{let a=0;t===0?a=0:t===1?a=1:t===2&&(a=9),Te.slideTo(a)})});Te.on("slideChange",e=>{const t=Te.realIndex;gn(hn(t))});async function vn(){const e=document.querySelector(".swiper-wrapper");try{(await(await fetch("https://sound-wave.b.goit.study/api/feedbacks")).json()).data.slice(0,10).forEach((o,c)=>{const u=Math.round(o.rating),y=document.createElement("div");y.classList.add("swiper-slide"),y.innerHTML=`<div class="rating" id="rating-${c}" data-rating="${u}"></div>
                <div class="feedback">
                    <p class="customer-feedback">${o.descr}</p>
                    <h3 class="customer-name">${o.name}</h3>
                </div>`,e.appendChild(y);const v=y.querySelector(".rating");pe(v,u)}),Te.update()}catch{Ce.error({title:"Error",message:"Bad request (invalid request params)"})}}function Or(){const e={name:pn.value.trim(),message:yn.value.trim(),rating:Math.round(ye.dataset.rating)||0};localStorage.setItem(Mt,JSON.stringify(e))}function Ir(){const e=JSON.parse(localStorage.getItem(Mt));e&&(e.name&&(pn.value=e.name),e.message&&(yn.value=e.message),e.rating&&(ye.dataset.rating=e.rating),pe(ye,e.rating))}function Dr(){localStorage.removeItem(Mt),et.reset(),ye.dataset.rating=0,pe(ye,0)}et.addEventListener("submit",async e=>{e.preventDefault();const t=et.querySelector(".form-input-name").value.trim(),n=et.querySelector(".form-input-message").value.trim(),a=Math.round(ye.dataset.rating)||0;if(console.log("Name:",t),console.log("Message:",n),console.log("Rating:",a),!t||t.length<2||t.length>16)return Ce.error({message:"Shortest name - 2 letters; Largest name - 16 letters"});if(!n||n.length<10||n.length>512)return Ce.error({message:"Min message - 10 symbols; Max message - 512 symbols"});if(a<1||a>5)return Ce.error({message:"Rating must be between '1' and '5'"});try{(await fetch("https://sound-wave.b.goit.study/api/feedbacks",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({name:t,descr:n,rating:a})})).ok||Ce.error({title:"Error:",message:"${response.status}"}),Dr(),ke.classList.add("hidden"),We.classList.remove("hidden"),document.body.classList.remove("no-scroll"),vn()}catch{Ce.error({message:"Bad request (invalid request body)"})}});document.addEventListener("DOMContentLoaded",vn);const bn=["a[href]","button",'[role="button"]','input[type="button"]','input[type="submit"]','input[type="reset"]',"summary",".sfx-click"].join(","),wn=[".no-sfx",'[data-sfx="off"]','[disabled],[aria-disabled="true"]','input[type="range"]',".am-player__dragzone"].join(","),Ye={enabled:localStorage.getItem("sfx")!=="off",lastAt:0,playOnce(){var t;if(!this.enabled)return;const e=performance.now();if(!(e-this.lastAt<80)){this.lastAt=e;try{(t=m==null?void 0:m.tap)==null||t.call(m)}catch{try{const n=new(window.AudioContext||window.webkitAudioContext),a=n.createOscillator(),o=n.createGain();a.type="triangle",a.frequency.value=660,o.gain.setValueAtTime(.06,n.currentTime),o.gain.exponentialRampToValueAtTime(1e-4,n.currentTime+.06),a.connect(o).connect(n.destination),a.start(),a.stop(n.currentTime+.07)}catch{}}}}};document.addEventListener("click",e=>{if(!e.isTrusted||e.button!==0||e.metaKey||e.ctrlKey||e.altKey)return;const t=e.target.closest(bn);t&&(t.matches(wn)||Math.abs(e.movementX||0)>2||Math.abs(e.movementY||0)>2||Ye.playOnce())},{capture:!0});document.addEventListener("keydown",e=>{if(!Ye.enabled||!(e.key==="Enter"||e.key===" "))return;const t=e.target.closest(bn);!t||t.matches(wn)||Ye.playOnce()},{capture:!0});window.SFX={enable(){Ye.enabled=!0,localStorage.setItem("sfx","on")},disable(){Ye.enabled=!1,localStorage.setItem("sfx","off")},toggle(){Ye.enabled?this.disable():this.enable()}};
//# sourceMappingURL=index.js.map
